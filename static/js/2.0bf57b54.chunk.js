/*! For license information please see 2.0bf57b54.chunk.js.LICENSE.txt */
(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[2],[function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return v})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return _})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return E})),n.d(e,"__importStar",(function(){return k})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return T})),n.d(e,"__classPrivateFieldSet",(function(){return I}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,i){e(n,i,t)}}function l(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{u(i.next(t))}catch(e){o(e)}}function a(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}function f(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=r[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(i){c(o[0][3],i)}var n}function u(t){a("next",t)}function l(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:m(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){(function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)})(i,r,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function I(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e,n){"use strict";t.exports=n(35)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,o=n(0),s=n(7),a=n(5),u=n(12),l=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),c=new s.ErrorFactory("app","Firebase",l),h=((r={})["@firebase/app"]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),d=new u.Logger("@firebase/app"),f=function(){function t(t,e,n){var i,r,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var l=o.__values(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next()){var h=c.value;this._addComponent(h)}}catch(d){i={error:d}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={});if("object"!==typeof r||null===r){r={name:r}}var o=r;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!==typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw c.create("duplicate-app",{appName:a});var u=new t(n,o,i);return e[a]=u,u},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=h[t])&&void 0!==i?i:t;n&&(r+="-"+n);var o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+r+'" with version "'+e+'":'];return o&&u.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}l(new a.Component(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw c.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.16.0",INTERNAL:{registerComponent:l,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function r(t){if(t=t||"[DEFAULT]",!s.contains(e,t))throw c.create("no-app",{appName:t});return e[t]}function l(a){var u,l,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?i[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=r()),"function"!==typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(f,a.serviceProps),i[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),v=p.next();!v.done;v=p.next()){var g=v.value;e[g]._addComponent(a)}}catch(y){u={error:y}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?i[h]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),r.App=t,i}(f);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var m=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.8",e),t.registerVersion("fire-js","")}(m),e.default=m,e.firebase=m},function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return m}));var i=n(8),r=n(1),o=n.n(r),s=(n(16),n(10)),a=n(21),u=n(9),l=n(4),c=n(22),h=n.n(c),d=(n(25),n(14)),f=(n(31),function(t){var e=Object(a.a)();return e.displayName=t,e}("Router-History")),p=function(t){var e=Object(a.a)();return e.displayName=t,e}("Router"),v=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}Object(i.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(p.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(f.Provider,{children:this.props.children||null,value:this.props.history}))},e}(o.a.Component);o.a.Component;o.a.Component;var g={},y=0;function m(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,i=n.path,r=n.exact,o=void 0!==r&&r,s=n.strict,a=void 0!==s&&s,u=n.sensitive,l=void 0!==u&&u;return[].concat(i).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var i=function(t,e){var n=""+e.end+e.strict+e.sensitive,i=g[n]||(g[n]={});if(i[t])return i[t];var r=[],o={regexp:h()(t,r,e),keys:r};return y<1e4&&(i[t]=o,y++),o}(n,{end:o,strict:a,sensitive:l}),r=i.regexp,s=i.keys,u=r.exec(t);if(!u)return null;var c=u[0],d=u.slice(1),f=t===c;return o&&!f?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:f,params:s.reduce((function(t,e,n){return t[e.name]=d[n],t}),{})}}),null)}var _=function(t){function e(){return t.apply(this,arguments)||this}return Object(i.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(p.Consumer,null,(function(e){e||Object(u.a)(!1);var n=t.props.location||e.location,i=t.props.computedMatch?t.props.computedMatch:t.props.path?m(n.pathname,t.props):e.match,r=Object(l.a)({},e,{location:n,match:i}),s=t.props,a=s.children,c=s.component,h=s.render;return Array.isArray(a)&&0===a.length&&(a=null),o.a.createElement(p.Provider,{value:r},r.match?a?"function"===typeof a?a(r):a:c?o.a.createElement(c,r):h?h(r):null:"function"===typeof a?a(r):null)}))},e}(o.a.Component);function b(t){return"/"===t.charAt(0)?t:"/"+t}function w(t,e){if(!t)return e;var n=b(t);return 0!==e.pathname.indexOf(n)?e:Object(l.a)({},e,{pathname:e.pathname.substr(n.length)})}function E(t){return"string"===typeof t?t:Object(s.e)(t)}function k(t){return function(){Object(u.a)(!1)}}function C(){}o.a.Component;o.a.Component;o.a.useContext},function(t,e,n){"use strict";function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(7),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.Deferred;this.instancesDeferred.set(e,n);try{var i=this.getOrInitializeService(e);i&&n.resolve(i)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=i.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(o);if(!s){if(r)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(r)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(h){}try{for(var r=i.__values(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var s=i.__read(o.value,2),a=s[0],u=s[1],l=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService(l);u.resolve(c)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return y}));var i=n(3),r=n(8),o=n(1),s=n.n(o),a=n(10),u=(n(16),n(4)),l=n(14),c=n(9),h=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).history=Object(a.a)(e.props),e}return Object(r.a)(e,t),e.prototype.render=function(){return s.a.createElement(i.b,{history:this.history,children:this.props.children})},e}(s.a.Component);s.a.Component;var d=function(t,e){return"function"===typeof t?t(e):t},f=function(t,e){return"string"===typeof t?Object(a.c)(t,null,null,e):t},p=function(t){return t},v=s.a.forwardRef;"undefined"===typeof v&&(v=p);var g=v((function(t,e){var n=t.innerRef,i=t.navigate,r=t.onClick,o=Object(l.a)(t,["innerRef","navigate","onClick"]),a=o.target,c=Object(u.a)({},o,{onClick:function(t){try{r&&r(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||a&&"_self"!==a||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),i())}});return c.ref=p!==v&&e||n,s.a.createElement("a",c)}));var y=v((function(t,e){var n=t.component,r=void 0===n?g:n,o=t.replace,a=t.to,h=t.innerRef,y=Object(l.a)(t,["component","replace","to","innerRef"]);return s.a.createElement(i.c.Consumer,null,(function(t){t||Object(c.a)(!1);var n=t.history,i=f(d(a,t.location),t.location),l=i?n.createHref(i):"",g=Object(u.a)({},y,{href:l,navigate:function(){var e=d(a,t.location);(o?n.replace:n.push)(e)}});return p!==v?g.ref=e||h:g.innerRef=h,s.a.createElement(r,g)}))})),m=function(t){return t},_=s.a.forwardRef;"undefined"===typeof _&&(_=m);_((function(t,e){var n=t["aria-current"],r=void 0===n?"page":n,o=t.activeClassName,a=void 0===o?"active":o,h=t.activeStyle,p=t.className,v=t.exact,g=t.isActive,b=t.location,w=t.sensitive,E=t.strict,k=t.style,C=t.to,T=t.innerRef,I=Object(l.a)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return s.a.createElement(i.c.Consumer,null,(function(t){t||Object(c.a)(!1);var n=b||t.location,o=f(d(C,n),n),l=o.pathname,S=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=S?Object(i.d)(n.pathname,{path:S,exact:v,sensitive:w,strict:E}):null,O=!!(g?g(x,n):x),A=O?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(p,a):p,D=O?Object(u.a)({},k,{},h):k,M=Object(u.a)({"aria-current":O&&r||null,className:A,style:D,to:o},I);return m!==_?M.ref=e||T:M.innerRef=T,s.a.createElement(y,M)}))}))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],s=r+1<t.length,a=s?t[r+1]:0,u=r+2<t.length,l=u?t[r+2]:0,c=o>>2,h=(3&o)<<4|a>>4,d=(15&a)<<2|l>>6,f=63&l;u||(f=64,s||(d=64)),i.push(n[c],n[h],n[d],n[f])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var s=((7&r)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0,a=++r<t.length?n[t.charAt(r)]:64,u=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==s||null==a||null==u)throw Error();var l=o<<2|s>>4;if(i.push(l),64!==a){var c=s<<4&240|a>>2;if(i.push(c),64!==u){var h=a<<6&192|u;i.push(h)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}},t}();function d(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function f(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}var p=function(t){function e(n,i){var r=t.call(this,i)||this;return r.code=n,r.name="FirebaseError",Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,v.prototype.create),r}return i.__extends(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],s=o?g(o,i):"Error",a=this.serviceName+": "+s+" ("+r+").",u=new p(r,a),l=0,c=Object.keys(i);l<c.length;l++){var h=c[l];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=i[h])}return u},t}();function g(t,e){return t.replace(y,(function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function m(t){return JSON.parse(t)}var _=function(t){var e={},n={},i={},r="";try{var o=t.split(".");e=m(l(o[0])||""),n=m(l(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:i,signature:r}};var b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=c^u&(l^c),s=1518500249):(o=u^l^c,s=1859775393):i<60?(o=u&l|c&(u|l),s=2400959708):(o=u^l^c,s=3395469782);r=(a<<5|a>>>27)+o+h+s+n[i]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<e;){if(0===o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"===typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}();var w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,i=e;n<i.length;n++){var r=i[n];if(r in t&&"function"===typeof t[r])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(i.next=E),void 0===i.error&&(i.error=E),void 0===i.complete&&(i.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}})),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!==typeof console&&console.error&&console.error(i)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}function k(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var r=t+" failed: ";return r+=i+" argument "}e.CONSTANTS=r,e.Deferred=h,e.ErrorFactory=v,e.FirebaseError=p,e.Sha1=b,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=l,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=_,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=k,e.getUA=d,e.isAdmin=function(t){var e=_(t).claims;return"object"===typeof e&&!0===e.admin},e.isBrowser=function(){return"object"===typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=f,e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=_(t).claims;return!!e&&"object"===typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=_(t).claims,n=Math.floor((new Date).getTime()/1e3),i=0,r=0;return"object"===typeof e&&(e.hasOwnProperty("nbf")?i=e.nbf:e.hasOwnProperty("iat")&&(i=e.iat),r=e.hasOwnProperty("exp")?e.exp:i+86400),!!n&&!!i&&!!r&&n>=i&&n<=r},e.issuedAtTime=function(t){var e=_(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=m,e.map=function(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var o=r[i];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var s=r-55296;i++,o(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(s<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!==typeof n)throw new Error(k(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!==typeof n||null===n))throw new Error(k(t,e,i)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!==typeof n)throw new Error(k(t,e,i)+"must be a valid firebase namespace.")}}).call(this,n(15))},function(t,e,n){"use strict";function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";e.a=function(t,e){if(!t)throw new Error("Invariant failed")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return I})),n.d(e,"d",(function(){return x})),n.d(e,"c",(function(){return v})),n.d(e,"f",(function(){return g})),n.d(e,"e",(function(){return p}));var i=n(4);function r(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}var s=function(t,e){void 0===e&&(e="");var n,i=t&&t.split("/")||[],s=e&&e.split("/")||[],a=t&&r(t),u=e&&r(e),l=a||u;if(t&&r(t)?s=i:i.length&&(s.pop(),s=s.concat(i)),!s.length)return"/";if(s.length){var c=s[s.length-1];n="."===c||".."===c||""===c}else n=!1;for(var h=0,d=s.length;d>=0;d--){var f=s[d];"."===f?o(s,d):".."===f?(o(s,d),h++):h&&(o(s,d),h--)}if(!l)for(;h--;h)s.unshift("..");!l||""===s[0]||s[0]&&r(s[0])||s.unshift("");var p=s.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function a(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}var u=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,i){return t(e,n[i])}));if("object"===typeof e||"object"===typeof n){var i=a(e),r=a(n);return i!==e||r!==n?t(i,r):Object.keys(Object.assign({},e,n)).every((function(i){return t(e[i],n[i])}))}return!1},l=n(9);function c(t){return"/"===t.charAt(0)?t:"/"+t}function h(t){return"/"===t.charAt(0)?t.substr(1):t}function d(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function f(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function p(t){var e=t.pathname,n=t.search,i=t.hash,r=e||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r}function v(t,e,n,r){var o;"string"===typeof t?(o=function(t){var e=t||"/",n="",i="",r=e.indexOf("#");-1!==r&&(i=e.substr(r),e=e.substr(0,r));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===i?"":i}}(t)).state=e:(void 0===(o=Object(i.a)({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=s(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function g(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}function y(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,i,r){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof i?i(o,r):r(!0):r(!1!==o)}else r(!0)},appendListener:function(t){var n=!0;function i(){n&&t.apply(void 0,arguments)}return e.push(i),function(){n=!1,e=e.filter((function(t){return t!==i}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.forEach((function(t){return t.apply(void 0,n)}))}}}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function _(t,e){e(window.confirm(t))}function b(){try{return window.history.state||{}}catch(t){return{}}}function w(t){void 0===t&&(t={}),m||Object(l.a)(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,s=o.forceRefresh,a=void 0!==s&&s,u=o.getUserConfirmation,h=void 0===u?_:u,g=o.keyLength,w=void 0===g?6:g,E=t.basename?f(c(t.basename)):"";function k(t){var e=t||{},n=e.key,i=e.state,r=window.location,o=r.pathname+r.search+r.hash;return E&&(o=d(o,E)),v(o,i,n)}function C(){return Math.random().toString(36).substr(2,w)}var T=y();function I(t){Object(i.a)(F,t),F.length=e.length,T.notifyListeners(F.location,F.action)}function S(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||A(k(t.state))}function x(){A(k(b()))}var O=!1;function A(t){if(O)O=!1,I();else{T.confirmTransitionTo(t,"POP",h,(function(e){e?I({action:"POP",location:t}):function(t){var e=F.location,n=M.indexOf(e.key);-1===n&&(n=0);var i=M.indexOf(t.key);-1===i&&(i=0);var r=n-i;r&&(O=!0,L(r))}(t)}))}}var D=k(b()),M=[D.key];function P(t){return E+p(t)}function L(t){e.go(t)}var N=0;function R(t){1===(N+=t)&&1===t?(window.addEventListener("popstate",S),r&&window.addEventListener("hashchange",x)):0===N&&(window.removeEventListener("popstate",S),r&&window.removeEventListener("hashchange",x))}var B=!1;var F={length:e.length,action:"POP",location:D,createHref:P,push:function(t,i){var r=v(t,i,C(),F.location);T.confirmTransitionTo(r,"PUSH",h,(function(t){if(t){var i=P(r),o=r.key,s=r.state;if(n)if(e.pushState({key:o,state:s},null,i),a)window.location.href=i;else{var u=M.indexOf(F.location.key),l=M.slice(0,u+1);l.push(r.key),M=l,I({action:"PUSH",location:r})}else window.location.href=i}}))},replace:function(t,i){var r=v(t,i,C(),F.location);T.confirmTransitionTo(r,"REPLACE",h,(function(t){if(t){var i=P(r),o=r.key,s=r.state;if(n)if(e.replaceState({key:o,state:s},null,i),a)window.location.replace(i);else{var u=M.indexOf(F.location.key);-1!==u&&(M[u]=r.key),I({action:"REPLACE",location:r})}else window.location.replace(i)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(t){void 0===t&&(t=!1);var e=T.setPrompt(t);return B||(R(1),B=!0),function(){return B&&(B=!1,R(-1)),e()}},listen:function(t){var e=T.appendListener(t);return R(1),function(){R(-1),e()}}};return F}var E={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+h(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:h,decodePath:c},slash:{encodePath:c,decodePath:c}};function k(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function C(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function T(t){window.location.replace(k(window.location.href)+"#"+t)}function I(t){void 0===t&&(t={}),m||Object(l.a)(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),r=n.getUserConfirmation,o=void 0===r?_:r,s=n.hashType,a=void 0===s?"slash":s,u=t.basename?f(c(t.basename)):"",h=E[a],g=h.encodePath,b=h.decodePath;function w(){var t=b(C());return u&&(t=d(t,u)),v(t)}var I=y();function S(t){Object(i.a)(j,t),j.length=e.length,I.notifyListeners(j.location,j.action)}var x=!1,O=null;function A(){var t,e,n=C(),i=g(n);if(n!==i)T(i);else{var r=w(),s=j.location;if(!x&&(e=r,(t=s).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(O===p(r))return;O=null,function(t){if(x)x=!1,S();else{I.confirmTransitionTo(t,"POP",o,(function(e){e?S({action:"POP",location:t}):function(t){var e=j.location,n=L.lastIndexOf(p(e));-1===n&&(n=0);var i=L.lastIndexOf(p(t));-1===i&&(i=0);var r=n-i;r&&(x=!0,N(r))}(t)}))}}(r)}}var D=C(),M=g(D);D!==M&&T(M);var P=w(),L=[p(P)];function N(t){e.go(t)}var R=0;function B(t){1===(R+=t)&&1===t?window.addEventListener("hashchange",A):0===R&&window.removeEventListener("hashchange",A)}var F=!1;var j={length:e.length,action:"POP",location:P,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=k(window.location.href)),n+"#"+g(u+p(t))},push:function(t,e){var n=v(t,void 0,void 0,j.location);I.confirmTransitionTo(n,"PUSH",o,(function(t){if(t){var e=p(n),i=g(u+e);if(C()!==i){O=e,function(t){window.location.hash=t}(i);var r=L.lastIndexOf(p(j.location)),o=L.slice(0,r+1);o.push(e),L=o,S({action:"PUSH",location:n})}else S()}}))},replace:function(t,e){var n=v(t,void 0,void 0,j.location);I.confirmTransitionTo(n,"REPLACE",o,(function(t){if(t){var e=p(n),i=g(u+e);C()!==i&&(O=e,T(i));var r=L.indexOf(p(j.location));-1!==r&&(L[r]=e),S({action:"REPLACE",location:n})}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(t){void 0===t&&(t=!1);var e=I.setPrompt(t);return F||(B(1),F=!0),function(){return F&&(F=!1,B(-1)),e()}},listen:function(t){var e=I.appendListener(t);return B(1),function(){B(-1),e()}}};return j}function S(t,e,n){return Math.min(Math.max(t,e),n)}function x(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,o=void 0===r?["/"]:r,s=e.initialIndex,a=void 0===s?0:s,u=e.keyLength,l=void 0===u?6:u,c=y();function h(t){Object(i.a)(b,t),b.length=b.entries.length,c.notifyListeners(b.location,b.action)}function d(){return Math.random().toString(36).substr(2,l)}var f=S(a,0,o.length-1),g=o.map((function(t){return v(t,void 0,"string"===typeof t?d():t.key||d())})),m=p;function _(t){var e=S(b.index+t,0,b.entries.length-1),i=b.entries[e];c.confirmTransitionTo(i,"POP",n,(function(t){t?h({action:"POP",location:i,index:e}):h()}))}var b={length:g.length,action:"POP",location:g[f],index:f,entries:g,createHref:m,push:function(t,e){var i=v(t,e,d(),b.location);c.confirmTransitionTo(i,"PUSH",n,(function(t){if(t){var e=b.index+1,n=b.entries.slice(0);n.length>e?n.splice(e,n.length-e,i):n.push(i),h({action:"PUSH",location:i,index:e,entries:n})}}))},replace:function(t,e){var i=v(t,e,d(),b.location);c.confirmTransitionTo(i,"REPLACE",n,(function(t){t&&(b.entries[b.index]=i,h({action:"REPLACE",location:i}))}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},canGo:function(t){var e=b.index+t;return e>=0&&e<b.entries.length},block:function(t){return void 0===t&&(t=!1),c.setPrompt(t)},listen:function(t){return c.appendListener(t)}};return b}},function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function i(t,e,i){var r,o=new Promise((function(o,s){n(r=t[e].apply(t,i)).then(o,s)}));return o.request=r,o}function r(t,e,n){var r=i(t,e,n);return r.then((function(t){if(t)return new c(t,r.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function a(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})}))}function u(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function l(t){this._index=t}function c(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}o(l,"_index",["name","keyPath","multiEntry","unique"]),s(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(c,"_cursor",["direction","key","primaryKey","value"]),s(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(c.prototype[t]=function(){var e=this,i=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,i),n(e._request).then((function(t){if(t)return new c(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,l].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),i=n[n.length-1],r=this._store||this._index,o=r[t].apply(r,n.slice(0,-1));o.onsuccess=function(){i(o.result)}})}))})),[l,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,i=[];return new Promise((function(r){n.iterateCursor(t,(function(t){t?(i.push(t.value),void 0===e||i.length!=e?t.continue():r(i)):r(i)}))}))})})),t.openDb=function(t,e,n){var r=i(indexedDB,"open",[t,e]),o=r.request;return o&&(o.onupgradeneeded=function(t){n&&n(new f(o.result,t.oldVersion,o.transaction))}),r.then((function(t){return new p(t)}))},t.deleteDb=function(t){return i(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}var r;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return f}));var o,s=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,l=((r={})[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),c=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=l[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,i(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function d(t){s.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=r.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==i&&void 0!==i?i:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=s;i<r.length;i++){n(r[i])}}},function(t,e,n){(function(n){var i,r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}window.cash=function(){var t,e=document,n=window,i=Array.prototype,r=i.slice,o=i.filter,s=i.push,a=function(){},u=function(t){return typeof t==typeof a&&t.call},l=function(t){return"string"==typeof t},c=/^#[\w-]*$/,h=/^\.[\w-]*$/,d=/<.+>/,f=/^\w+$/;function p(t,n){return n=n||e,h.test(t)?n.getElementsByClassName(t.slice(1)):f.test(t)?n.getElementsByTagName(t):n.querySelectorAll(t)}function v(n){if(!t){var i=(t=e.implementation.createHTMLDocument(null)).createElement("base");i.href=e.location.href,t.head.appendChild(i)}return t.body.innerHTML=n,t.body.childNodes}function g(t){"loading"!==e.readyState?t():e.addEventListener("DOMContentLoaded",t)}function y(t,i){if(!t)return this;if(t.cash&&t!==n)return t;var r,o=t,s=0;if(l(t))o=c.test(t)?e.getElementById(t.slice(1)):d.test(t)?v(t):p(t,i);else if(u(t))return g(t),this;if(!o)return this;if(o.nodeType||o===n)this[0]=o,this.length=1;else for(r=this.length=o.length;s<r;s++)this[s]=o[s];return this}function m(t,e){return new y(t,e)}var _=m.fn=m.prototype=y.prototype={cash:!0,length:0,push:s,splice:i.splice,map:i.map,init:y};function b(t,e){for(var n=t.length,i=0;i<n&&!1!==e.call(t[i],t[i],i,t);i++);}function w(t,e){var n=t&&(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector);return!!n&&n.call(t,e)}function E(t){return l(t)?w:t.cash?function(e){return t.is(e)}:function(t,e){return t===e}}function k(t){return m(r.call(t).filter((function(t,e,n){return n.indexOf(t)===e})))}Object.defineProperty(_,"constructor",{value:m}),m.parseHTML=v,m.noop=a,m.isFunction=u,m.isString=l,m.extend=_.extend=function(t){t=t||{};var e=r.call(arguments),n=e.length,i=1;for(1===e.length&&(t=this,i=0);i<n;i++)if(e[i])for(var o in e[i])e[i].hasOwnProperty(o)&&(t[o]=e[i][o]);return t},m.extend({merge:function(t,e){for(var n=+e.length,i=t.length,r=0;r<n;i++,r++)t[i]=e[r];return t.length=i,t},each:b,matches:w,unique:k,isArray:Array.isArray,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}});var C=m.uid="_cash"+Date.now();function T(t){return t[C]=t[C]||{}}function I(t,e,n){return T(t)[e]=n}function S(t,e){var n=T(t);return void 0===n[e]&&(n[e]=t.dataset?t.dataset[e]:m(t).attr("data-"+e)),n[e]}_.extend({data:function(t,e){if(l(t))return void 0===e?S(this[0],t):this.each((function(n){return I(n,t,e)}));for(var n in t)this.data(n,t[n]);return this},removeData:function(t){return this.each((function(e){return i=t,void((r=T(n=e))?delete r[i]:n.dataset?delete n.dataset[i]:m(n).removeAttr("data-"+name));var n,i,r}))}});var x=/\S+/g;function O(t){return l(t)&&t.match(x)}function A(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function D(t,e,n){t.classList?t.classList.add(e):n.indexOf(" "+e+" ")&&(t.className+=" "+e)}function M(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}_.extend({addClass:function(t){var e=O(t);return e?this.each((function(t){var n=" "+t.className+" ";b(e,(function(e){D(t,e,n)}))})):this},attr:function(t,e){if(t){if(l(t))return void 0===e?this[0]?this[0].getAttribute?this[0].getAttribute(t):this[0][t]:void 0:this.each((function(n){n.setAttribute?n.setAttribute(t,e):n[t]=e}));for(var n in t)this.attr(n,t[n]);return this}},hasClass:function(t){var e=!1,n=O(t);return n&&n.length&&this.each((function(t){return!(e=A(t,n[0]))})),e},prop:function(t,e){if(l(t))return void 0===e?this[0][t]:this.each((function(n){n[t]=e}));for(var n in t)this.prop(n,t[n]);return this},removeAttr:function(t){return this.each((function(e){e.removeAttribute?e.removeAttribute(t):delete e[t]}))},removeClass:function(t){if(!arguments.length)return this.attr("class","");var e=O(t);return e?this.each((function(t){b(e,(function(e){M(t,e)}))})):this},removeProp:function(t){return this.each((function(e){delete e[t]}))},toggleClass:function(t,e){if(void 0!==e)return this[e?"addClass":"removeClass"](t);var n=O(t);return n?this.each((function(t){var e=" "+t.className+" ";b(n,(function(n){A(t,n)?M(t,n):D(t,n,e)}))})):this}}),_.extend({add:function(t,e){return k(m.merge(this,m(t,e)))},each:function(t){return b(this,t),this},eq:function(t){return m(this.get(t))},filter:function(t){if(!t)return this;var e=u(t)?t:E(t);return m(o.call(this,(function(n){return e(n,t)})))},first:function(){return this.eq(0)},get:function(t){return void 0===t?r.call(this):t<0?this[t+this.length]:this[t]},index:function(t){var e=t?m(t)[0]:this[0],n=t?this:m(e).parent().children();return r.call(n).indexOf(e)},last:function(){return this.eq(-1)}});var P,L,N,R,B,F=(R=/(?:^\w|[A-Z]|\b\w)/g,B=/[\s-_]+/g,function(t){return t.replace(R,(function(t,e){return t[0===e?"toLowerCase":"toUpperCase"]()})).replace(B,"")}),j=(P={},L=document.createElement("div"),N=L.style,function(t){if(t=F(t),P[t])return P[t];var e=t.charAt(0).toUpperCase()+t.slice(1);return b((t+" "+["webkit","moz","ms","o"].join(e+" ")+e).split(" "),(function(e){if(e in N)return P[e]=t=P[t]=e,!1})),P[t]});function U(t,e){return parseInt(n.getComputedStyle(t[0],null)[e],10)||0}function V(t,e,n){var i,r=S(t,"_cashEvents"),o=r&&r[e];o&&(n?(t.removeEventListener(e,n),0<=(i=o.indexOf(n))&&o.splice(i,1)):(b(o,(function(n){t.removeEventListener(e,n)})),o=[]))}function $(t,e){return"&"+encodeURIComponent(t)+"="+encodeURIComponent(e).replace(/%20/g,"+")}function W(t){var e,n,i,r=t.type;if(!r)return null;switch(r.toLowerCase()){case"select-one":return 0<=(i=(n=t).selectedIndex)?n.options[i].value:null;case"select-multiple":return e=[],b(t.options,(function(t){t.selected&&e.push(t.value)})),e.length?e:null;case"radio":case"checkbox":return t.checked?t.value:null;default:return t.value?t.value:null}}function H(t,e,n){var i=l(e);i||!e.length?b(t,i?function(t){return t.insertAdjacentHTML(n?"afterbegin":"beforeend",e)}:function(t,i){return function(t,e,n){if(n){var i=t.childNodes[0];t.insertBefore(e,i)}else t.appendChild(e)}(t,0===i?e:e.cloneNode(!0),n)}):b(e,(function(e){return H(t,e,n)}))}m.prefixedProp=j,m.camelCase=F,_.extend({css:function(t,e){if(l(t))return t=j(t),1<arguments.length?this.each((function(n){return n.style[t]=e})):n.getComputedStyle(this[0])[t];for(var i in t)this.css(i,t[i]);return this}}),b(["Width","Height"],(function(t){var e=t.toLowerCase();_[e]=function(){return this[0].getBoundingClientRect()[e]},_["inner"+t]=function(){return this[0]["client"+t]},_["outer"+t]=function(e){return this[0]["offset"+t]+(e?U(this,"margin"+("Width"===t?"Left":"Top"))+U(this,"margin"+("Width"===t?"Right":"Bottom")):0)}})),_.extend({off:function(t,e){return this.each((function(n){return V(n,t,e)}))},on:function(t,e,n,i){var r;if(!l(t)){for(var o in t)this.on(o,e,t[o]);return this}return u(e)&&(n=e,e=null),"ready"===t?(g(n),this):(e&&(r=n,n=function(t){for(var n=t.target;!w(n,e);){if(n===this||null===n)return!1;n=n.parentNode}n&&r.call(n,t)}),this.each((function(e){var r,o,s,a,u=n;i&&(u=function(){n.apply(this,arguments),V(e,t,u)}),o=t,s=u,(a=S(r=e,"_cashEvents")||I(r,"_cashEvents",{}))[o]=a[o]||[],a[o].push(s),r.addEventListener(o,s)})))},one:function(t,e,n){return this.on(t,e,n,!0)},ready:g,trigger:function(t,e){if(document.createEvent){var n=document.createEvent("HTMLEvents");return n.initEvent(t,!0,!1),n=this.extend(n,e),this.each((function(t){return t.dispatchEvent(n)}))}}}),_.extend({serialize:function(){var t="";return b(this[0].elements||this,(function(e){if(!e.disabled&&"FIELDSET"!==e.tagName){var n=e.name;switch(e.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var i=W(e);null!==i&&b(i,(function(e){t+=$(n,e)}));break;default:var r=W(e);null!==r&&(t+=$(n,r))}}})),t.substr(1)},val:function(t){return void 0===t?W(this[0]):this.each((function(e){return e.value=t}))}}),_.extend({after:function(t){return m(t).insertAfter(this),this},append:function(t){return H(this,t),this},appendTo:function(t){return H(m(t),this),this},before:function(t){return m(t).insertBefore(this),this},clone:function(){return m(this.map((function(t){return t.cloneNode(!0)})))},empty:function(){return this.html(""),this},html:function(t){if(void 0===t)return this[0].innerHTML;var e=t.nodeType?t[0].outerHTML:t;return this.each((function(t){return t.innerHTML=e}))},insertAfter:function(t){var e=this;return m(t).each((function(t,n){var i=t.parentNode,r=t.nextSibling;e.each((function(t){i.insertBefore(0===n?t:t.cloneNode(!0),r)}))})),this},insertBefore:function(t){var e=this;return m(t).each((function(t,n){var i=t.parentNode;e.each((function(e){i.insertBefore(0===n?e:e.cloneNode(!0),t)}))})),this},prepend:function(t){return H(this,t,!0),this},prependTo:function(t){return H(m(t),this,!0),this},remove:function(){return this.each((function(t){if(t.parentNode)return t.parentNode.removeChild(t)}))},text:function(t){return void 0===t?this[0].textContent:this.each((function(e){return e.textContent=t}))}});var q=e.documentElement;return _.extend({position:function(){var t=this[0];return{left:t.offsetLeft,top:t.offsetTop}},offset:function(){var t=this[0].getBoundingClientRect();return{top:t.top+n.pageYOffset-q.clientTop,left:t.left+n.pageXOffset-q.clientLeft}},offsetParent:function(){return m(this[0].offsetParent)}}),_.extend({children:function(t){var e=[];return this.each((function(t){s.apply(e,t.children)})),e=k(e),t?e.filter((function(e){return w(e,t)})):e},closest:function(t){return!t||this.length<1?m():this.is(t)?this.filter(t):this.parent().closest(t)},is:function(t){if(!t)return!1;var e=!1,n=E(t);return this.each((function(i){return!(e=n(i,t))})),e},find:function(t){if(!t||t.nodeType)return m(t&&this.has(t).length?t:null);var e=[];return this.each((function(n){s.apply(e,p(t,n))})),k(e)},has:function(t){var e=l(t)?function(e){return 0!==p(t,e).length}:function(e){return e.contains(t)};return this.filter(e)},next:function(){return m(this[0].nextElementSibling)},not:function(t){if(!t)return this;var e=E(t);return this.filter((function(n){return!e(n,t)}))},parent:function(){var t=[];return this.each((function(e){e&&e.parentNode&&t.push(e.parentNode)})),k(t)},parents:function(t){var n,i=[];return this.each((function(r){for(n=r;n&&n.parentNode&&n!==e.body.parentNode;)n=n.parentNode,(!t||t&&w(n,t))&&i.push(n)})),k(i)},prev:function(){return m(this[0].previousElementSibling)},siblings:function(t){var e=this.parent().children(t),n=this[0];return e.filter((function(t){return t!==n}))}}),m}();var l,c=function(){function t(e,n,i){u(this,t),n instanceof Element||console.error(Error(n+" is not an HTML Element"));var r=e.getInstance(n);r&&r.destroy(),this.el=n,this.$el=cash(n)}return o(t,null,[{key:"init",value:function(t,e,n){var i=null;if(e instanceof Element)i=new t(e,n);else if(e&&(e.jquery||e.cash||e instanceof NodeList)){for(var r=[],o=0;o<e.length;o++)r.push(new t(e[o],n));i=r}return i}}]),t}();(l=window).Package?M={}:l.M={},M.jQueryLoaded=!!l.jQuery,void 0!==(i=function(){return M}.apply(e,[]))&&(t.exports=i),M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1;document.addEventListener("keydown",(function(t){M.keyDown=!0,t.which!==M.keys.TAB&&t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||(M.tabPressed=!0)}),!0),document.addEventListener("keyup",(function(t){M.keyDown=!1,t.which!==M.keys.TAB&&t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||(M.tabPressed=!1)}),!0),document.addEventListener("focus",(function(t){M.keyDown&&document.body.classList.add("keyboard-focused")}),!0),document.addEventListener("blur",(function(t){document.body.classList.remove("keyboard-focused")}),!0),M.initializeJqueryWrapper=function(t,e,n){jQuery.fn[e]=function(i){if(t.prototype[i]){var r=Array.prototype.slice.call(arguments,1);if("get"===i.slice(0,3)){var o=this.first()[0][n];return o[i].apply(o,r)}return this.each((function(){var t=this[n];t[i].apply(t,r)}))}if("object"==typeof i||!i)return t.init(this,i),this;jQuery.error("Method "+i+" does not exist on jQuery."+e)}},M.AutoInit=function(t){var e=t||document.body,n={Autocomplete:e.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:e.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:e.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:e.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:e.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:e.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:e.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:e.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:e.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:e.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:e.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:e.querySelectorAll("select:not(.no-autoinit)"),Sidenav:e.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:e.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:e.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:e.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:e.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:e.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var i in n)M[i].init(n[i])},M.objectSelectorString=function(t){return((t.prop("tagName")||"")+(t.attr("id")||"")+(t.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),M.escapeHash=function(t){return t.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(t){var e=$(t),n=e.add(e.parents()),i=!1;return n.each((function(){if("fixed"===$(this).css("position"))return!(i=!0)})),i},M.checkWithinContainer=function(t,e,n){var i={top:!1,right:!1,bottom:!1,left:!1},r=t.getBoundingClientRect(),o=t===document.body?Math.max(r.bottom,window.innerHeight):r.bottom,s=t.scrollLeft,a=t.scrollTop,u=e.left-s,l=e.top-a;return(u<r.left+n||u<n)&&(i.left=!0),(u+e.width>r.right-n||u+e.width>window.innerWidth-n)&&(i.right=!0),(l<r.top+n||l<n)&&(i.top=!0),(l+e.height>o-n||l+e.height>window.innerHeight-n)&&(i.bottom=!0),i},M.checkPossibleAlignments=function(t,e,n,i){var r={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},o="visible"===getComputedStyle(e).overflow,s=e.getBoundingClientRect(),a=Math.min(s.height,window.innerHeight),u=Math.min(s.width,window.innerWidth),l=t.getBoundingClientRect(),c=e.scrollLeft,h=e.scrollTop,d=n.left-c,f=n.top-h,p=n.top+l.height-h;return r.spaceOnRight=o?window.innerWidth-(l.left+n.width):u-(d+n.width),r.spaceOnRight<0&&(r.left=!1),r.spaceOnLeft=o?l.right-n.width:d-n.width+l.width,r.spaceOnLeft<0&&(r.right=!1),r.spaceOnBottom=o?window.innerHeight-(l.top+n.height+i):a-(f+n.height+i),r.spaceOnBottom<0&&(r.top=!1),r.spaceOnTop=o?l.bottom-(n.height+i):p-(n.height-i),r.spaceOnTop<0&&(r.bottom=!1),r},M.getOverflowParent=function(t){return null==t?null:t===document.body||"visible"!==getComputedStyle(t).overflow?t:M.getOverflowParent(t.parentElement)},M.getIdFromTrigger=function(t){var e=t.getAttribute("data-target");return e||(e=(e=t.getAttribute("href"))?e.slice(1):""),e},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var h=Date.now||function(){return(new Date).getTime()};M.throttle=function(t,e,n){var i=void 0,r=void 0,o=void 0,s=null,a=0;n||(n={});var u=function(){a=!1===n.leading?0:h(),s=null,o=t.apply(i,r),i=r=null};return function(){var l=h();a||!1!==n.leading||(a=l);var c=e-(l-a);return i=this,r=arguments,c<=0?(clearTimeout(s),s=null,a=l,o=t.apply(i,r),i=r=null):s||!1===n.trailing||(s=setTimeout(u,c)),o}};var d={scope:{}};d.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},d.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof n&&null!=n?n:t},d.global=d.getGlobal(this),d.SYMBOL_PREFIX="jscomp_symbol_",d.initSymbol=function(){d.initSymbol=function(){},d.global.Symbol||(d.global.Symbol=d.Symbol)},d.symbolCounter_=0,d.Symbol=function(t){return d.SYMBOL_PREFIX+(t||"")+d.symbolCounter_++},d.initSymbolIterator=function(){d.initSymbol();var t=d.global.Symbol.iterator;t||(t=d.global.Symbol.iterator=d.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&d.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return d.arrayIterator(this)}}),d.initSymbolIterator=function(){}},d.arrayIterator=function(t){var e=0;return d.iteratorPrototype((function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}))},d.iteratorPrototype=function(t){return d.initSymbolIterator(),(t={next:t})[d.global.Symbol.iterator]=function(){return this},t},d.array=d.array||{},d.iteratorFromArray=function(t,e){d.initSymbolIterator(),t instanceof String&&(t+="");var n=0,i={next:function(){if(n<t.length){var r=n++;return{value:e(r,t[r]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},d.polyfill=function(t,e,n,i){if(e){for(n=d.global,t=t.split("."),i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&d.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},d.polyfill("Array.prototype.keys",(function(t){return t||function(){return d.iteratorFromArray(this,(function(t){return t}))}}),"es6-impl","es3");var f,p,v,g=this;M.anime=function(){function t(t){if(!A.col(t))try{return document.querySelectorAll(t)}catch(t){}}function e(t,e){for(var n=t.length,i=2<=arguments.length?e:void 0,r=[],o=0;o<n;o++)if(o in t){var s=t[o];e.call(i,s,o,t)&&r.push(s)}return r}function n(t){return t.reduce((function(t,e){return t.concat(A.arr(e)?n(e):e)}),[])}function i(e){return A.arr(e)?e:(A.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function r(t,e){return t.some((function(t){return t===e}))}function o(t){var e,n={};for(e in t)n[e]=t[e];return n}function s(t,e){var n,i=o(t);for(n in t)i[n]=e.hasOwnProperty(n)?e[n]:t[n];return i}function a(t,e){var n,i=o(t);for(n in e)i[n]=A.und(t[n])?e[n]:t[n];return i}function u(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function l(t,e){return A.fnc(t)?t(e.target,e.id,e.total):t}function c(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function h(t,e){return A.dom(t)&&r(O,e)?"transform":A.dom(t)&&(t.getAttribute(e)||A.svg(t)&&t[e])?"attribute":A.dom(t)&&"transform"!==e&&c(t,e)?"css":null!=t[e]?"object":void 0}function d(t,n){switch(h(t,n)){case"transform":return function(t,n){var i,r=-1<(i=n).indexOf("translate")||"perspective"===i?"px":-1<i.indexOf("rotate")||-1<i.indexOf("skew")?"deg":void 0;r=-1<n.indexOf("scale")?1:0+r;if(!(t=t.style.transform))return r;for(var o=[],s=[],a=[],u=/(\w+)\((.+?)\)/g;o=u.exec(t);)s.push(o[1]),a.push(o[2]);return(t=e(a,(function(t,e){return s[e]===n}))).length?t[0]:r}(t,n);case"css":return c(t,n);case"attribute":return t.getAttribute(n)}return t[n]||0}function f(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=u(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(n[0],"")),n[0][0]){case"+":return e+t+i;case"-":return e-t+i;case"*":return e*t+i}}function p(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function v(t){t=t.points;for(var e,n=0,i=0;i<t.numberOfItems;i++){var r=t.getItem(i);0<i&&(n+=p(e,r)),e=r}return n}function y(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return p({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return v(t);case"polygon":var e=t.points;return v(t)+p(e.getItem(e.numberOfItems-1),e.getItem(0))}}function m(t,e){function n(n){return n=void 0===n?0:n,t.el.getPointAtLength(1<=e+n?e+n:0)}var i=n(),r=n(-1),o=n(1);switch(t.property){case"x":return i.x;case"y":return i.y;case"angle":return 180*Math.atan2(o.y-r.y,o.x-r.x)/Math.PI}}function _(t,e){var n,i=/-?\d*\.?\d+/g;if(n=A.pth(t)?t.totalLength:t,A.col(n))if(A.rgb(n)){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=r?"rgba("+r[1]+",1)":n}else n=A.hex(n)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,i){return e+e+n+n+i+i}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+(t=parseInt(e[1],16))+","+parseInt(e[2],16)+","+(e=parseInt(e[3],16))+",1)"}(n):A.hsl(n)?function(t){function e(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(n[1])/360;var i=parseInt(n[2])/100,r=parseInt(n[3])/100;n=n[4]||1;if(0==i)r=i=t=r;else{var o=r<.5?r*(1+i):r+i-r*i,s=2*r-o;r=e(s,o,t+1/3),i=e(s,o,t);t=e(s,o,t-1/3)}return"rgba("+255*r+","+255*i+","+255*t+","+n+")"}(n):void 0;else r=(r=u(n))?n.substr(0,n.length-r.length):n,n=e&&!/\s/g.test(n)?r+e:r;return{original:n+="",numbers:n.match(i)?n.match(i).map(Number):[0],strings:A.str(t)||e?n.split(i):[]}}function b(t){return e(t=t?n(A.arr(t)?t.map(i):i(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function w(t,e){var n=o(e);if(A.arr(t)){var r=t.length;2!==r||A.obj(t[0])?A.fnc(e.duration)||(n.duration=e.duration/r):t={value:t}}return i(t).map((function(t,n){return n=n?0:e.delay,t=A.obj(t)&&!A.pth(t)?t:{value:t},A.und(t.delay)&&(t.delay=n),t})).map((function(t){return a(t,n)}))}function E(t,e){var n;return t.tweens.map((function(i){var r=(i=function(t,e){var n,i={};for(n in t){var r=l(t[n],e);A.arr(r)&&1===(r=r.map((function(t){return l(t,e)}))).length&&(r=r[0]),i[n]=r}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}(i,e)).value,o=d(e.target,t.name),s=n?n.to.original:o,a=(s=A.arr(r)?r[0]:s,f(A.arr(r)?r[1]:r,s));o=u(a)||u(s)||u(o);return i.from=_(s,o),i.to=_(a,o),i.start=n?n.end:t.offset,i.end=i.start+i.delay+i.duration,i.easing=function(t){return A.arr(t)?D.apply(this,t):M[t]}(i.easing),i.elasticity=(1e3-Math.min(Math.max(i.elasticity,1),999))/1e3,i.isPath=A.pth(r),i.isColor=A.col(i.from.original),i.isColor&&(i.round=1),n=i}))}function k(t,e,n,i){var r="delay"===t;return e.length?(r?Math.min:Math.max).apply(Math,e.map((function(e){return e[t]}))):r?i.delay:n.offset+i.delay+i.duration}function C(t){var i,r,o,u,l=s(S,t),c=s(x,t),d=(r=t.targets,(o=b(r)).map((function(t,e){return{target:t,id:e,total:o.length}}))),f=[],p=a(l,c);for(i in t)p.hasOwnProperty(i)||"targets"===i||f.push({name:i,offset:p.offset,tweens:w(t[i],c)});return u=f,t=e(n(d.map((function(t){return u.map((function(e){var n=h(t.target,e.name);if(n){var i=E(e,t);e={type:n,property:e.name,animatable:t,tweens:i,duration:i[i.length-1].end,delay:i[0].delay}}else e=void 0;return e}))}))),(function(t){return!A.und(t)})),a(l,{children:[],animatables:d,animations:t,duration:k("duration",t,l,c),delay:k("delay",t,l,c)})}function T(t){function n(){return window.Promise&&new Promise((function(t){return d=t}))}function i(t){return p.reversed?p.duration-t:t}function r(t){for(var n=0,i={},r=p.animations,o=r.length;n<o;){var s=r[n],a=s.animatable,u=(l=s.tweens)[f=l.length-1];f&&(u=e(l,(function(e){return t<e.end}))[0]||u);for(var l=Math.min(Math.max(t-u.start-u.delay,0),u.duration)/u.duration,h=isNaN(l)?1:u.easing(l,u.elasticity),d=(l=u.to.strings,u.round),f=[],v=void 0,g=(v=u.to.numbers.length,0);g<v;g++){var y=void 0,_=(y=u.to.numbers[g],u.from.numbers[g]);y=u.isPath?m(u.value,h*y):_+h*(y-_);d&&(u.isColor&&2<g||(y=Math.round(y*d)/d)),f.push(y)}if(u=l.length)for(v=l[0],h=0;h<u;h++)d=l[h+1],g=f[h],isNaN(g)||(v=d?v+(g+d):v+(g+" "));else v=f[0];P[s.type](a.target,s.property,v,i,a.id),s.currentValue=v,n++}if(n=Object.keys(i).length)for(r=0;r<n;r++)I||(I=c(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[r].target.style[I]=i[r].join(" ");p.currentTime=t,p.progress=t/p.duration*100}function o(t){p[t]&&p[t](p)}function s(){p.remaining&&!0!==p.remaining&&p.remaining--}function a(t){var e=p.duration,a=p.offset,c=a+p.delay,v=p.currentTime,g=p.reversed,y=i(t);if(p.children.length){var m=p.children,_=m.length;if(y>=p.currentTime)for(var b=0;b<_;b++)m[b].seek(y);else for(;_--;)m[_].seek(y)}(c<=y||!e)&&(p.began||(p.began=!0,o("begin")),o("run")),a<y&&y<e?r(y):(y<=a&&0!==v&&(r(0),g&&s()),(e<=y&&v!==e||!e)&&(r(e),g||s())),o("update"),e<=t&&(p.remaining?(l=u,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),p.completed||(p.completed=!0,o("complete"),"Promise"in window&&(d(),f=n()))),h=0)}t=void 0===t?{}:t;var u,l,h=0,d=null,f=n(),p=C(t);return p.reset=function(){var t=p.direction,e=p.loop;for(p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===t,p.remaining="alternate"===t&&1===e?2:e,r(0),t=p.children.length;t--;)p.children[t].reset()},p.tick=function(t){u=t,l||(l=u),a((h+u-l)*T.speed)},p.seek=function(t){a(i(t))},p.pause=function(){var t=L.indexOf(p);-1<t&&L.splice(t,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,l=0,h=i(p.currentTime),L.push(p),N||R())},p.reverse=function(){p.reversed=!p.reversed,l=0,h=i(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=f,p.reset(),p.autoplay&&p.play(),p}var I,S={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},x={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},O="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),A={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return A.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||A.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return A.hex(t)||A.rgb(t)||A.hsl(t)}},D=function(){function t(t,e,n){return(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t}return function(e,n,i,r){if(0<=e&&e<=1&&0<=i&&i<=1){var o=new Float32Array(11);if(e!==n||i!==r)for(var s=0;s<11;++s)o[s]=t(.1*s,e,i);return function(s){if(e===n&&i===r)return s;if(0===s)return 0;if(1===s)return 1;for(var a=0,u=1;10!==u&&o[u]<=s;++u)a+=.1;u=a+(s-o[--u])/(o[u+1]-o[u])*.1;var l=3*(1-3*i+3*e)*u*u+2*(3*i-6*e)*u+3*e;if(.001<=l){for(a=0;a<4&&0!=(l=3*(1-3*i+3*e)*u*u+2*(3*i-6*e)*u+3*e);++a){var c=t(u,e,i)-s;u=u-c/l}s=u}else if(0===l)s=u;else{u=a,a=a+.1;for(var h=0;0<(l=t(c=u+(a-u)/2,e,i)-s)?a=c:u=c,1e-7<Math.abs(l)&&++h<10;);s=c}return t(s,n,r)}}}}(),M=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),i={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,n){return 1-t(1-e,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,n){return e<.5?t(2*e,n)/2:1-t(-2*e+2,n)/2}]},r={linear:D(.25,.25,.75,.75)},o={};for(e in i)o.type=e,i[o.type].forEach(function(t){return function(e,i){r["ease"+t.type+n[i]]=A.fnc(e)?e:D.apply(g,e)}}(o)),o={type:o.type};return r}(),P={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,r){i[r]||(i[r]=[]),i[r].push(e+"("+n+")")}},L=[],N=0,R=function(){function t(){N=requestAnimationFrame(e)}function e(e){var n=L.length;if(n){for(var i=0;i<n;)L[i]&&L[i].tick(e),i++;t()}else cancelAnimationFrame(N),N=0}return t}();return T.version="2.2.0",T.speed=1,T.running=L,T.remove=function(t){t=b(t);for(var e=L.length;e--;)for(var n=L[e],i=n.animations,o=i.length;o--;)r(t,i[o].animatable.target)&&(i.splice(o,1),i.length||n.pause())},T.getValue=d,T.path=function(e,n){var i=A.str(e)?t(e)[0]:e,r=n||100;return function(t){return{el:i,property:t,totalLength:y(i)*(r/100)}}},T.setDashoffset=function(t){var e=y(t);return t.setAttribute("stroke-dasharray",e),e},T.bezier=D,T.easings=M,T.timeline=function(t){var e=T(t);return e.pause(),e.duration=0,e.add=function(n){return e.children.forEach((function(t){t.began=!0,t.completed=!0})),i(n).forEach((function(n){var i=a(n,s(x,t||{}));i.targets=i.targets||t.targets,n=e.duration;var r=i.offset;i.autoplay=!1,i.direction=e.direction,i.offset=A.und(r)?n:f(r,n),e.began=!0,e.completed=!0,e.seek(i.offset),(i=T(i)).began=!0,i.completed=!0,i.duration>n&&(e.duration=i.duration),e.children.push(i)})),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},T.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},T}(),function(t,e){"use strict";var n={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));(i.el.M_Collapsible=i).options=t.extend({},l.defaults,n),i.$headers=i.$el.children("li").children(".collapsible-header"),i.$headers.attr("tabindex",0),i._setupEventHandlers();var r=i.$el.children("li.active").children(".collapsible-body");return i.options.accordion?r.first().css("display","block"):r.css("display","block"),i}return a(l,c),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(e){e.addEventListener("keydown",t._handleCollapsibleKeydownBound)}))}},{key:"_removeEventHandlers",value:function(){var t=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(e){e.removeEventListener("keydown",t._handleCollapsibleKeydownBound)}))}},{key:"_handleCollapsibleClick",value:function(e){var n=t(e.target).closest(".collapsible-header");if(e.target&&n.length){var i=n.closest(".collapsible");if(i[0]===this.el){var r=n.closest("li"),o=i.children("li"),s=r[0].classList.contains("active"),a=o.index(r);s?this.close(a):this.open(a)}}}},{key:"_handleCollapsibleKeydown",value:function(t){13===t.keyCode&&this._handleCollapsibleClickBound(t)}},{key:"_animateIn",value:function(t){var n=this,i=this.$el.children("li").eq(t);if(i.length){var r=i.children(".collapsible-body");e.remove(r[0]),r.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var o=r.css("padding-top"),s=r.css("padding-bottom"),a=r[0].scrollHeight;r.css({paddingTop:0,paddingBottom:0}),e({targets:r[0],height:a,paddingTop:o,paddingBottom:s,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(t){r.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"==typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,i[0])}})}}},{key:"_animateOut",value:function(t){var n=this,i=this.$el.children("li").eq(t);if(i.length){var r=i.children(".collapsible-body");e.remove(r[0]),r.css("overflow","hidden"),e({targets:r[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){r.css({height:"",overflow:"",padding:"",display:""}),"function"==typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,i[0])}})}}},{key:"open",value:function(e){var n=this,i=this.$el.children("li").eq(e);if(i.length&&!i[0].classList.contains("active")){if("function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,i[0]),this.options.accordion){var r=this.$el.children("li");this.$el.children("li.active").each((function(e){var i=r.index(t(e));n.close(i)}))}i[0].classList.add("active"),this._animateIn(e)}}},{key:"close",value:function(t){var e=this.$el.children("li").eq(t);e.length&&e[0].classList.contains("active")&&("function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,e[0]),e[0].classList.remove("active"),this._animateOut(t))}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Collapsible}},{key:"defaults",get:function(){return n}}]),l}();M.Collapsible=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"collapsible","M_Collapsible")}(cash,M.anime),function(t,e){"use strict";var n={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return i.el.M_Dropdown=i,l._dropdowns.push(i),i.id=M.getIdFromTrigger(e),i.dropdownEl=document.getElementById(i.id),i.$dropdownEl=t(i.dropdownEl),i.options=t.extend({},l.defaults,n),i.isOpen=!1,i.isScrollable=!1,i.isTouchMoving=!1,i.focusedIndex=-1,i.filterQuery=[],i.options.container?t(i.options.container).append(i.dropdownEl):i.$el.after(i.dropdownEl),i._makeDropdownFocusable(),i._resetFilterQueryBound=i._resetFilterQuery.bind(i),i._handleDocumentClickBound=i._handleDocumentClick.bind(i),i._handleDocumentTouchmoveBound=i._handleDocumentTouchmove.bind(i),i._handleDropdownClickBound=i._handleDropdownClick.bind(i),i._handleDropdownKeydownBound=i._handleDropdownKeydown.bind(i),i._handleTriggerKeydownBound=i._handleTriggerKeydown.bind(i),i._setupEventHandlers(),i}return a(l,c),o(l,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),l._dropdowns.splice(l._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(t){t.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(e){var n=e.toElement||e.relatedTarget,i=!!t(n).closest(".dropdown-content").length,r=!1,o=t(n).closest(".dropdown-trigger");o.length&&o[0].M_Dropdown&&o[0].M_Dropdown.isOpen&&(r=!0),r||i||this.close()}},{key:"_handleDocumentClick",value:function(e){var n=this,i=t(e.target);this.options.closeOnClick&&i.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout((function(){n.close()}),0):!i.closest(".dropdown-trigger").length&&i.closest(".dropdown-content").length||setTimeout((function(){n.close()}),0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(t){t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ENTER||this.isOpen||(t.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(e){t(e.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(e){if("function"==typeof this.options.onItemClick){var n=t(e.target).closest("li")[0];this.options.onItemClick.call(this,n)}}},{key:"_handleDropdownKeydown",value:function(e){if(e.which===M.keys.TAB)e.preventDefault(),this.close();else if(e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||!this.isOpen)if(e.which===M.keys.ENTER&&this.isOpen){var n=this.dropdownEl.children[this.focusedIndex],i=t(n).find("a, button").first();i.length?i[0].click():n.click()}else e.which===M.keys.ESC&&this.isOpen&&(e.preventDefault(),this.close());else{e.preventDefault();var r=e.which===M.keys.ARROW_DOWN?1:-1,o=this.focusedIndex,s=!1;do{if(o+=r,this.dropdownEl.children[o]&&-1!==this.dropdownEl.children[o].tabIndex){s=!0;break}}while(o<this.dropdownEl.children.length&&0<=o);s&&(this.focusedIndex=o,this._focusFocusedItem())}var a=String.fromCharCode(e.which).toLowerCase();if(a&&-1===[9,13,27,38,40].indexOf(e.which)){this.filterQuery.push(a);var u=this.filterQuery.join(""),l=t(this.dropdownEl).find("li").filter((function(e){return 0===t(e).text().toLowerCase().indexOf(u)}))[0];l&&(this.focusedIndex=t(l).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,t(this.dropdownEl).children().each((function(t){t.getAttribute("tabindex")||t.setAttribute("tabindex",0)}))}},{key:"_focusFocusedItem",value:function(){0<=this.focusedIndex&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var t=this.el.getBoundingClientRect(),e=this.dropdownEl.getBoundingClientRect(),n=e.height,i=e.width,r=t.left-e.left,o=t.top-e.top,s={left:r,top:o,height:n,width:i},a=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,u=M.checkPossibleAlignments(this.el,a,s,this.options.coverTrigger?0:t.height),l="top",c=this.options.alignment;if(o+=this.options.coverTrigger?0:t.height,this.isScrollable=!1,u.top||(u.bottom?l="bottom":(this.isScrollable=!0,u.spaceOnTop>u.spaceOnBottom?(l="bottom",n+=u.spaceOnTop,o-=u.spaceOnTop):n+=u.spaceOnBottom)),!u[c]){var h="left"===c?"right":"left";u[h]?c=h:u.spaceOnLeft>u.spaceOnRight?(c="right",i+=u.spaceOnLeft,r-=u.spaceOnLeft):(c="left",i+=u.spaceOnRight)}return"bottom"===l&&(o=o-e.height+(this.options.coverTrigger?t.height:0)),"right"===c&&(r=r-e.width+t.width),{x:r,y:o,verticalAlignment:l,horizontalAlignment:c,height:n,width:i}}},{key:"_animateIn",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(e){if(t.options.autoFocus&&t.dropdownEl.focus(),"function"==typeof t.options.onOpenEnd){var n=e.animatables[0].target;t.options.onOpenEnd.call(n,t.el)}}})}},{key:"_animateOut",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(e){t._resetDropdownStyles(),"function"==typeof t.options.onCloseEnd&&(e.animatables[0].target,t.options.onCloseEnd.call(t,t.el))}})}},{key:"_placeDropdown",value:function(){var t=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=t+"px";var e=this._getDropdownPosition();this.dropdownEl.style.left=e.x+"px",this.dropdownEl.style.top=e.y+"px",this.dropdownEl.style.height=e.height+"px",this.dropdownEl.style.width=e.width+"px",this.dropdownEl.style.transformOrigin=("left"===e.horizontalAlignment?"0":"100%")+" "+("top"===e.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Dropdown}},{key:"defaults",get:function(){return n}}]),l}();i._dropdowns=[],window.M.Dropdown=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"dropdown","M_Dropdown")}(cash,M.anime),function(t,e){"use strict";var n={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return(i.el.M_Modal=i).options=t.extend({},l.defaults,n),i.isOpen=!1,i.id=i.$el.attr("id"),i._openingTrigger=void 0,i.$overlay=t('<div class="modal-overlay"></div>'),i.el.tabIndex=0,i._nthModalOpened=0,l._count++,i._setupEventHandlers(),i}return a(l,c),o(l,[{key:"destroy",value:function(){l._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===l._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===l._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(e){var n=t(e.target).closest(".modal-trigger");if(n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Modal;r&&r.open(n),e.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(e){t(e.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(t){27===t.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(t){this.el.contains(t.target)||this._nthModalOpened!==l._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var n=this;t.extend(this.el.style,{display:"block",opacity:0}),t.extend(this.$overlay[0].style,{display:"block",opacity:0}),e({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var i={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,n.el,n._openingTrigger)}};this.el.classList.contains("bottom-sheet")?t.extend(i,{bottom:0,opacity:1}):t.extend(i,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),e(i)}},{key:"_animateOut",value:function(){var n=this;e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var i={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){n.el.style.display="none",n.$overlay.remove(),"function"==typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,n.el)}};this.el.classList.contains("bottom-sheet")?t.extend(i,{bottom:"-100%",opacity:0}):t.extend(i,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),e(i)}},{key:"open",value:function(t){if(!this.isOpen)return this.isOpen=!0,l._modalsOpen++,this._nthModalOpened=l._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*l._modalsOpen,this.el.style.zIndex=1e3+2*l._modalsOpen+1,this._openingTrigger=t?t[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),e.remove(this.el),e.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,l._modalsOpen--,this._nthModalOpened=0,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===l._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),e.remove(this.el),e.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Modal}},{key:"defaults",get:function(){return n}}]),l}();i._modalsOpen=0,i._count=0,M.Modal=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"modal","M_Modal")}(cash,M.anime),function(t,e){"use strict";var n={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return(i.el.M_Materialbox=i).options=t.extend({},l.defaults,n),i.overlayActive=!1,i.doneAnimating=!0,i.placeholder=t("<div></div>").addClass("material-placeholder"),i.originalWidth=0,i.originalHeight=0,i.originInlineStyles=i.$el.attr("style"),i.caption=i.el.getAttribute("data-caption")||"",i.$el.before(i.placeholder),i.placeholder.append(i.$el),i._setupEventHandlers(),i}return a(l,c),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,t(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(t){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(t){27===t.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=t();for(var e=this.placeholder[0].parentNode;null!==e&&!t(e).is(document);){var n=t(e);"visible"!==n.css("overflow")&&(n.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=n:this.ancestorsChanged=this.ancestorsChanged.add(n)),e=e.parentNode}}},{key:"_animateImageIn",value:function(){var t=this,n={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){t.doneAnimating=!0,"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(n.maxWidth=this.newWidth),"none"!==this.maxHeight&&(n.maxHeight=this.newHeight),e(n)}},{key:"_animateImageOut",value:function(){var t=this,n={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.placeholder.css({height:"",width:"",position:"",top:"",left:""}),t.attrWidth&&t.$el.attr("width",t.attrWidth),t.attrHeight&&t.$el.attr("height",t.attrHeight),t.$el.removeAttr("style"),t.originInlineStyles&&t.$el.attr("style",t.originInlineStyles),t.$el.removeClass("active"),t.doneAnimating=!0,t.ancestorsChanged.length&&t.ancestorsChanged.css("overflow",""),"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}};e(n)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var n=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=t('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",(function(){n.doneAnimating&&n.close()})),this.$el.before(this.$overlay);var i=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*i.left+"px",top:-1*i.top+"px"}),e.remove(this.el),e.remove(this.$overlay[0]),e({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&e.remove(this.$photoCaption[0]),this.$photoCaption=t('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),t("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),e({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var r=0,o=this.originalWidth/this.windowWidth,s=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,s<o?(r=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*r):(r=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*r,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var t=this;this._updateVars(),this.doneAnimating=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),e.remove(this.el),e.remove(this.$overlay[0]),""!==this.caption&&e.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.overlayActive=!1,t.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&e({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.$photoCaption.remove()}})}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Materialbox}},{key:"defaults",get:function(){return n}}]),l}();M.Materialbox=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"materialbox","M_Materialbox")}(cash,M.anime),function(t){"use strict";var e={responsiveThreshold:0},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_Parallax=r).options=t.extend({},i.defaults,n),r._enabled=window.innerWidth>r.options.responsiveThreshold,r.$img=r.$el.find("img").first(),r.$img.each((function(){this.complete&&t(this).trigger("load")})),r._updateParallax(),r._setupEventHandlers(),r._setupStyles(),i._parallaxes.push(r),r}return a(i,c),o(i,[{key:"destroy",value:function(){i._parallaxes.splice(i._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(i._handleScrollThrottled=M.throttle(i._handleScroll,5),window.addEventListener("scroll",i._handleScrollThrottled),i._handleWindowResizeThrottled=M.throttle(i._handleWindowResize,5),window.addEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(window.removeEventListener("scroll",i._handleScrollThrottled),window.removeEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var t=0<this.$el.height()?this.el.parentNode.offsetHeight:500,e=this.$img[0].offsetHeight-t,n=this.$el.offset().top+t,i=this.$el.offset().top,r=M.getDocumentScrollTop(),o=window.innerHeight,s=e*((r+o-i)/(t+o));this._enabled?r<n&&i<r+o&&(this.$img[0].style.transform="translate3D(-50%, "+s+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Parallax}},{key:"_handleScroll",value:function(){for(var t=0;t<i._parallaxes.length;t++){var e=i._parallaxes[t];e._updateParallax.call(e)}}},{key:"_handleWindowResize",value:function(){for(var t=0;t<i._parallaxes.length;t++){var e=i._parallaxes[t];e._enabled=window.innerWidth>e.options.responsiveThreshold}}},{key:"defaults",get:function(){return e}}]),i}();n._parallaxes=[],M.Parallax=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"parallax","M_Parallax")}(cash),function(t,e){"use strict";var n={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return(i.el.M_Tabs=i).options=t.extend({},l.defaults,n),i.$tabLinks=i.$el.children("li.tab").children("a"),i.index=0,i._setupActiveTabLink(),i.options.swipeable?i._setupSwipeableTabs():i._setupNormalTabs(),i._setTabsAndTabWidth(),i._createIndicator(),i._setupEventHandlers(),i}return a(l,c),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(e){var n=this,i=t(e.target).closest("li.tab"),r=t(e.target).closest("a");if(r.length&&r.parent().hasClass("tab"))if(i.hasClass("disabled"))e.preventDefault();else if(!r.attr("target")){this.$activeTabLink.removeClass("active");var o=this.$content;this.$activeTabLink=r,this.$content=t(M.escapeHash(r[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var s=this.index;this.index=Math.max(this.$tabLinks.index(r),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,(function(){"function"==typeof n.options.onShow&&n.options.onShow.call(n,n.$content[0])})):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"==typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),o.length&&!o.is(this.$content)&&(o[0].style.display="none",o.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(s),e.preventDefault()}}},{key:"_createIndicator",value:function(){var t=this,e=document.createElement("li");e.classList.add("indicator"),this.el.appendChild(e),this._indicator=e,setTimeout((function(){t._indicator.style.left=t._calcLeftPos(t.$activeTabLink)+"px",t._indicator.style.right=t._calcRightPos(t.$activeTabLink)+"px"}),0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=t(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=t(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var e=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var n=t();this.$tabLinks.each((function(e){var i=t(M.escapeHash(e.hash));i.addClass("carousel-item"),n=n.add(i)}));var i=t('<div class="tabs-content carousel carousel-slider"></div>');n.first().before(i),i.append(n),n[0].style.display="";var r=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(i[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(n){var i=e.index;e.index=t(n).index(),e.$activeTabLink.removeClass("active"),e.$activeTabLink=e.$tabLinks.eq(e.index),e.$activeTabLink.addClass("active"),e._animateIndicator(i),"function"==typeof e.options.onShow&&e.options.onShow.call(e,e.$content[0])}}),this._tabsCarousel.set(r)}},{key:"_teardownSwipeableTabs",value:function(){var t=this._tabsCarousel.$el;this._tabsCarousel.destroy(),t.after(t.children()),t.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each((function(e){if(e.hash){var n=t(M.escapeHash(e.hash));n.length&&(n[0].style.display="none")}}))}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each((function(e){if(e.hash){var n=t(M.escapeHash(e.hash));n.length&&(n[0].style.display="")}}))}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(t){return Math.ceil(this.tabsWidth-t.position().left-t[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(t){return Math.floor(t.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(t){var n=0,i=0;0<=this.index-t?n=90:i=90;var r={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:n},right:{value:this._calcRightPos(this.$activeTabLink),delay:i},duration:this.options.duration,easing:"easeOutQuad"};e.remove(this._indicator),e(r)}},{key:"select",value:function(t){var e=this.$tabLinks.filter('[href="#'+t+'"]');e.length&&e.trigger("click")}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tabs}},{key:"defaults",get:function(){return n}}]),l}();window.M.Tabs=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tabs","M_Tabs")}(cash,M.anime),function(t,e){"use strict";var n={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return(i.el.M_Tooltip=i).options=t.extend({},l.defaults,n),i.isOpen=!1,i.isHovered=!1,i.isFocused=!1,i._appendTooltipEl(),i._setupEventHandlers(),i}return a(l,c),o(l,[{key:"destroy",value:function(){t(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var t=document.createElement("div");t.classList.add("material-tooltip"),this.tooltipEl=t;var e=document.createElement("div");e.classList.add("tooltip-content"),e.innerHTML=this.options.html,t.appendChild(e),document.body.appendChild(t)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(e){this.isOpen||(e=void 0===e||void 0,this.isOpen=!0,this.options=t.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(e))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var t=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout((function(){t.isHovered||t.isFocused||t._animateOut()}),this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(t){var e=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout((function(){(e.isHovered||e.isFocused||t)&&e._animateIn()}),this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var e,n=this.el,i=this.tooltipEl,r=n.offsetHeight,o=n.offsetWidth,s=i.offsetHeight,a=i.offsetWidth,u=this.options.margin,l=void 0,c=void 0;this.xMovement=0,this.yMovement=0,l=n.getBoundingClientRect().top+M.getDocumentScrollTop(),c=n.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(l+=-s-u,c+=o/2-a/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(l+=r/2-s/2,c+=o+u,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(l+=r/2-s/2,c+=-a-u,this.xMovement=-this.options.transitionMovement):(l+=r+u,c+=o/2-a/2,this.yMovement=this.options.transitionMovement),e=this._repositionWithinScreen(c,l,a,s),t(i).css({top:e.y+"px",left:e.x+"px"})}},{key:"_repositionWithinScreen",value:function(t,e,n,i){var r=M.getDocumentScrollLeft(),o=M.getDocumentScrollTop(),s=t-r,a=e-o,u={left:s,top:a,width:n,height:i},l=this.options.margin+this.options.transitionMovement,c=M.checkWithinContainer(document.body,u,l);return c.left?s=l:c.right&&(s-=s+n-window.innerWidth),c.top?a=l:c.bottom&&(a-=a+i-window.innerHeight),{x:s+r,y:a+o}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var t={},e=this.el.getAttribute("data-tooltip"),n=this.el.getAttribute("data-position");return e&&(t.html=e),n&&(t.position=n),t}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tooltip}},{key:"defaults",get:function(){return n}}]),l}();M.Tooltip=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tooltip","M_Tooltip")}(cash,M.anime),function(t){"use strict";var e=e||{},n=document.querySelectorAll.bind(document);function i(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e}var r={duration:750,show:function(t,e){if(2===t.button)return!1;var n=e||this,o=document.createElement("div");o.className="waves-ripple",n.appendChild(o);var s,a,u,l,c,h,d,f=(h={top:0,left:0},a=(d=(s=n)&&s.ownerDocument).documentElement,void 0!==s.getBoundingClientRect&&(h=s.getBoundingClientRect()),u=null!==(c=l=d)&&c===c.window?l:9===l.nodeType&&l.defaultView,{top:h.top+u.pageYOffset-a.clientTop,left:h.left+u.pageXOffset-a.clientLeft}),p=t.pageY-f.top,v=t.pageX-f.left,g="scale("+n.clientWidth/100*10+")";"touches"in t&&(p=t.touches[0].pageY-f.top,v=t.touches[0].pageX-f.left),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-scale",g),o.setAttribute("data-x",v),o.setAttribute("data-y",p);var y={top:p+"px",left:v+"px"};o.className=o.className+" waves-notransition",o.setAttribute("style",i(y)),o.className=o.className.replace("waves-notransition",""),y["-webkit-transform"]=g,y["-moz-transform"]=g,y["-ms-transform"]=g,y["-o-transform"]=g,y.transform=g,y.opacity="1",y["-webkit-transition-duration"]=r.duration+"ms",y["-moz-transition-duration"]=r.duration+"ms",y["-o-transition-duration"]=r.duration+"ms",y["transition-duration"]=r.duration+"ms",y["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",y["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",y["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",y["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",o.setAttribute("style",i(y))},hide:function(t){o.touchup(t);var e=this,n=(e.clientWidth,null),s=e.getElementsByClassName("waves-ripple");if(!(0<s.length))return!1;var a=(n=s[s.length-1]).getAttribute("data-x"),u=n.getAttribute("data-y"),l=n.getAttribute("data-scale"),c=350-(Date.now()-Number(n.getAttribute("data-hold")));c<0&&(c=0),setTimeout((function(){var t={top:u+"px",left:a+"px",opacity:"0","-webkit-transition-duration":r.duration+"ms","-moz-transition-duration":r.duration+"ms","-o-transition-duration":r.duration+"ms","transition-duration":r.duration+"ms","-webkit-transform":l,"-moz-transform":l,"-ms-transform":l,"-o-transform":l,transform:l};n.setAttribute("style",i(t)),setTimeout((function(){try{e.removeChild(n)}catch(t){return!1}}),r.duration)}),c)},wrapInput:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&-1!==i.className.indexOf("waves-effect"))continue;var r=document.createElement("i");r.className=n.className+" waves-input-wrapper";var o=n.getAttribute("style");o||(o=""),r.setAttribute("style",o),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(r,n),r.appendChild(n)}}}},o={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?o.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout((function(){0<o.touches&&(o.touches-=1)}),500):"mousedown"===t.type&&0<o.touches&&(e=!1),e},touchup:function(t){o.allowEvent(t)}};function s(e){var n=function(t){if(!1===o.allowEvent(t))return null;for(var e=null,n=t.target||t.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){e=n;break}n=n.parentNode}return e}(e);null!==n&&(r.show(e,n),"ontouchstart"in t&&(n.addEventListener("touchend",r.hide,!1),n.addEventListener("touchcancel",r.hide,!1)),n.addEventListener("mouseup",r.hide,!1),n.addEventListener("mouseleave",r.hide,!1),n.addEventListener("dragend",r.hide,!1))}e.displayEffect=function(e){"duration"in(e=e||{})&&(r.duration=e.duration),r.wrapInput(n(".waves-effect")),"ontouchstart"in t&&document.body.addEventListener("touchstart",s,!1),document.body.addEventListener("mousedown",s,!1)},e.attach=function(e){"input"===e.tagName.toLowerCase()&&(r.wrapInput([e]),e=e.parentNode),"ontouchstart"in t&&e.addEventListener("touchstart",s,!1),e.addEventListener("mousedown",s,!1)},t.Waves=e,document.addEventListener("DOMContentLoaded",(function(){e.displayEffect()}),!1)}(window),function(t,e){"use strict";var n={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},i=function(){function i(e){u(this,i),this.options=t.extend({},i.defaults,e),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===i._toasts.length&&i._createContainer(),i._toasts.push(this);var n=this._createToast();(n.M_Toast=this).el=n,this.$el=t(n),this._animateIn(),this._setTimer()}return o(i,[{key:"_createToast",value:function(){var e=document.createElement("div");return e.classList.add("toast"),this.options.classes.length&&t(e).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?e.appendChild(this.message):this.message.jquery?t(e).append(this.message[0]):e.innerHTML=this.message,i._container.appendChild(e),e}},{key:"_animateIn",value:function(){e({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var t=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval((function(){t.panning||(t.timeRemaining-=20),t.timeRemaining<=0&&t.dismiss()}),20))}},{key:"dismiss",value:function(){var t=this;window.clearInterval(this.counterInterval);var n=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+n+"px)",this.el.style.opacity=0),e({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof t.options.completeCallback&&t.options.completeCallback(),t.$el.remove(),i._toasts.splice(i._toasts.indexOf(t),1),0===i._toasts.length&&i._removeContainer()}})}}],[{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Toast}},{key:"_createContainer",value:function(){var t=document.createElement("div");t.setAttribute("id","toast-container"),t.addEventListener("touchstart",i._onDragStart),t.addEventListener("touchmove",i._onDragMove),t.addEventListener("touchend",i._onDragEnd),t.addEventListener("mousedown",i._onDragStart),document.addEventListener("mousemove",i._onDragMove),document.addEventListener("mouseup",i._onDragEnd),document.body.appendChild(t),i._container=t}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",i._onDragMove),document.removeEventListener("mouseup",i._onDragEnd),t(i._container).remove(),i._container=null}},{key:"_onDragStart",value:function(e){if(e.target&&t(e.target).closest(".toast").length){var n=t(e.target).closest(".toast")[0].M_Toast;n.panning=!0,(i._draggedToast=n).el.classList.add("panning"),n.el.style.transition="",n.startingXPos=i._xPos(e),n.time=Date.now(),n.xPos=i._xPos(e)}}},{key:"_onDragMove",value:function(t){if(i._draggedToast){t.preventDefault();var e=i._draggedToast;e.deltaX=Math.abs(e.xPos-i._xPos(t)),e.xPos=i._xPos(t),e.velocityX=e.deltaX/(Date.now()-e.time),e.time=Date.now();var n=e.xPos-e.startingXPos,r=e.el.offsetWidth*e.options.activationPercent;e.el.style.transform="translateX("+n+"px)",e.el.style.opacity=1-Math.abs(n/r)}}},{key:"_onDragEnd",value:function(){if(i._draggedToast){var t=i._draggedToast;t.panning=!1,t.el.classList.remove("panning");var e=t.xPos-t.startingXPos,n=t.el.offsetWidth*t.options.activationPercent;Math.abs(e)>n||1<t.velocityX?(t.wasSwiped=!0,t.dismiss()):(t.el.style.transition="transform .2s, opacity .2s",t.el.style.transform="",t.el.style.opacity=""),i._draggedToast=null}}},{key:"_xPos",value:function(t){return t.targetTouches&&1<=t.targetTouches.length?t.targetTouches[0].clientX:t.clientX}},{key:"dismissAll",value:function(){for(var t in i._toasts)i._toasts[t].dismiss()}},{key:"defaults",get:function(){return n}}]),i}();i._toasts=[],i._container=null,i._draggedToast=null,M.Toast=i,M.toast=function(t){return new i(t)}}(cash,M.anime),function(t,e){"use strict";var n={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return(i.el.M_Sidenav=i).id=i.$el.attr("id"),i.options=t.extend({},l.defaults,n),i.isOpen=!1,i.isFixed=i.el.classList.contains("sidenav-fixed"),i.isDragged=!1,i.lastWindowWidth=window.innerWidth,i.lastWindowHeight=window.innerHeight,i._createOverlay(),i._createDragTarget(),i._setupEventHandlers(),i._setupClasses(),i._setupFixed(),l._sidenavs.push(i),i}return a(l,c),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var t=l._sidenavs.indexOf(this);0<=t&&l._sidenavs.splice(t,1)}},{key:"_createOverlay",value:function(){var t=document.createElement("div");this._closeBound=this.close.bind(this),t.classList.add("sidenav-overlay"),t.addEventListener("click",this._closeBound),document.body.appendChild(t),this._overlay=t}},{key:"_setupEventHandlers",value:function(){0===l._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===l._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(e){var n=t(e.target).closest(".sidenav-trigger");if(e.target&&n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Sidenav;r&&r.open(n),e.preventDefault()}}},{key:"_startDrag",value:function(t){var n=t.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=n,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,e.remove(this.el),e.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(t){var e=t.targetTouches[0].clientX,n=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-e),this._xPos=e,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==n&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(t){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,n=0<e?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge===n&&(e=0);var i=e,r="translateX(-100%)";"right"===this.options.edge&&(r="translateX(100%)",i=-i),this.percentOpen=Math.min(1,e/this._width),this.el.style.transform=r+" translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(.2<this.percentOpen?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(t){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,n=0<e?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge!==n&&(e=0);var i=-e;"right"===this.options.edge&&(i=-i),this.percentOpen=Math.min(1,1-e/this._width),this.el.style.transform="translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(.8<this.percentOpen?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(e){t(e.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(992<window.innerWidth?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&992<window.innerWidth}},{key:"_createDragTarget",value:function(){var t=document.createElement("div");t.classList.add("drag-target"),document.body.appendChild(t),this.dragTarget=t}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(e.remove(this.el),e({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var t="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+t+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var t=this,n="left"===this.options.edge?-1:1;this.isDragged&&(n="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*n+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}})}},{key:"_animateOverlayIn",value:function(){var n=0;this.isDragged?n=this.percentOpen:t(this._overlay).css({display:"block"}),e.remove(this._overlay),e({targets:this._overlay,opacity:[n,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var t=this,n="left"===this.options.edge?-1:1,i=0;this.isDragged&&(i="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*i+"%",105*n+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}})}},{key:"_animateOverlayOut",value:function(){var n=this;e.remove(this._overlay),e({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t(n._overlay).css("display","none")}})}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Sidenav}},{key:"defaults",get:function(){return n}}]),l}();i._sidenavs=[],window.M.Sidenav=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"sidenav","M_Sidenav")}(cash,M.anime),function(t,e){"use strict";var n={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(t){return'a[href="#'+t+'"]'}},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return(i.el.M_ScrollSpy=i).options=t.extend({},l.defaults,n),l._elements.push(i),l._count++,l._increment++,i.tickId=-1,i.id=l._increment,i._setupEventHandlers(),i._handleWindowScroll(),i}return a(l,c),o(l,[{key:"destroy",value:function(){l._elements.splice(l._elements.indexOf(this),1),l._elementsInView.splice(l._elementsInView.indexOf(this),1),l._visibleElements.splice(l._visibleElements.indexOf(this.$el),1),l._count--,this._removeEventHandlers(),t(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var t=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=t.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===l._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===l._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(n){for(var i=t(n.target),r=l._elements.length-1;0<=r;r--){var o=l._elements[r];if(i.is('a[href="#'+o.$el.attr("id")+'"]')){n.preventDefault();var s=o.$el.offset().top+1;e({targets:[document.documentElement,document.body],scrollTop:s-o.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){l._ticks++;for(var t=M.getDocumentScrollTop(),e=M.getDocumentScrollLeft(),n=e+window.innerWidth,i=t+window.innerHeight,r=l._findElements(t,n,i,e),o=0;o<r.length;o++){var s=r[o];s.tickId<0&&s._enter(),s.tickId=l._ticks}for(var a=0;a<l._elementsInView.length;a++){var u=l._elementsInView[a],c=u.tickId;0<=c&&c!==l._ticks&&(u._exit(),u.tickId=-1)}l._elementsInView=r}},{key:"_enter",value:function(){(l._visibleElements=l._visibleElements.filter((function(t){return 0!=t.height()})))[0]?(t(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),l._visibleElements[0][0].M_ScrollSpy&&this.id<l._visibleElements[0][0].M_ScrollSpy.id?l._visibleElements.unshift(this.$el):l._visibleElements.push(this.$el)):l._visibleElements.push(this.$el),t(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var e=this;(l._visibleElements=l._visibleElements.filter((function(t){return 0!=t.height()})))[0]&&(t(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),(l._visibleElements=l._visibleElements.filter((function(t){return t.attr("id")!=e.$el.attr("id")})))[0]&&t(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_ScrollSpy}},{key:"_findElements",value:function(t,e,n,i){for(var r=[],o=0;o<l._elements.length;o++){var s=l._elements[o],a=t+s.options.scrollOffset||200;if(0<s.$el.height()){var u=s.$el.offset().top,c=s.$el.offset().left,h=c+s.$el.width(),d=u+s.$el.height();!(e<c||h<i||n<u||d<a)&&r.push(s)}}return r}},{key:"defaults",get:function(){return n}}]),l}();i._elements=[],i._elementsInView=[],i._visibleElements=[],i._count=0,i._increment=0,i._ticks=0,M.ScrollSpy=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(t){"use strict";var e={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(t,e,n){return t.indexOf(n)-e.indexOf(n)}},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_Autocomplete=r).options=t.extend({},i.defaults,n),r.isOpen=!1,r.count=0,r.activeIndex=-1,r.oldVal,r.$inputField=r.$el.closest(".input-field"),r.$active=t(),r._mousedown=!1,r._setupDropdown(),r._setupEventHandlers(),r}return a(i,c),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var e=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),t(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(n){e.selectOption(t(n))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(t){"keyup"===t.type&&(i._keydown=!1),this.count=0;var e=this.el.value.toLowerCase();13!==t.keyCode&&38!==t.keyCode&&40!==t.keyCode&&(this.oldVal===e||!M.tabPressed&&"focus"===t.type||this.open(),this.oldVal=e)}},{key:"_handleInputKeydown",value:function(e){i._keydown=!0;var n=e.keyCode,r=void 0,o=t(this.container).children("li").length;n===M.keys.ENTER&&0<=this.activeIndex?(r=t(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(r),e.preventDefault()):n!==M.keys.ARROW_UP&&n!==M.keys.ARROW_DOWN||(e.preventDefault(),n===M.keys.ARROW_UP&&0<this.activeIndex&&this.activeIndex--,n===M.keys.ARROW_DOWN&&this.activeIndex<o-1&&this.activeIndex++,this.$active.removeClass("active"),0<=this.activeIndex&&(this.$active=t(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(t){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(t){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(t){this._mousedown=!1}},{key:"_highlight",value:function(t,e){var n=e.find("img"),i=e.text().toLowerCase().indexOf(""+t.toLowerCase()),r=i+t.length-1,o=e.text().slice(0,i),s=e.text().slice(i,r+1),a=e.text().slice(r+1);e.html("<span>"+o+"<span class='highlight'>"+s+"</span>"+a+"</span>"),n.length&&e.prepend(n)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){t(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(t){var e=t.text().trim();this.el.value=e,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,e)}},{key:"_renderDropdown",value:function(e,n){var i=this;this._resetAutocomplete();var r=[];for(var o in e)if(e.hasOwnProperty(o)&&-1!==o.toLowerCase().indexOf(n)){if(this.count>=this.options.limit)break;var s={data:e[o],key:o};r.push(s),this.count++}this.options.sortFunction&&r.sort((function(t,e){return i.options.sortFunction(t.key.toLowerCase(),e.key.toLowerCase(),n.toLowerCase())}));for(var a=0;a<r.length;a++){var u=r[a],l=t("<li></li>");u.data?l.append('<img src="'+u.data+'" class="right circle"><span>'+u.key+"</span>"):l.append("<span>"+u.key+"</span>"),t(this.container).append(l),this._highlight(n,l)}}},{key:"open",value:function(){var t=this.el.value.toLowerCase();this._resetAutocomplete(),t.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,t)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(t){var e=this.el.value.toLowerCase();this.options.data=t,this.isOpen&&this._renderDropdown(t,e)}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Autocomplete}},{key:"defaults",get:function(){return e}}]),i}();n._keydown=!1,M.Autocomplete=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"autocomplete","M_Autocomplete")}(cash),v=cash,M.updateTextFields=function(){v("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each((function(t,e){var n=v(this);0<t.value.length||v(t).is(":focus")||t.autofocus||null!==n.attr("placeholder")?n.siblings("label").addClass("active"):t.validity?n.siblings("label").toggleClass("active",!0===t.validity.badInput):n.siblings("label").removeClass("active")}))},M.validate_field=function(t){var e=null!==t.attr("data-length"),n=parseInt(t.attr("data-length")),i=t[0].value.length;0!==i||!1!==t[0].validity.badInput||t.is(":required")?t.hasClass("validate")&&(t.is(":valid")&&e&&i<=n||t.is(":valid")&&!e?(t.removeClass("invalid"),t.addClass("valid")):(t.removeClass("valid"),t.addClass("invalid"))):t.hasClass("validate")&&(t.removeClass("valid"),t.removeClass("invalid"))},M.textareaAutoResize=function(t){if(t instanceof Element&&(t=v(t)),t.length){var e=v(".hiddendiv").first();e.length||(e=v('<div class="hiddendiv common"></div>'),v("body").append(e));var n=t.css("font-family"),i=t.css("font-size"),r=t.css("line-height"),o=t.css("padding-top"),s=t.css("padding-right"),a=t.css("padding-bottom"),u=t.css("padding-left");i&&e.css("font-size",i),n&&e.css("font-family",n),r&&e.css("line-height",r),o&&e.css("padding-top",o),s&&e.css("padding-right",s),a&&e.css("padding-bottom",a),u&&e.css("padding-left",u),t.data("original-height")||t.data("original-height",t.height()),"off"===t.attr("wrap")&&e.css("overflow-wrap","normal").css("white-space","pre"),e.text(t[0].value+"\n");var l=e.html().replace(/\n/g,"<br>");e.html(l),0<t[0].offsetWidth&&0<t[0].offsetHeight?e.css("width",t.width()+"px"):e.css("width",window.innerWidth/2+"px"),t.data("original-height")<=e.innerHeight()?t.css("height",e.innerHeight()+"px"):t[0].value.length<t.data("previous-length")&&t.css("height",t.data("original-height")+"px"),t.data("previous-length",t[0].value.length)}else console.error("No textarea element found")},v(document).ready((function(){var t="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";v(document).on("change",t,(function(){0===this.value.length&&null===v(this).attr("placeholder")||v(this).siblings("label").addClass("active"),M.validate_field(v(this))})),v(document).ready((function(){M.updateTextFields()})),v(document).on("reset",(function(e){var n=v(e.target);n.is("form")&&(n.find(t).removeClass("valid").removeClass("invalid"),n.find(t).each((function(t){this.value.length&&v(this).siblings("label").removeClass("active")})),setTimeout((function(){n.find("select").each((function(){this.M_FormSelect&&v(this).trigger("change")}))}),0))})),document.addEventListener("focus",(function(e){v(e.target).is(t)&&v(e.target).siblings("label, .prefix").addClass("active")}),!0),document.addEventListener("blur",(function(e){var n=v(e.target);if(n.is(t)){var i=".prefix";0===n[0].value.length&&!0!==n[0].validity.badInput&&null===n.attr("placeholder")&&(i+=", label"),n.siblings(i).removeClass("active"),M.validate_field(n)}}),!0),v(document).on("keyup","input[type=radio], input[type=checkbox]",(function(t){if(t.which===M.keys.TAB)return v(this).addClass("tabbed"),void v(this).one("blur",(function(t){v(this).removeClass("tabbed")}))}));var e=".materialize-textarea";v(e).each((function(){var t=v(this);t.data("original-height",t.height()),t.data("previous-length",this.value.length),M.textareaAutoResize(t)})),v(document).on("keyup",e,(function(){M.textareaAutoResize(v(this))})),v(document).on("keydown",e,(function(){M.textareaAutoResize(v(this))})),v(document).on("change",'.file-field input[type="file"]',(function(){for(var t=v(this).closest(".file-field").find("input.file-path"),e=v(this)[0].files,n=[],i=0;i<e.length;i++)n.push(e[i].name);t[0].value=n.join(", "),t.trigger("change")}))})),function(t,e){"use strict";var n={indicators:!0,height:400,duration:500,interval:6e3},i=function(i){function l(n,i){u(this,l);var r=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,i));return(r.el.M_Slider=r).options=t.extend({},l.defaults,i),r.$slider=r.$el.find(".slides"),r.$slides=r.$slider.children("li"),r.activeIndex=r.$slides.filter((function(e){return t(e).hasClass("active")})).first().index(),-1!=r.activeIndex&&(r.$active=r.$slides.eq(r.activeIndex)),r._setSliderHeight(),r.$slides.find(".caption").each((function(t){r._animateCaptionIn(t,0)})),r.$slides.find("img").each((function(e){var n="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";t(e).attr("src")!==n&&(t(e).css("background-image",'url("'+t(e).attr("src")+'")'),t(e).attr("src",n))})),r._setupIndicators(),r.$active?r.$active.css("display","block"):(r.$slides.first().addClass("active"),e({targets:r.$slides.first()[0],opacity:1,duration:r.options.duration,easing:"easeOutQuad"}),r.activeIndex=0,r.$active=r.$slides.eq(r.activeIndex),r.options.indicators&&r.$indicators.eq(r.activeIndex).addClass("active")),r.$active.find("img").each((function(t){e({targets:r.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:r.options.duration,easing:"easeOutQuad"})})),r._setupEventHandlers(),r.start(),r}return a(l,c),o(l,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each((function(e){e.addEventListener("click",t._handleIndicatorClickBound)}))}},{key:"_removeEventHandlers",value:function(){var t=this;this.options.indicators&&this.$indicators.each((function(e){e.removeEventListener("click",t._handleIndicatorClickBound)}))}},{key:"_handleIndicatorClick",value:function(e){var n=t(e.target).index();this.set(n)}},{key:"_handleInterval",value:function(){var t=this.$slider.find(".active").index();this.$slides.length===t+1?t=0:t+=1,this.set(t)}},{key:"_animateCaptionIn",value:function(n,i){var r={targets:n,opacity:0,duration:i,easing:"easeOutQuad"};t(n).hasClass("center-align")?r.translateY=-100:t(n).hasClass("right-align")?r.translateX=100:t(n).hasClass("left-align")&&(r.translateX=-100),e(r)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var e=this;this.options.indicators&&(this.$indicators=t('<ul class="indicators"></ul>'),this.$slides.each((function(n,i){var r=t('<li class="indicator-item"></li>');e.$indicators.append(r[0])})),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(t){var n=this;if(t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.activeIndex!=t){this.$active=this.$slides.eq(this.activeIndex);var i=this.$active.find(".caption");this.$active.removeClass("active"),e({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){n.$slides.not(".active").each((function(t){e({targets:t,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})}))}}),this._animateCaptionIn(i[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(t).addClass("active")),e({targets:this.$slides.eq(t)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),e({targets:this.$slides.eq(t).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(t).addClass("active"),this.activeIndex=t,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var t=this.activeIndex+1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}},{key:"prev",value:function(){var t=this.activeIndex-1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Slider}},{key:"defaults",get:function(){return n}}]),l}();M.Slider=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"slider","M_Slider")}(cash,M.anime),f=cash,p=M.anime,f(document).on("click",".card",(function(t){if(f(this).children(".card-reveal").length){var e=f(t.target).closest(".card");void 0===e.data("initialOverflow")&&e.data("initialOverflow",void 0===e.css("overflow")?"":e.css("overflow"));var n=f(this).find(".card-reveal");f(t.target).is(f(".card-reveal .card-title"))||f(t.target).is(f(".card-reveal .card-title i"))?p({targets:n[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(t){var n=t.animatables[0].target;f(n).css({display:"none"}),e.css("overflow",e.data("initialOverflow"))}}):(f(t.target).is(f(".card .activator"))||f(t.target).is(f(".card .activator i")))&&(e.css("overflow","hidden"),n.css({display:"block"}),p({targets:n[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}})),function(t){"use strict";var e={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_Chips=r).options=t.extend({},i.defaults,n),r.$el.addClass("chips input-field"),r.chipsData=[],r.$chips=t(),r._setupInput(),r.hasAutocomplete=0<Object.keys(r.options.autocompleteOptions).length,r.$input.attr("id")||r.$input.attr("id",M.guid()),r.options.data.length&&(r.chipsData=r.options.data,r._renderChips(r.chipsData)),r.hasAutocomplete&&r._setupAutocomplete(),r._setPlaceholder(),r._setupLabel(),r._setupEventHandlers(),r}return a(i,c),o(i,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",i._handleChipsKeydown),document.addEventListener("keyup",i._handleChipsKeyup),this.el.addEventListener("blur",i._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",i._handleChipsKeydown),document.removeEventListener("keyup",i._handleChipsKeyup),this.el.removeEventListener("blur",i._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(e){var n=t(e.target).closest(".chip"),i=t(e.target).is(".close");if(n.length){var r=n.index();i?(this.deleteChip(r),this.$input[0].focus()):this.selectChip(r)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(t){if(i._keydown=!0,13===t.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;t.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==t.keyCode&&37!==t.keyCode||""!==this.$input[0].value||!this.chipsData.length||(t.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(e){if(e.tag){var n=document.createElement("div"),i=document.createElement("i");if(n.classList.add("chip"),n.textContent=e.tag,n.setAttribute("tabindex",0),t(i).addClass("material-icons close"),i.textContent="close",e.image){var r=document.createElement("img");r.setAttribute("src",e.image),n.insertBefore(r,n.firstChild)}return n.appendChild(i),n}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var t=0;t<this.chipsData.length;t++){var e=this._renderChip(this.chipsData[t]);this.$el.append(e),this.$chips.add(e)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var t=this;this.options.autocompleteOptions.onAutocomplete=function(e){t.addChip({tag:e}),t.$input[0].value="",t.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=t("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?t(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&t(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(t){if(t.hasOwnProperty("tag")&&""!==t.tag){for(var e=!1,n=0;n<this.chipsData.length;n++)if(this.chipsData[n].tag===t.tag){e=!0;break}return!e}return!1}},{key:"addChip",value:function(e){if(this._isValid(e)&&!(this.chipsData.length>=this.options.limit)){var n=this._renderChip(e);this.$chips.add(n),this.chipsData.push(e),t(this.$input).before(n),this._setPlaceholder(),"function"==typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,n)}}},{key:"deleteChip",value:function(e){var n=this.$chips.eq(e);this.$chips.eq(e).remove(),this.$chips=this.$chips.filter((function(e){return 0<=t(e).index()})),this.chipsData.splice(e,1),this._setPlaceholder(),"function"==typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,n[0])}},{key:"selectChip",value:function(t){var e=this.$chips.eq(t);(this._selectedChip=e)[0].focus(),"function"==typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,e[0])}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Chips}},{key:"_handleChipsKeydown",value:function(e){i._keydown=!0;var n=t(e.target).closest(".chips"),r=e.target&&n.length;if(!t(e.target).is("input, textarea")&&r){var o=n[0].M_Chips;if(8===e.keyCode||46===e.keyCode){e.preventDefault();var s=o.chipsData.length;if(o._selectedChip){var a=o._selectedChip.index();o.deleteChip(a),o._selectedChip=null,s=Math.max(a-1,0)}o.chipsData.length&&o.selectChip(s)}else if(37===e.keyCode){if(o._selectedChip){var u=o._selectedChip.index()-1;if(u<0)return;o.selectChip(u)}}else if(39===e.keyCode&&o._selectedChip){var l=o._selectedChip.index()+1;l>=o.chipsData.length?o.$input[0].focus():o.selectChip(l)}}}},{key:"_handleChipsKeyup",value:function(t){i._keydown=!1}},{key:"_handleChipsBlur",value:function(e){i._keydown||(t(e.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return e}}]),i}();n._keydown=!1,M.Chips=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"chips","M_Chips"),t(document).ready((function(){t(document.body).on("click",".chip .close",(function(){var e=t(this).closest(".chips");e.length&&e[0].M_Chips||t(this).closest(".chip").remove()}))}))}(cash),function(t){"use strict";var e={top:0,bottom:1/0,offset:0,onPositionChange:null},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_Pushpin=r).options=t.extend({},i.defaults,n),r.originalOffset=r.el.offsetTop,i._pushpins.push(r),r._setupEventHandlers(),r._updatePosition(),r}return a(i,c),o(i,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var t=i._pushpins.indexOf(this);i._pushpins.splice(t,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",i._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",i._updateElements)}},{key:"_updatePosition",value:function(){var t=M.getDocumentScrollTop()+this.options.offset;this.options.top<=t&&this.options.bottom>=t&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),t<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),t>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Pushpin}},{key:"_updateElements",value:function(){for(var t in i._pushpins)i._pushpins[t]._updatePosition()}},{key:"defaults",get:function(){return e}}]),i}();n._pushpins=[],M.Pushpin=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"pushpin","M_Pushpin")}(cash),function(t,e){"use strict";var n={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};t.fn.reverse=[].reverse;var i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return(i.el.M_FloatingActionButton=i).options=t.extend({},l.defaults,n),i.isOpen=!1,i.$anchor=i.$el.children("a").first(),i.$menu=i.$el.children("ul").first(),i.$floatingBtns=i.$el.find("ul .btn-floating"),i.$floatingBtnsReverse=i.$el.find("ul .btn-floating").reverse(),i.offsetY=0,i.offsetX=0,i.$el.addClass("direction-"+i.options.direction),"top"===i.options.direction?i.offsetY=40:"right"===i.options.direction?i.offsetX=-40:"bottom"===i.options.direction?i.offsetY=-40:i.offsetX=40,i._setupEventHandlers(),i}return a(l,c),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var t=this;this.$el.addClass("active");var n=0;this.$floatingBtnsReverse.each((function(i){e({targets:i,opacity:1,scale:[.4,1],translateY:[t.offsetY,0],translateX:[t.offsetX,0],duration:275,delay:n,easing:"easeInOutQuad"}),n+=40}))}},{key:"_animateOutFAB",value:function(){var t=this;this.$floatingBtnsReverse.each((function(n){e.remove(n),e({targets:n,opacity:0,scale:.4,translateY:t.offsetY,translateX:t.offsetX,duration:175,easing:"easeOutQuad",complete:function(){t.$el.removeClass("active")}})}))}},{key:"_animateInToolbar",value:function(){var e,n=this,i=window.innerWidth,r=window.innerHeight,o=this.el.getBoundingClientRect(),s=t('<div class="fab-backdrop"></div>'),a=this.$anchor.css("background-color");this.$anchor.append(s),this.offsetX=o.left-i/2+o.width/2,this.offsetY=r-o.bottom,e=i/s[0].clientWidth,this.btnBottom=o.bottom,this.btnLeft=o.left,this.btnWidth=o.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),s.css({"background-color":a}),setTimeout((function(){n.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),n.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout((function(){n.$el.css({overflow:"hidden","background-color":a}),s.css({transform:"scale("+e+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),n.$menu.children("li").children("a").css({opacity:1}),n._handleDocumentClickBound=n._handleDocumentClick.bind(n),window.addEventListener("scroll",n._handleCloseBound,!0),document.body.addEventListener("click",n._handleDocumentClickBound,!0)}),100)}),0)}},{key:"_animateOutToolbar",value:function(){var t=this,e=window.innerWidth,n=window.innerHeight,i=this.$el.find(".fab-backdrop"),r=this.$anchor.css("background-color");this.offsetX=this.btnLeft-e/2+this.btnWidth/2,this.offsetY=n-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),i.css({transform:"scale(0)","background-color":r}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout((function(){i.remove(),t.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-t.offsetX+"px,0,0)"}),t.$anchor.css({overflow:"",transform:"translate3d(0,"+t.offsetY+"px,0)"}),setTimeout((function(){t.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),t.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})}),20)}),200)}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FloatingActionButton}},{key:"defaults",get:function(){return n}}]),l}();M.FloatingActionButton=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(t){"use strict";var e={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"\u2039",nextMonth:"\u203a",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));(r.el.M_Datepicker=r).options=t.extend({},i.defaults,n),n&&n.hasOwnProperty("i18n")&&"object"==typeof n.i18n&&(r.options.i18n=t.extend({},i.defaults.i18n,n.i18n)),r.options.minDate&&r.options.minDate.setHours(0,0,0,0),r.options.maxDate&&r.options.maxDate.setHours(0,0,0,0),r.id=M.guid(),r._setupVariables(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupEventHandlers(),r.options.defaultDate||(r.options.defaultDate=new Date(Date.parse(r.el.value)));var o=r.options.defaultDate;return i._isDate(o)?r.options.setDefaultDate?(r.setDate(o,!0),r.setInputValue()):r.gotoDate(o):r.gotoDate(new Date),r.isOpen=!1,r}return a(i,c),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var t=this.calendarEl.querySelector(".orig-select-year");t&&M.FormSelect.getInstance(t).destroy();var e=this.calendarEl.querySelector(".orig-select-month");e&&M.FormSelect.getInstance(e).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(t(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){t.isOpen=!1}})}},{key:"toString",value:function(t){var e=this;return t=t||this.options.format,i._isDate(this.date)?t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map((function(t){return e.formats[t]?e.formats[t]():t})).join(""):""}},{key:"setDate",value:function(t,e){if(!t)return this.date=null,this._renderDateDisplay(),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),i._isDate(t)){var n=this.options.minDate,r=this.options.maxDate;i._isDate(n)&&t<n?t=n:i._isDate(r)&&r<t&&(t=r),this.date=new Date(t.getTime()),this._renderDateDisplay(),i._setToStartOfDay(this.date),this.gotoDate(this.date),e||"function"!=typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var t=i._isDate(this.date)?this.date:new Date,e=this.options.i18n,n=e.weekdaysShort[t.getDay()],r=e.monthsShort[t.getMonth()],o=t.getDate();this.yearTextEl.innerHTML=t.getFullYear(),this.dateTextEl.innerHTML=n+", "+r+" "+o}},{key:"gotoDate",value:function(t){var e=!0;if(i._isDate(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=o<n.getTime()||r.getTime()<o}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),11<t.month&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(t,e,n){var r=this.options,o=new Date,s=i._getDaysInMonth(t,e),a=new Date(t,e,1).getDay(),u=[],l=[];i._setToStartOfDay(o),0<r.firstDay&&(a-=r.firstDay)<0&&(a+=7);for(var c=0===e?11:e-1,h=11===e?0:e+1,d=0===e?t-1:t,f=11===e?t+1:t,p=i._getDaysInMonth(d,c),v=s+a,g=v;7<g;)g-=7;v+=7-g;for(var y=!1,m=0,_=0;m<v;m++){var b=new Date(t,e,m-a+1),w=!!i._isDate(this.date)&&i._compareDates(b,this.date),E=i._compareDates(b,o),k=-1!==r.events.indexOf(b.toDateString()),C=m<a||s+a<=m,T=m-a+1,I=e,S=t,x=r.startRange&&i._compareDates(r.startRange,b),O=r.endRange&&i._compareDates(r.endRange,b),A=r.startRange&&r.endRange&&r.startRange<b&&b<r.endRange;C&&(m<a?(T=p+T,I=c,S=d):(T-=s,I=h,S=f));var D={day:T,month:I,year:S,hasEvent:k,isSelected:w,isToday:E,isDisabled:r.minDate&&b<r.minDate||r.maxDate&&b>r.maxDate||r.disableWeekends&&i._isWeekend(b)||r.disableDayFn&&r.disableDayFn(b),isEmpty:C,isStartRange:x,isEndRange:O,isInRange:A,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths};l.push(this.renderDay(D)),7==++_&&(u.push(this.renderRow(l,r.isRTL,y)),_=0,y=!(l=[]))}return this.renderTable(r,u,n)}},{key:"renderDay",value:function(t){var e=[],n="false";if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month"),e.push("is-selection-disabled")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="datepicker-day-button" type="button" data-year="'+t.year+'" data-month="'+t.month+'" data-day="'+t.day+'">'+t.day+"</button></td>"}},{key:"renderRow",value:function(t,e,n){return'<tr class="datepicker-row'+(n?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"}},{key:"renderTable",value:function(t,e,n){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+n+'">'+this.renderHead(t)+this.renderBody(e)+"</table></div>"}},{key:"renderHead",value:function(t){var e=void 0,n=[];for(e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+this.renderDayName(t,e)+'">'+this.renderDayName(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"}},{key:"renderBody",value:function(t){return"<tbody>"+t.join("")+"</tbody>"}},{key:"renderTitle",value:function(e,n,i,r,o,s){var a,u,l=void 0,c=void 0,h=void 0,d=this.options,f=i===d.minYear,p=i===d.maxYear,v='<div id="'+s+'" class="datepicker-controls" role="heading" aria-live="assertive">',g=!0,y=!0;for(h=[],l=0;l<12;l++)h.push('<option value="'+(i===o?l-n:12+l-n)+'"'+(l===r?' selected="selected"':"")+(f&&l<d.minMonth||p&&l>d.maxMonth?'disabled="disabled"':"")+">"+d.i18n.months[l]+"</option>");for(a='<select class="datepicker-select orig-select-month" tabindex="-1">'+h.join("")+"</select>",t.isArray(d.yearRange)?(l=d.yearRange[0],c=d.yearRange[1]+1):(l=i-d.yearRange,c=1+i+d.yearRange),h=[];l<c&&l<=d.maxYear;l++)l>=d.minYear&&h.push('<option value="'+l+'" '+(l===i?'selected="selected"':"")+">"+l+"</option>");return u='<select class="datepicker-select orig-select-year" tabindex="-1">'+h.join("")+"</select>",v+='<button class="month-prev'+(g?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',v+='<div class="selects-container">',d.showMonthAfterYear?v+=u+a:v+=a+u,v+="</div>",f&&(0===r||d.minMonth>=r)&&(g=!1),p&&(11===r||d.maxMonth<=r)&&(y=!1),(v+='<button class="month-next'+(y?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(t){if(this.isOpen||t){var e,n=this.options,i=n.minYear,r=n.maxYear,o=n.minMonth,s=n.maxMonth,a="";this._y<=i&&(this._y=i,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(s)&&this._m>s&&(this._m=s)),e="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var u=0;u<1;u++)this._renderDateDisplay(),a+=this.renderTitle(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year,e)+this.render(this.calendars[u].year,this.calendars[u].month,e);this.destroySelects(),this.calendarEl.innerHTML=a;var l=this.calendarEl.querySelector(".orig-select-year"),c=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(l,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(c,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),l.addEventListener("change",this._handleYearChange.bind(this)),c.addEventListener("change",this._handleMonthChange.bind(this)),"function"==typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var e=this;this.$modalEl=t(i._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return e.date.getDate()},dd:function(){var t=e.date.getDate();return(t<10?"0":"")+t},ddd:function(){return e.options.i18n.weekdaysShort[e.date.getDay()]},dddd:function(){return e.options.i18n.weekdays[e.date.getDay()]},m:function(){return e.date.getMonth()+1},mm:function(){var t=e.date.getMonth()+1;return(t<10?"0":"")+t},mmm:function(){return e.options.i18n.monthsShort[e.date.getMonth()]},mmmm:function(){return e.options.i18n.months[e.date.getMonth()]},yy:function(){return(""+e.date.getFullYear()).slice(2)},yyyy:function(){return e.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(e){if(this.isOpen){var n=t(e.target);n.hasClass("is-disabled")||(!n.hasClass("datepicker-day-button")||n.hasClass("is-empty")||n.parent().hasClass("is-disabled")?n.closest(".month-prev").length?this.prevMonth():n.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(e.target.getAttribute("data-year"),e.target.getAttribute("data-month"),e.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(t){this.gotoMonth(t.target.value)}},{key:"_handleYearChange",value:function(t){this.gotoYear(t.target.value)}},{key:"gotoMonth",value:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())}},{key:"gotoYear",value:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(t){var e=void 0;t.firedBy!==this&&(e=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),i._isDate(e)&&this.setDate(e))}},{key:"renderDayName",value:function(t,e,n){for(e+=t.firstDay;7<=e;)e-=7;return n?t.i18n.weekdaysAbbrev[e]:t.i18n.weekdays[e]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"_isDate",value:function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())}},{key:"_isWeekend",value:function(t){var e=t.getDay();return 0===e||6===e}},{key:"_setToStartOfDay",value:function(t){i._isDate(t)&&t.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(t,e){return[31,i._isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}},{key:"_isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"_compareDates",value:function(t,e){return t.getTime()===e.getTime()}},{key:"_setToStartOfDay",value:function(t){i._isDate(t)&&t.setHours(0,0,0,0)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Datepicker}},{key:"defaults",get:function(){return e}}]),i}();n._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"datepicker","M_Datepicker")}(cash),function(t){"use strict";var e={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_Timepicker=r).options=t.extend({},i.defaults,n),r.id=M.guid(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupVariables(),r._setupEventHandlers(),r._clockSetup(),r._pickerSetup(),r}return a(i,c),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),t(this.spanHours).on("click",this.showView.bind(this,"hours")),t(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(t){t.preventDefault();var e=this.plate.getBoundingClientRect(),n=e.left,r=e.top;this.x0=n+this.options.dialRadius,this.y0=r+this.options.dialRadius,this.moved=!1;var o=i._Pos(t);this.dx=o.x-this.x0,this.dy=o.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(t){t.preventDefault();var e=i._Pos(t),n=e.x-this.x0,r=e.y-this.y0;this.moved=!0,this.setHand(n,r,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(e){var n=this;e.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var r=i._Pos(e),o=r.x-this.x0,s=r.y-this.y0;this.moved&&o===this.dx&&s===this.dy&&this.setHand(o,s),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(t(this.minutesView).addClass("timepicker-dial-out"),setTimeout((function(){n.done()}),this.options.duration/2)),"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=t(i._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var e=document.querySelector(this.options.container);this.options.container&&e?this.$modalEl.appendTo(e):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t),t.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var e=t('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&e.css({visibility:""});var n=t('<div class="confirmation-btns"></div>');t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(n).on("click",this.close.bind(this)),t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(n).on("click",this.done.bind(this)),n.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=t('<div class="am-btn">AM</div>'),this.$pmBtn=t('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var t=this.options.dialRadius,e=this.options.tickRadius,n=2*t,r=i._createSVGEl("svg");r.setAttribute("class","timepicker-svg"),r.setAttribute("width",n),r.setAttribute("height",n);var o=i._createSVGEl("g");o.setAttribute("transform","translate("+t+","+t+")");var s=i._createSVGEl("circle");s.setAttribute("class","timepicker-canvas-bearing"),s.setAttribute("cx",0),s.setAttribute("cy",0),s.setAttribute("r",4);var a=i._createSVGEl("line");a.setAttribute("x1",0),a.setAttribute("y1",0);var u=i._createSVGEl("circle");u.setAttribute("class","timepicker-canvas-bg"),u.setAttribute("r",e),o.appendChild(a),o.appendChild(u),o.appendChild(s),r.appendChild(o),this._canvas.appendChild(r),this.hand=a,this.bg=u,this.bearing=s,this.g=o}},{key:"_buildHoursView",value:function(){var e=t('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var n=1;n<13;n+=1){var i=e.clone(),r=n/6*Math.PI,o=this.options.outerRadius;i.css({left:this.options.dialRadius+Math.sin(r)*o-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(r)*o-this.options.tickRadius+"px"}),i.html(0===n?"00":n),this.hoursView.appendChild(i[0])}else for(var s=0;s<24;s+=1){var a=e.clone(),u=s/6*Math.PI,l=0<s&&s<13?this.options.innerRadius:this.options.outerRadius;a.css({left:this.options.dialRadius+Math.sin(u)*l-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(u)*l-this.options.tickRadius+"px"}),a.html(0===s?"00":s),this.hoursView.appendChild(a[0])}}},{key:"_buildMinutesView",value:function(){for(var e=t('<div class="timepicker-tick"></div>'),n=0;n<60;n+=5){var r=e.clone(),o=n/30*Math.PI;r.css({left:this.options.dialRadius+Math.sin(o)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(o)*this.options.outerRadius-this.options.tickRadius+"px"}),r.html(i._addLeadingZero(n)),this.minutesView.appendChild(r[0])}}},{key:"_handleAmPmClick",value:function(e){var n=t(e.target);this.amOrPm=n.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var t=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&void 0!==t[1]&&(0<t[1].toUpperCase().indexOf("AM")?this.amOrPm="AM":this.amOrPm="PM",t[1]=t[1].replace("AM","").replace("PM","")),"now"===t[0]){var e=new Date(+new Date+this.options.fromNow);t=[e.getHours(),e.getMinutes()],this.options.twelveHour&&(this.amOrPm=12<=t[0]&&t[0]<24?"PM":"AM")}this.hours=+t[0]||0,this.minutes=+t[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=i._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(e,n){"minutes"===e&&t(this.hoursView).css("visibility");var i="hours"===e,r=i?this.hoursView:this.minutesView,o=i?this.minutesView:this.hoursView;this.currentView=e,t(this.spanHours).toggleClass("text-primary",i),t(this.spanMinutes).toggleClass("text-primary",!i),o.classList.add("timepicker-dial-out"),t(r).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(n),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout((function(){t(o).css("visibility","hidden")}),this.options.duration)}},{key:"resetClock",value:function(e){var n=this.currentView,i=this[n],r="hours"===n,o=i*(Math.PI/(r?6:30)),s=r&&0<i&&i<13?this.options.innerRadius:this.options.outerRadius,a=Math.sin(o)*s,u=-Math.cos(o)*s,l=this;e?(t(this.canvas).addClass("timepicker-canvas-out"),setTimeout((function(){t(l.canvas).removeClass("timepicker-canvas-out"),l.setHand(a,u)}),e)):this.setHand(a,u)}},{key:"setHand",value:function(t,e,n){var r=this,o=Math.atan2(t,-e),s="hours"===this.currentView,a=Math.PI/(s||n?6:30),u=Math.sqrt(t*t+e*e),l=s&&u<(this.options.outerRadius+this.options.innerRadius)/2,c=l?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(c=this.options.outerRadius),o<0&&(o=2*Math.PI+o);var h=Math.round(o/a);o=h*a,this.options.twelveHour?s?0===h&&(h=12):(n&&(h*=5),60===h&&(h=0)):s?(12===h&&(h=0),h=l?0===h?12:h:0===h?0:h+12):(n&&(h*=5),60===h&&(h=0)),this[this.currentView]!==h&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout((function(){r.vibrateTimer=null}),100))),this[this.currentView]=h,s?this.spanHours.innerHTML=h:this.spanMinutes.innerHTML=i._addLeadingZero(h);var d=Math.sin(o)*(c-this.options.tickRadius),f=-Math.cos(o)*(c-this.options.tickRadius),p=Math.sin(o)*c,v=-Math.cos(o)*c;this.hand.setAttribute("x2",d),this.hand.setAttribute("y2",f),this.bg.setAttribute("cx",p),this.bg.setAttribute("cy",v)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(t,e){var n=this.el.value,r=e?"":i._addLeadingZero(this.hours)+":"+i._addLeadingZero(this.minutes);this.time=r,!e&&this.options.twelveHour&&(r=r+" "+this.amOrPm),(this.el.value=r)!==n&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"_addLeadingZero",value:function(t){return(t<10?"0":"")+t}},{key:"_createSVGEl",value:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}},{key:"_Pos",value:function(t){return t.targetTouches&&1<=t.targetTouches.length?{x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY}:{x:t.clientX,y:t.clientY}}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Timepicker}},{key:"defaults",get:function(){return e}}]),i}();n._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"timepicker","M_Timepicker")}(cash),function(t){"use strict";var e={},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_CharacterCounter=r).options=t.extend({},i.defaults,n),r.isInvalid=!1,r.isValidLength=!1,r._setupCounter(),r._setupEventHandlers(),r}return a(i,c),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),t(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){t(this.counterEl).remove()}},{key:"updateCounter",value:function(){var e=+this.$el.attr("data-length"),n=this.el.value.length;this.isValidLength=n<=e;var i=n;e&&(i+="/"+e,this._validateInput()),t(this.counterEl).html(i)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_CharacterCounter}},{key:"defaults",get:function(){return e}}]),i}();M.CharacterCounter=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"characterCounter","M_CharacterCounter")}(cash),function(t){"use strict";var e={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_Carousel=r).options=t.extend({},i.defaults,n),r.hasMultipleSlides=1<r.$el.find(".carousel-item").length,r.showIndicators=r.options.indicators&&r.hasMultipleSlides,r.noWrap=r.options.noWrap||!r.hasMultipleSlides,r.pressed=!1,r.dragged=!1,r.offset=r.target=0,r.images=[],r.itemWidth=r.$el.find(".carousel-item").first().innerWidth(),r.itemHeight=r.$el.find(".carousel-item").first().innerHeight(),r.dim=2*r.itemWidth+r.options.padding||1,r._autoScrollBound=r._autoScroll.bind(r),r._trackBound=r._track.bind(r),r.options.fullWidth&&(r.options.dist=0,r._setCarouselHeight(),r.showIndicators&&r.$el.find(".carousel-fixed-item").addClass("with-indicators")),r.$indicators=t('<ul class="indicators"></ul>'),r.$el.find(".carousel-item").each((function(e,n){if(r.images.push(e),r.showIndicators){var i=t('<li class="indicator-item"></li>');0===n&&i[0].classList.add("active"),r.$indicators.append(i)}})),r.showIndicators&&r.$el.append(r.$indicators),r.count=r.images.length,r.options.numVisible=Math.min(r.count,r.options.numVisible),r.xform="transform",["webkit","Moz","O","ms"].every((function(t){var e=t+"Transform";return void 0===document.body.style[e]||(r.xform=e,!1)})),r._setupEventHandlers(),r._scroll(r.offset),r}return a(i,c),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),void 0!==window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each((function(e,n){e.addEventListener("click",t._handleIndicatorClickBound)})));var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var t=this;void 0!==window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each((function(e,n){e.removeEventListener("click",t._handleIndicatorClickBound)})),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(e){"mousedown"===e.type&&t(e.target).is("img")&&e.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(e),this.referenceY=this._ypos(e),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(t){var e=void 0,n=void 0,i=void 0;if(this.pressed)if(e=this._xpos(t),n=this._ypos(t),i=this.reference-e,Math.abs(this.referenceY-n)<30&&!this.verticalDragged)(2<i||i<-2)&&(this.dragged=!0,this.reference=e,this._scroll(this.offset+i));else{if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(t){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(10<this.velocity||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(t.preventDefault(),t.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(e){if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;if(!this.options.fullWidth){var n=t(e.target).closest(".carousel-item").index();0!==this._wrap(this.center)-n&&(e.preventDefault(),e.stopPropagation()),this._cycleTo(n)}}},{key:"_handleIndicatorClick",value:function(e){e.stopPropagation();var n=t(e.target).closest(".indicator-item");n.length&&this._cycleTo(n.index())}},{key:"_handleResize",value:function(t){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(t){var e=this,n=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),i=n.find("img").first();if(i.length)if(i[0].complete){var r=i.height();if(0<r)this.$el.css("height",r+"px");else{var o=i[0].naturalWidth,s=i[0].naturalHeight,a=this.$el.width()/o*s;this.$el.css("height",a+"px")}}else i.one("load",(function(t,n){e.$el.css("height",t.offsetHeight+"px")}));else if(!t){var u=n.height();this.$el.css("height",u+"px")}}},{key:"_xpos",value:function(t){return t.targetTouches&&1<=t.targetTouches.length?t.targetTouches[0].clientX:t.clientX}},{key:"_ypos",value:function(t){return t.targetTouches&&1<=t.targetTouches.length?t.targetTouches[0].clientY:t.clientY}},{key:"_wrap",value:function(t){return t>=this.count?t%this.count:t<0?this._wrap(this.count+t%this.count):t}},{key:"_track",value:function(){var t,e,n,i;e=(t=Date.now())-this.timestamp,this.timestamp=t,n=this.offset-this.frame,this.frame=this.offset,i=1e3*n/(1+e),this.velocity=.8*i+.2*this.velocity}},{key:"_autoScroll",value:function(){var t=void 0,e=void 0;this.amplitude&&(t=Date.now()-this.timestamp,2<(e=this.amplitude*Math.exp(-t/this.options.duration))||e<-2?(this._scroll(this.target-e),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(e){var n=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout((function(){n.$el.removeClass("scrolling")}),this.options.duration);var i,r,o,s,a=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,f=this.center,p=1/this.options.numVisible;if(this.offset="number"==typeof e?e:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),s=-(o=(r=this.offset-this.center*this.dim)<0?1:-1)*r*2/this.dim,i=this.count>>1,this.options.fullWidth?(l="translateX(0)",d=1):(l="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",l+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",d=1-p*s),this.showIndicators){var v=this.center%this.count,g=this.$indicators.find(".indicator-item.active");g.index()!==v&&(g.removeClass("active"),this.$indicators.find(".indicator-item").eq(v)[0].classList.add("active"))}if(!this.noWrap||0<=this.center&&this.center<this.count){u=this.images[this._wrap(this.center)],t(u).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),u.classList.add("active"));var y=l+" translateX("+-r/2+"px) translateX("+o*this.options.shift*s*a+"px) translateZ("+this.options.dist*s+"px)";this._updateItemStyle(u,d,0,y)}for(a=1;a<=i;++a){if(this.options.fullWidth?(c=this.options.dist,h=a===i&&r<0?1-s:1):(c=this.options.dist*(2*a+s*o),h=1-p*(2*a+s*o)),!this.noWrap||this.center+a<this.count){u=this.images[this._wrap(this.center+a)];var m=l+" translateX("+(this.options.shift+(this.dim*a-r)/2)+"px) translateZ("+c+"px)";this._updateItemStyle(u,h,-a,m)}if(this.options.fullWidth?(c=this.options.dist,h=a===i&&0<r?1-s:1):(c=this.options.dist*(2*a-s*o),h=1-p*(2*a-s*o)),!this.noWrap||0<=this.center-a){u=this.images[this._wrap(this.center-a)];var _=l+" translateX("+(-this.options.shift+(-this.dim*a-r)/2)+"px) translateZ("+c+"px)";this._updateItemStyle(u,h,-a,_)}}if(!this.noWrap||0<=this.center&&this.center<this.count){u=this.images[this._wrap(this.center)];var b=l+" translateX("+-r/2+"px) translateX("+o*this.options.shift*s+"px) translateZ("+this.options.dist*s+"px)";this._updateItemStyle(u,d,0,b)}var w=this.$el.find(".carousel-item").eq(this._wrap(this.center));f!==this.center&&"function"==typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,w[0],this.dragged),"function"==typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,w[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(t,e,n,i){t.style[this.xform]=i,t.style.zIndex=n,t.style.opacity=e,t.style.visibility="visible"}},{key:"_cycleTo",value:function(t,e){var n=this.center%this.count-t;this.noWrap||(n<0?Math.abs(n+this.count)<Math.abs(n)&&(n+=this.count):0<n&&Math.abs(n-this.count)<n&&(n-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),n<0?this.target+=this.dim*Math.abs(n):0<n&&(this.target-=this.dim*n),"function"==typeof e&&(this.oneTimeCallback=e),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center+t;if(e>=this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"prev",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center-t;if(e>=this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"set",value:function(t,e){if((void 0===t||isNaN(t))&&(t=0),t>this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t,e)}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Carousel}},{key:"defaults",get:function(){return e}}]),i}();M.Carousel=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"carousel","M_Carousel")}(cash),function(t){"use strict";var e={onOpen:void 0,onClose:void 0},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_TapTarget=r).options=t.extend({},i.defaults,n),r.isOpen=!1,r.$origin=t("#"+r.$el.attr("data-target")),r._setup(),r._calculatePositioning(),r._setupEventHandlers(),r}return a(i,c),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(t){this.open()}},{key:"_handleOriginClick",value:function(t){this.close()}},{key:"_handleResize",value:function(t){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(".tap-target-wrapper").length||(this.close(),e.preventDefault(),e.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=t(this.wrapper).find(".tap-target-wave")[0],this.originEl=t(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],t(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(t(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var e="fixed"===this.$origin.css("position");if(!e)for(var n=this.$origin.parents(),i=0;i<n.length&&!(e="fixed"==t(n[i]).css("position"));i++);var r=this.$origin.outerWidth(),o=this.$origin.outerHeight(),s=e?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,a=e?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,u=window.innerWidth,l=window.innerHeight,c=u/2,h=l/2,d=a<=c,f=c<a,p=s<=h,v=h<s,g=.25*u<=a&&a<=.75*u,y=this.$el.outerWidth(),m=this.$el.outerHeight(),_=s+o/2-m/2,b=a+r/2-y/2,w=e?"fixed":"absolute",E=g?y:y/2+r,k=m/2,C=p?m/2:0,T=d&&!g?y/2-r:0,I=r,S=v?"bottom":"top",x=2*r,O=x,A=m/2-O/2,D=y/2-x/2,P={};P.top=p?_+"px":"",P.right=f?u-b-y+"px":"",P.bottom=v?l-_-m+"px":"",P.left=d?b+"px":"",P.position=w,t(this.wrapper).css(P),t(this.contentEl).css({width:E+"px",height:k+"px",top:C+"px",right:"0px",bottom:"0px",left:T+"px",padding:I+"px",verticalAlign:S}),t(this.waveEl).css({top:A+"px",left:D+"px",width:x+"px",height:O+"px"})}},{key:"open",value:function(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_TapTarget}},{key:"defaults",get:function(){return e}}]),i}();M.TapTarget=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tapTarget","M_TapTarget")}(cash),function(t){"use strict";var e={classes:"",dropdownOptions:{}},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.$el.hasClass("browser-default")?s(r):((r.el.M_FormSelect=r).options=t.extend({},i.defaults,n),r.isMultiple=r.$el.prop("multiple"),r.el.tabIndex=-1,r._keysSelected={},r._valueDict={},r._setupDropdown(),r._setupEventHandlers(),r)}return a(i,c),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),t(this.dropdownOptions).find("li:not(.optgroup)").each((function(t){t.addEventListener("click",e._handleOptionClickBound)})),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var e=this;t(this.dropdownOptions).find("li:not(.optgroup)").each((function(t){t.removeEventListener("click",e._handleOptionClickBound)})),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(t){this._setValueToInput()}},{key:"_handleOptionClick",value:function(e){e.preventDefault();var n=t(e.target).closest("li")[0],i=n.id;if(!t(n).hasClass("disabled")&&!t(n).hasClass("optgroup")&&i.length){var r=!0;if(this.isMultiple){var o=t(this.dropdownOptions).find("li.disabled.selected");o.length&&(o.removeClass("selected"),o.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(o[0].id)),r=this._toggleEntryFromArray(i)}else t(this.dropdownOptions).find("li").removeClass("selected"),t(n).toggleClass("selected",r);t(this._valueDict[i].el).prop("selected")!==r&&(t(this._valueDict[i].el).prop("selected",r),this.$el.trigger("change"))}e.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var e=this;this.wrapper=document.createElement("div"),t(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(t(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),t(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each((function(n){if(t(n).is("option")){var i;i=e.isMultiple?e._appendOptionWithIcon(e.$el,n,"multiple"):e._appendOptionWithIcon(e.$el,n),e._addOptionToValueDict(n,i)}else if(t(n).is("optgroup")){var r=t(n).children("option");t(e.dropdownOptions).append(t('<li class="optgroup"><span>'+n.getAttribute("label")+"</span></li>")[0]),r.each((function(t){var n=e._appendOptionWithIcon(e.$el,t,"optgroup-option");e._addOptionToValueDict(t,n)}))}})),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),t(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&t(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var n=t('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(n[0]),!this.el.disabled){var i=t.extend({},this.options.dropdownOptions);i.onOpenEnd=function(n){var i=t(e.dropdownOptions).find(".selected").first();if(e.dropdown.isScrollable&&i.length){var r=i[0].getBoundingClientRect().top-e.dropdownOptions.getBoundingClientRect().top;r-=e.dropdownOptions.clientHeight/2,e.dropdownOptions.scrollTop=r}},this.isMultiple&&(i.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,i)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(t,e){var n=Object.keys(this._valueDict).length,i=this.dropdownOptions.id+n,r={};e.id=i,r.el=t,r.optionEl=e,this._valueDict[i]=r}},{key:"_removeDropdown",value:function(){t(this.wrapper).find(".caret").remove(),t(this.input).remove(),t(this.dropdownOptions).remove(),t(this.wrapper).before(this.$el),t(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(e,n,i){var r=n.disabled?"disabled ":"",o="optgroup-option"===i?"optgroup-option ":"",s=this.isMultiple?'<label><input type="checkbox"'+r+'"/><span>'+n.innerHTML+"</span></label>":n.innerHTML,a=t("<li></li>"),u=t("<span></span>");u.html(s),a.addClass(r+" "+o),a.append(u);var l=n.getAttribute("data-icon");if(l){var c=t('<img alt="" src="'+l+'">');a.prepend(c)}return t(this.dropdownOptions).append(a[0]),a[0]}},{key:"_toggleEntryFromArray",value:function(e){var n=!this._keysSelected.hasOwnProperty(e),i=t(this._valueDict[e].optionEl);return n?this._keysSelected[e]=!0:delete this._keysSelected[e],i.toggleClass("selected",n),i.find('input[type="checkbox"]').prop("checked",n),i.prop("selected",n),n}},{key:"_setValueToInput",value:function(){var e=[];if(this.$el.find("option").each((function(n){if(t(n).prop("selected")){var i=t(n).text();e.push(i)}})),!e.length){var n=this.$el.find("option:disabled").eq(0);n.length&&""===n[0].value&&e.push(n.text())}this.input.value=e.join(", ")}},{key:"_setSelectedStates",value:function(){for(var e in this._keysSelected={},this._valueDict){var n=this._valueDict[e],i=t(n.el).prop("selected");t(n.optionEl).find('input[type="checkbox"]').prop("checked",i),i?(this._activateOption(t(this.dropdownOptions),t(n.optionEl)),this._keysSelected[e]=!0):t(n.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(e,n){n&&(this.isMultiple||e.find("li.selected").removeClass("selected"),t(n).addClass("selected"))}},{key:"getSelectedValues",value:function(){var t=[];for(var e in this._keysSelected)t.push(this._valueDict[e].el.value);return t}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FormSelect}},{key:"defaults",get:function(){return e}}]),i}();M.FormSelect=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"formSelect","M_FormSelect")}(cash),function(t,e){"use strict";var n={},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return(i.el.M_Range=i).options=t.extend({},l.defaults,n),i._mousedown=!1,i._setupThumb(),i._setupEventHandlers(),i}return a(l,c),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){t(this.value).html(this.$el.val()),t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(e){if(t(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),t(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==e.type){var n=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",n+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px"),t(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var n=7+parseInt(this.$el.css("padding-left"))+"px";t(this.thumb).hasClass("active")&&(e.remove(this.thumb),e({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:n,duration:100})),t(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),t(this.thumb).addClass("thumb"),t(this.value).addClass("value"),t(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){t(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var n=-7+parseInt(t(this.thumb).parent().css("padding-left"))+"px";e.remove(this.thumb),e({targets:this.thumb,height:30,width:30,top:-30,marginLeft:n,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var t=this.$el.width()-15,e=parseFloat(this.$el.attr("max"))||100,n=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-n)/(e-n)*t}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Range}},{key:"defaults",get:function(){return n}}]),l}();M.Range=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"range","M_Range"),i.init(t("input[type=range]"))}(cash,M.anime)}).call(this,n(15))},function(t,e,n){"use strict";function i(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}n.d(e,"a",(function(){return i}))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){t.exports=n(40)()},function(t,e,n){(function(n){var i,r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}window.cash=function(){var t,e=document,n=window,i=Array.prototype,r=i.slice,o=i.filter,s=i.push,a=function(){},u=function(t){return typeof t===typeof a&&t.call},l=function(t){return"string"===typeof t},c=/^#[\w-]*$/,h=/^\.[\w-]*$/,d=/<.+>/,f=/^\w+$/;function p(t,n){return n=n||e,h.test(t)?n.getElementsByClassName(t.slice(1)):f.test(t)?n.getElementsByTagName(t):n.querySelectorAll(t)}function v(n){if(!t){var i=(t=e.implementation.createHTMLDocument(null)).createElement("base");i.href=e.location.href,t.head.appendChild(i)}return t.body.innerHTML=n,t.body.childNodes}function g(t){"loading"!==e.readyState?t():e.addEventListener("DOMContentLoaded",t)}function y(t,i){if(!t)return this;if(t.cash&&t!==n)return t;var r,o=t,s=0;if(l(t))o=c.test(t)?e.getElementById(t.slice(1)):d.test(t)?v(t):p(t,i);else if(u(t))return g(t),this;if(!o)return this;if(o.nodeType||o===n)this[0]=o,this.length=1;else for(r=this.length=o.length;s<r;s++)this[s]=o[s];return this}function m(t,e){return new y(t,e)}var _=m.fn=m.prototype=y.prototype={cash:!0,length:0,push:s,splice:i.splice,map:i.map,init:y};function b(t,e){for(var n=t.length,i=0;i<n&&!1!==e.call(t[i],t[i],i,t);i++);}function w(t,e){var n=t&&(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector);return!!n&&n.call(t,e)}function E(t){return l(t)?w:t.cash?function(e){return t.is(e)}:function(t,e){return t===e}}function k(t){return m(r.call(t).filter((function(t,e,n){return n.indexOf(t)===e})))}Object.defineProperty(_,"constructor",{value:m}),m.parseHTML=v,m.noop=a,m.isFunction=u,m.isString=l,m.extend=_.extend=function(t){t=t||{};var e=r.call(arguments),n=e.length,i=1;for(1===e.length&&(t=this,i=0);i<n;i++)if(e[i])for(var o in e[i])e[i].hasOwnProperty(o)&&(t[o]=e[i][o]);return t},m.extend({merge:function(t,e){for(var n=+e.length,i=t.length,r=0;r<n;i++,r++)t[i]=e[r];return t.length=i,t},each:b,matches:w,unique:k,isArray:Array.isArray,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}});var C=m.uid="_cash"+Date.now();function T(t){return t[C]=t[C]||{}}function I(t,e,n){return T(t)[e]=n}function S(t,e){var n=T(t);return void 0===n[e]&&(n[e]=t.dataset?t.dataset[e]:m(t).attr("data-"+e)),n[e]}_.extend({data:function(t,e){if(l(t))return void 0===e?S(this[0],t):this.each((function(n){return I(n,t,e)}));for(var n in t)this.data(n,t[n]);return this},removeData:function(t){return this.each((function(e){return function(t,e){var n=T(t);n?delete n[e]:t.dataset?delete t.dataset[e]:m(t).removeAttr("data-"+name)}(e,t)}))}});var x=/\S+/g;function O(t){return l(t)&&t.match(x)}function A(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function D(t,e,n){t.classList?t.classList.add(e):n.indexOf(" "+e+" ")&&(t.className+=" "+e)}function M(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}_.extend({addClass:function(t){var e=O(t);return e?this.each((function(t){var n=" "+t.className+" ";b(e,(function(e){D(t,e,n)}))})):this},attr:function(t,e){if(t){if(l(t))return void 0===e?this[0]?this[0].getAttribute?this[0].getAttribute(t):this[0][t]:void 0:this.each((function(n){n.setAttribute?n.setAttribute(t,e):n[t]=e}));for(var n in t)this.attr(n,t[n]);return this}},hasClass:function(t){var e=!1,n=O(t);return n&&n.length&&this.each((function(t){return!(e=A(t,n[0]))})),e},prop:function(t,e){if(l(t))return void 0===e?this[0][t]:this.each((function(n){n[t]=e}));for(var n in t)this.prop(n,t[n]);return this},removeAttr:function(t){return this.each((function(e){e.removeAttribute?e.removeAttribute(t):delete e[t]}))},removeClass:function(t){if(!arguments.length)return this.attr("class","");var e=O(t);return e?this.each((function(t){b(e,(function(e){M(t,e)}))})):this},removeProp:function(t){return this.each((function(e){delete e[t]}))},toggleClass:function(t,e){if(void 0!==e)return this[e?"addClass":"removeClass"](t);var n=O(t);return n?this.each((function(t){var e=" "+t.className+" ";b(n,(function(n){A(t,n)?M(t,n):D(t,n,e)}))})):this}}),_.extend({add:function(t,e){return k(m.merge(this,m(t,e)))},each:function(t){return b(this,t),this},eq:function(t){return m(this.get(t))},filter:function(t){if(!t)return this;var e=u(t)?t:E(t);return m(o.call(this,(function(n){return e(n,t)})))},first:function(){return this.eq(0)},get:function(t){return void 0===t?r.call(this):t<0?this[t+this.length]:this[t]},index:function(t){var e=t?m(t)[0]:this[0],n=t?this:m(e).parent().children();return r.call(n).indexOf(e)},last:function(){return this.eq(-1)}});var P=function(){var t=/(?:^\w|[A-Z]|\b\w)/g,e=/[\s-_]+/g;return function(n){return n.replace(t,(function(t,e){return t[0===e?"toLowerCase":"toUpperCase"]()})).replace(e,"")}}(),L=function(){var t={},e=document.createElement("div").style;return function(n){if(n=P(n),t[n])return t[n];var i=n.charAt(0).toUpperCase()+n.slice(1);return b((n+" "+["webkit","moz","ms","o"].join(i+" ")+i).split(" "),(function(i){if(i in e)return t[i]=n=t[n]=i,!1})),t[n]}}();function N(t,e){return parseInt(n.getComputedStyle(t[0],null)[e],10)||0}function R(t,e,n){var i,r=S(t,"_cashEvents"),o=r&&r[e];o&&(n?(t.removeEventListener(e,n),(i=o.indexOf(n))>=0&&o.splice(i,1)):(b(o,(function(n){t.removeEventListener(e,n)})),o=[]))}function B(t,e){return"&"+encodeURIComponent(t)+"="+encodeURIComponent(e).replace(/%20/g,"+")}function F(t){var e=t.type;if(!e)return null;switch(e.toLowerCase()){case"select-one":return function(t){var e=t.selectedIndex;return e>=0?t.options[e].value:null}(t);case"select-multiple":return function(t){var e=[];return b(t.options,(function(t){t.selected&&e.push(t.value)})),e.length?e:null}(t);case"radio":case"checkbox":return t.checked?t.value:null;default:return t.value?t.value:null}}function j(t,e,n){var i=l(e);i||!e.length?b(t,i?function(t){return t.insertAdjacentHTML(n?"afterbegin":"beforeend",e)}:function(t,i){return function(t,e,n){if(n){var i=t.childNodes[0];t.insertBefore(e,i)}else t.appendChild(e)}(t,0===i?e:e.cloneNode(!0),n)}):b(e,(function(e){return j(t,e,n)}))}m.prefixedProp=L,m.camelCase=P,_.extend({css:function(t,e){if(l(t))return t=L(t),arguments.length>1?this.each((function(n){return n.style[t]=e})):n.getComputedStyle(this[0])[t];for(var i in t)this.css(i,t[i]);return this}}),b(["Width","Height"],(function(t){var e=t.toLowerCase();_[e]=function(){return this[0].getBoundingClientRect()[e]},_["inner"+t]=function(){return this[0]["client"+t]},_["outer"+t]=function(e){return this[0]["offset"+t]+(e?N(this,"margin"+("Width"===t?"Left":"Top"))+N(this,"margin"+("Width"===t?"Right":"Bottom")):0)}})),_.extend({off:function(t,e){return this.each((function(n){return R(n,t,e)}))},on:function(t,e,n,i){var r;if(!l(t)){for(var o in t)this.on(o,e,t[o]);return this}return u(e)&&(n=e,e=null),"ready"===t?(g(n),this):(e&&(r=n,n=function(t){for(var n=t.target;!w(n,e);){if(n===this||null===n)return!1;n=n.parentNode}n&&r.call(n,t)}),this.each((function(e){var r=n;i&&(r=function(){n.apply(this,arguments),R(e,t,r)}),function(t,e,n){var i=S(t,"_cashEvents")||I(t,"_cashEvents",{});i[e]=i[e]||[],i[e].push(n),t.addEventListener(e,n)}(e,t,r)})))},one:function(t,e,n){return this.on(t,e,n,!0)},ready:g,trigger:function(t,e){if(document.createEvent){var n=document.createEvent("HTMLEvents");return n.initEvent(t,!0,!1),n=this.extend(n,e),this.each((function(t){return t.dispatchEvent(n)}))}}}),_.extend({serialize:function(){var t="";return b(this[0].elements||this,(function(e){if(!e.disabled&&"FIELDSET"!==e.tagName){var n=e.name;switch(e.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var i=F(e);null!==i&&b(i,(function(e){t+=B(n,e)}));break;default:var r=F(e);null!==r&&(t+=B(n,r))}}})),t.substr(1)},val:function(t){return void 0===t?F(this[0]):this.each((function(e){return e.value=t}))}}),_.extend({after:function(t){return m(t).insertAfter(this),this},append:function(t){return j(this,t),this},appendTo:function(t){return j(m(t),this),this},before:function(t){return m(t).insertBefore(this),this},clone:function(){return m(this.map((function(t){return t.cloneNode(!0)})))},empty:function(){return this.html(""),this},html:function(t){if(void 0===t)return this[0].innerHTML;var e=t.nodeType?t[0].outerHTML:t;return this.each((function(t){return t.innerHTML=e}))},insertAfter:function(t){var e=this;return m(t).each((function(t,n){var i=t.parentNode,r=t.nextSibling;e.each((function(t){i.insertBefore(0===n?t:t.cloneNode(!0),r)}))})),this},insertBefore:function(t){var e=this;return m(t).each((function(t,n){var i=t.parentNode;e.each((function(e){i.insertBefore(0===n?e:e.cloneNode(!0),t)}))})),this},prepend:function(t){return j(this,t,!0),this},prependTo:function(t){return j(m(t),this,!0),this},remove:function(){return this.each((function(t){if(t.parentNode)return t.parentNode.removeChild(t)}))},text:function(t){return void 0===t?this[0].textContent:this.each((function(e){return e.textContent=t}))}});var U=e.documentElement;return _.extend({position:function(){var t=this[0];return{left:t.offsetLeft,top:t.offsetTop}},offset:function(){var t=this[0].getBoundingClientRect();return{top:t.top+n.pageYOffset-U.clientTop,left:t.left+n.pageXOffset-U.clientLeft}},offsetParent:function(){return m(this[0].offsetParent)}}),_.extend({children:function(t){var e=[];return this.each((function(t){s.apply(e,t.children)})),e=k(e),t?e.filter((function(e){return w(e,t)})):e},closest:function(t){return!t||this.length<1?m():this.is(t)?this.filter(t):this.parent().closest(t)},is:function(t){if(!t)return!1;var e=!1,n=E(t);return this.each((function(i){return!(e=n(i,t))})),e},find:function(t){if(!t||t.nodeType)return m(t&&this.has(t).length?t:null);var e=[];return this.each((function(n){s.apply(e,p(t,n))})),k(e)},has:function(t){var e=l(t)?function(e){return 0!==p(t,e).length}:function(e){return e.contains(t)};return this.filter(e)},next:function(){return m(this[0].nextElementSibling)},not:function(t){if(!t)return this;var e=E(t);return this.filter((function(n){return!e(n,t)}))},parent:function(){var t=[];return this.each((function(e){e&&e.parentNode&&t.push(e.parentNode)})),k(t)},parents:function(t){var n,i=[];return this.each((function(r){for(n=r;n&&n.parentNode&&n!==e.body.parentNode;)n=n.parentNode,(!t||t&&w(n,t))&&i.push(n)})),k(i)},prev:function(){return m(this[0].previousElementSibling)},siblings:function(t){var e=this.parent().children(t),n=this[0];return e.filter((function(t){return t!==n}))}}),m}();var l=function(){function t(e,n,i){u(this,t),n instanceof Element||console.error(Error(n+" is not an HTML Element"));var r=e.getInstance(n);r&&r.destroy(),this.el=n,this.$el=cash(n)}return o(t,null,[{key:"init",value:function(t,e,n){var i=null;if(e instanceof Element)i=new t(e,n);else if(e&&(e.jquery||e.cash||e instanceof NodeList)){for(var r=[],o=0;o<e.length;o++)r.push(new t(e[o],n));i=r}return i}}]),t}();!function(t){t.Package?M={}:t.M={},M.jQueryLoaded=!!t.jQuery}(window),void 0===(i=function(){return M}.apply(e,[]))||(t.exports=i),M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1;document.addEventListener("keydown",(function(t){M.keyDown=!0,t.which!==M.keys.TAB&&t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||(M.tabPressed=!0)}),!0),document.addEventListener("keyup",(function(t){M.keyDown=!1,t.which!==M.keys.TAB&&t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||(M.tabPressed=!1)}),!0),document.addEventListener("focus",(function(t){M.keyDown&&document.body.classList.add("keyboard-focused")}),!0),document.addEventListener("blur",(function(t){document.body.classList.remove("keyboard-focused")}),!0),M.initializeJqueryWrapper=function(t,e,n){jQuery.fn[e]=function(i){if(t.prototype[i]){var r=Array.prototype.slice.call(arguments,1);if("get"===i.slice(0,3)){var o=this.first()[0][n];return o[i].apply(o,r)}return this.each((function(){var t=this[n];t[i].apply(t,r)}))}if("object"===typeof i||!i)return t.init(this,arguments[0]),this;jQuery.error("Method "+i+" does not exist on jQuery."+e)}},M.AutoInit=function(t){var e=t||document.body,n={Autocomplete:e.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:e.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:e.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:e.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:e.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:e.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:e.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:e.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:e.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:e.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:e.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:e.querySelectorAll("select:not(.no-autoinit)"),Sidenav:e.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:e.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:e.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:e.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:e.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:e.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var i in n){M[i].init(n[i])}},M.objectSelectorString=function(t){return((t.prop("tagName")||"")+(t.attr("id")||"")+(t.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),M.escapeHash=function(t){return t.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(t){var e=$(t),n=e.add(e.parents()),i=!1;return n.each((function(){if("fixed"===$(this).css("position"))return i=!0,!1})),i},M.checkWithinContainer=function(t,e,n){var i={top:!1,right:!1,bottom:!1,left:!1},r=t.getBoundingClientRect(),o=t===document.body?Math.max(r.bottom,window.innerHeight):r.bottom,s=t.scrollLeft,a=t.scrollTop,u=e.left-s,l=e.top-a;return(u<r.left+n||u<n)&&(i.left=!0),(u+e.width>r.right-n||u+e.width>window.innerWidth-n)&&(i.right=!0),(l<r.top+n||l<n)&&(i.top=!0),(l+e.height>o-n||l+e.height>window.innerHeight-n)&&(i.bottom=!0),i},M.checkPossibleAlignments=function(t,e,n,i){var r={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},o="visible"===getComputedStyle(e).overflow,s=e.getBoundingClientRect(),a=Math.min(s.height,window.innerHeight),u=Math.min(s.width,window.innerWidth),l=t.getBoundingClientRect(),c=e.scrollLeft,h=e.scrollTop,d=n.left-c,f=n.top-h,p=n.top+l.height-h;return r.spaceOnRight=o?window.innerWidth-(l.left+n.width):u-(d+n.width),r.spaceOnRight<0&&(r.left=!1),r.spaceOnLeft=o?l.right-n.width:d-n.width+l.width,r.spaceOnLeft<0&&(r.right=!1),r.spaceOnBottom=o?window.innerHeight-(l.top+n.height+i):a-(f+n.height+i),r.spaceOnBottom<0&&(r.top=!1),r.spaceOnTop=o?l.bottom-(n.height+i):p-(n.height-i),r.spaceOnTop<0&&(r.bottom=!1),r},M.getOverflowParent=function(t){return null==t?null:t===document.body||"visible"!==getComputedStyle(t).overflow?t:M.getOverflowParent(t.parentElement)},M.getIdFromTrigger=function(t){var e=t.getAttribute("data-target");return e||(e=(e=t.getAttribute("href"))?e.slice(1):""),e},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var c=Date.now||function(){return(new Date).getTime()};M.throttle=function(t,e,n){var i=void 0,r=void 0,o=void 0,s=null,a=0;n||(n={});var u=function(){a=!1===n.leading?0:c(),s=null,o=t.apply(i,r),i=r=null};return function(){var l=c();a||!1!==n.leading||(a=l);var h=e-(l-a);return i=this,r=arguments,h<=0?(clearTimeout(s),s=null,a=l,o=t.apply(i,r),i=r=null):s||!1===n.trailing||(s=setTimeout(u,h)),o}};var h={scope:{}};h.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},h.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof n&&null!=n?n:t},h.global=h.getGlobal(this),h.SYMBOL_PREFIX="jscomp_symbol_",h.initSymbol=function(){h.initSymbol=function(){},h.global.Symbol||(h.global.Symbol=h.Symbol)},h.symbolCounter_=0,h.Symbol=function(t){return h.SYMBOL_PREFIX+(t||"")+h.symbolCounter_++},h.initSymbolIterator=function(){h.initSymbol();var t=h.global.Symbol.iterator;t||(t=h.global.Symbol.iterator=h.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&h.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return h.arrayIterator(this)}}),h.initSymbolIterator=function(){}},h.arrayIterator=function(t){var e=0;return h.iteratorPrototype((function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}))},h.iteratorPrototype=function(t){return h.initSymbolIterator(),(t={next:t})[h.global.Symbol.iterator]=function(){return this},t},h.array=h.array||{},h.iteratorFromArray=function(t,e){h.initSymbolIterator(),t instanceof String&&(t+="");var n=0,i={next:function(){if(n<t.length){var r=n++;return{value:e(r,t[r]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},h.polyfill=function(t,e,n,i){if(e){for(n=h.global,t=t.split("."),i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&h.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},h.polyfill("Array.prototype.keys",(function(t){return t||function(){return h.iteratorFromArray(this,(function(t){return t}))}}),"es6-impl","es3");var d=this;M.anime=function(){function t(t){if(!A.col(t))try{return document.querySelectorAll(t)}catch(e){}}function e(t,e){for(var n=t.length,i=2<=arguments.length?arguments[1]:void 0,r=[],o=0;o<n;o++)if(o in t){var s=t[o];e.call(i,s,o,t)&&r.push(s)}return r}function n(t){return t.reduce((function(t,e){return t.concat(A.arr(e)?n(e):e)}),[])}function i(e){return A.arr(e)?e:(A.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function r(t,e){return t.some((function(t){return t===e}))}function o(t){var e,n={};for(e in t)n[e]=t[e];return n}function s(t,e){var n,i=o(t);for(n in t)i[n]=e.hasOwnProperty(n)?e[n]:t[n];return i}function a(t,e){var n,i=o(t);for(n in e)i[n]=A.und(t[n])?e[n]:t[n];return i}function u(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function l(t,e){return A.fnc(t)?t(e.target,e.id,e.total):t}function c(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function h(t,e){return A.dom(t)&&r(O,e)?"transform":A.dom(t)&&(t.getAttribute(e)||A.svg(t)&&t[e])?"attribute":A.dom(t)&&"transform"!==e&&c(t,e)?"css":null!=t[e]?"object":void 0}function f(t,n){switch(h(t,n)){case"transform":return function(t,n){var i=function(t){return-1<t.indexOf("translate")||"perspective"===t?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0}(n);if(i=-1<n.indexOf("scale")?1:0+i,!(t=t.style.transform))return i;for(var r=[],o=[],s=[],a=/(\w+)\((.+?)\)/g;r=a.exec(t);)o.push(r[1]),s.push(r[2]);return(t=e(s,(function(t,e){return o[e]===n}))).length?t[0]:i}(t,n);case"css":return c(t,n);case"attribute":return t.getAttribute(n)}return t[n]||0}function p(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=u(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(n[0],"")),n[0][0]){case"+":return e+t+i;case"-":return e-t+i;case"*":return e*t+i}}function v(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function g(t){t=t.points;for(var e,n=0,i=0;i<t.numberOfItems;i++){var r=t.getItem(i);0<i&&(n+=v(e,r)),e=r}return n}function y(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return v({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return g(t);case"polygon":var e=t.points;return g(t)+v(e.getItem(e.numberOfItems-1),e.getItem(0))}}function m(t,e){function n(n){return n=void 0===n?0:n,t.el.getPointAtLength(1<=e+n?e+n:0)}var i=n(),r=n(-1),o=n(1);switch(t.property){case"x":return i.x;case"y":return i.y;case"angle":return 180*Math.atan2(o.y-r.y,o.x-r.x)/Math.PI}}function _(t,e){var n,i=/-?\d*\.?\d+/g;if(n=A.pth(t)?t.totalLength:t,A.col(n))if(A.rgb(n)){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=r?"rgba("+r[1]+",1)":n}else n=A.hex(n)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,i){return e+e+n+n+i+i}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+(t=parseInt(e[1],16))+","+parseInt(e[2],16)+","+(e=parseInt(e[3],16))+",1)"}(n):A.hsl(n)?function(t){function e(t,e,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:.5>n?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(n[1])/360;var i=parseInt(n[2])/100,r=parseInt(n[3])/100;if(n=n[4]||1,0==i)r=i=t=r;else{var o=.5>r?r*(1+i):r+i-r*i,s=2*r-o;r=e(s,o,t+1/3),i=e(s,o,t),t=e(s,o,t-1/3)}return"rgba("+255*r+","+255*i+","+255*t+","+n+")"}(n):void 0;else r=(r=u(n))?n.substr(0,n.length-r.length):n,n=e&&!/\s/g.test(n)?r+e:r;return{original:n+="",numbers:n.match(i)?n.match(i).map(Number):[0],strings:A.str(t)||e?n.split(i):[]}}function b(t){return e(t=t?n(A.arr(t)?t.map(i):i(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function w(t,e){var n=o(e);if(A.arr(t)){var r=t.length;2!==r||A.obj(t[0])?A.fnc(e.duration)||(n.duration=e.duration/r):t={value:t}}return i(t).map((function(t,n){return n=n?0:e.delay,t=A.obj(t)&&!A.pth(t)?t:{value:t},A.und(t.delay)&&(t.delay=n),t})).map((function(t){return a(t,n)}))}function E(t,e){var n;return t.tweens.map((function(i){var r=(i=function(t,e){var n,i={};for(n in t){var r=l(t[n],e);A.arr(r)&&1===(r=r.map((function(t){return l(t,e)}))).length&&(r=r[0]),i[n]=r}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}(i,e)).value,o=f(e.target,t.name),s=n?n.to.original:o,a=(s=A.arr(r)?r[0]:s,p(A.arr(r)?r[1]:r,s));return o=u(a)||u(s)||u(o),i.from=_(s,o),i.to=_(a,o),i.start=n?n.end:t.offset,i.end=i.start+i.delay+i.duration,i.easing=function(t){return A.arr(t)?D.apply(this,t):M[t]}(i.easing),i.elasticity=(1e3-Math.min(Math.max(i.elasticity,1),999))/1e3,i.isPath=A.pth(r),i.isColor=A.col(i.from.original),i.isColor&&(i.round=1),n=i}))}function k(t,e,n,i){var r="delay"===t;return e.length?(r?Math.min:Math.max).apply(Math,e.map((function(e){return e[t]}))):r?i.delay:n.offset+i.delay+i.duration}function C(t){var i,r=s(S,t),o=s(x,t),u=function(t){var e=b(t);return e.map((function(t,n){return{target:t,id:n,total:e.length}}))}(t.targets),l=[],c=a(r,o);for(i in t)c.hasOwnProperty(i)||"targets"===i||l.push({name:i,offset:c.offset,tweens:w(t[i],o)});return t=function(t,i){return e(n(t.map((function(t){return i.map((function(e){var n=h(t.target,e.name);if(n){var i=E(e,t);e={type:n,property:e.name,animatable:t,tweens:i,duration:i[i.length-1].end,delay:i[0].delay}}else e=void 0;return e}))}))),(function(t){return!A.und(t)}))}(u,l),a(r,{children:[],animatables:u,animations:t,duration:k("duration",t,r,o),delay:k("delay",t,r,o)})}function T(t){function n(){return window.Promise&&new Promise((function(t){return d=t}))}function i(t){return p.reversed?p.duration-t:t}function r(t){for(var n=0,i={},r=p.animations,o=r.length;n<o;){var s=r[n],a=s.animatable,u=(l=s.tweens)[f=l.length-1];f&&(u=e(l,(function(e){return t<e.end}))[0]||u);for(var l=Math.min(Math.max(t-u.start-u.delay,0),u.duration)/u.duration,h=isNaN(l)?1:u.easing(l,u.elasticity),d=(l=u.to.strings,u.round),f=[],v=void 0,g=(v=u.to.numbers.length,0);g<v;g++){var y=void 0,_=(y=u.to.numbers[g],u.from.numbers[g]);y=u.isPath?m(u.value,h*y):_+h*(y-_),d&&(u.isColor&&2<g||(y=Math.round(y*d)/d)),f.push(y)}if(u=l.length)for(v=l[0],h=0;h<u;h++)d=l[h+1],g=f[h],isNaN(g)||(v=d?v+(g+d):v+(g+" "));else v=f[0];P[s.type](a.target,s.property,v,i,a.id),s.currentValue=v,n++}if(n=Object.keys(i).length)for(r=0;r<n;r++)I||(I=c(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[r].target.style[I]=i[r].join(" ");p.currentTime=t,p.progress=t/p.duration*100}function o(t){p[t]&&p[t](p)}function s(){p.remaining&&!0!==p.remaining&&p.remaining--}function a(t){var e=p.duration,a=p.offset,c=a+p.delay,v=p.currentTime,g=p.reversed,y=i(t);if(p.children.length){var m=p.children,_=m.length;if(y>=p.currentTime)for(var b=0;b<_;b++)m[b].seek(y);else for(;_--;)m[_].seek(y)}(y>=c||!e)&&(p.began||(p.began=!0,o("begin")),o("run")),y>a&&y<e?r(y):(y<=a&&0!==v&&(r(0),g&&s()),(y>=e&&v!==e||!e)&&(r(e),g||s())),o("update"),t>=e&&(p.remaining?(l=u,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),p.completed||(p.completed=!0,o("complete"),"Promise"in window&&(d(),f=n()))),h=0)}t=void 0===t?{}:t;var u,l,h=0,d=null,f=n(),p=C(t);return p.reset=function(){var t=p.direction,e=p.loop;for(p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===t,p.remaining="alternate"===t&&1===e?2:e,r(0),t=p.children.length;t--;)p.children[t].reset()},p.tick=function(t){u=t,l||(l=u),a((h+u-l)*T.speed)},p.seek=function(t){a(i(t))},p.pause=function(){var t=L.indexOf(p);-1<t&&L.splice(t,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,l=0,h=i(p.currentTime),L.push(p),N||R())},p.reverse=function(){p.reversed=!p.reversed,l=0,h=i(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=f,p.reset(),p.autoplay&&p.play(),p}var I,S={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},x={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},O="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),A={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return A.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||A.svg(t)},str:function(t){return"string"===typeof t},fnc:function(t){return"function"===typeof t},und:function(t){return"undefined"===typeof t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return A.hex(t)||A.rgb(t)||A.hsl(t)}},D=function(){function t(t,e,n){return(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t}return function(e,n,i,r){if(0<=e&&1>=e&&0<=i&&1>=i){var o=new Float32Array(11);if(e!==n||i!==r)for(var s=0;11>s;++s)o[s]=t(.1*s,e,i);return function(s){if(e===n&&i===r)return s;if(0===s)return 0;if(1===s)return 1;for(var a=0,u=1;10!==u&&o[u]<=s;++u)a+=.1;--u,u=a+(s-o[u])/(o[u+1]-o[u])*.1;var l=3*(1-3*i+3*e)*u*u+2*(3*i-6*e)*u+3*e;if(.001<=l){for(a=0;4>a&&0!==(l=3*(1-3*i+3*e)*u*u+2*(3*i-6*e)*u+3*e);++a){var c=t(u,e,i)-s;u-=c/l}s=u}else if(0===l)s=u;else{u=a,a+=.1;var h=0;do{0<(l=t(c=u+(a-u)/2,e,i)-s)?a=c:u=c}while(1e-7<Math.abs(l)&&10>++h);s=c}return t(s,n,r)}}}}(),M=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),i={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,n){return 1-t(1-e,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,n){return.5>e?t(2*e,n)/2:1-t(-2*e+2,n)/2}]},r={linear:D(.25,.25,.75,.75)},o={};for(e in i)o.type=e,i[o.type].forEach(function(t){return function(e,i){r["ease"+t.type+n[i]]=A.fnc(e)?e:D.apply(d,e)}}(o)),o={type:o.type};return r}(),P={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,r){i[r]||(i[r]=[]),i[r].push(e+"("+n+")")}},L=[],N=0,R=function(){function t(){N=requestAnimationFrame(e)}function e(e){var n=L.length;if(n){for(var i=0;i<n;)L[i]&&L[i].tick(e),i++;t()}else cancelAnimationFrame(N),N=0}return t}();return T.version="2.2.0",T.speed=1,T.running=L,T.remove=function(t){t=b(t);for(var e=L.length;e--;)for(var n=L[e],i=n.animations,o=i.length;o--;)r(t,i[o].animatable.target)&&(i.splice(o,1),i.length||n.pause())},T.getValue=f,T.path=function(e,n){var i=A.str(e)?t(e)[0]:e,r=n||100;return function(t){return{el:i,property:t,totalLength:y(i)*(r/100)}}},T.setDashoffset=function(t){var e=y(t);return t.setAttribute("stroke-dasharray",e),e},T.bezier=D,T.easings=M,T.timeline=function(t){var e=T(t);return e.pause(),e.duration=0,e.add=function(n){return e.children.forEach((function(t){t.began=!0,t.completed=!0})),i(n).forEach((function(n){var i=a(n,s(x,t||{}));i.targets=i.targets||t.targets,n=e.duration;var r=i.offset;i.autoplay=!1,i.direction=e.direction,i.offset=A.und(r)?n:p(r,n),e.began=!0,e.completed=!0,e.seek(i.offset),(i=T(i)).began=!0,i.completed=!0,i.duration>n&&(e.duration=i.duration),e.children.push(i)})),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},T.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},T}(),function(t,e){"use strict";var n={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));i.el.M_Collapsible=i,i.options=t.extend({},l.defaults,n),i.$headers=i.$el.children("li").children(".collapsible-header"),i.$headers.attr("tabindex",0),i._setupEventHandlers();var r=i.$el.children("li.active").children(".collapsible-body");return i.options.accordion?r.first().css("display","block"):r.css("display","block"),i}return a(l,i),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(e){e.addEventListener("keydown",t._handleCollapsibleKeydownBound)}))}},{key:"_removeEventHandlers",value:function(){var t=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(e){e.removeEventListener("keydown",t._handleCollapsibleKeydownBound)}))}},{key:"_handleCollapsibleClick",value:function(e){var n=t(e.target).closest(".collapsible-header");if(e.target&&n.length){var i=n.closest(".collapsible");if(i[0]===this.el){var r=n.closest("li"),o=i.children("li"),s=r[0].classList.contains("active"),a=o.index(r);s?this.close(a):this.open(a)}}}},{key:"_handleCollapsibleKeydown",value:function(t){13===t.keyCode&&this._handleCollapsibleClickBound(t)}},{key:"_animateIn",value:function(t){var n=this,i=this.$el.children("li").eq(t);if(i.length){var r=i.children(".collapsible-body");e.remove(r[0]),r.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var o=r.css("padding-top"),s=r.css("padding-bottom"),a=r[0].scrollHeight;r.css({paddingTop:0,paddingBottom:0}),e({targets:r[0],height:a,paddingTop:o,paddingBottom:s,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(t){r.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"===typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,i[0])}})}}},{key:"_animateOut",value:function(t){var n=this,i=this.$el.children("li").eq(t);if(i.length){var r=i.children(".collapsible-body");e.remove(r[0]),r.css("overflow","hidden"),e({targets:r[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){r.css({height:"",overflow:"",padding:"",display:""}),"function"===typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,i[0])}})}}},{key:"open",value:function(e){var n=this,i=this.$el.children("li").eq(e);if(i.length&&!i[0].classList.contains("active")){if("function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,i[0]),this.options.accordion){var r=this.$el.children("li");this.$el.children("li.active").each((function(e){var i=r.index(t(e));n.close(i)}))}i[0].classList.add("active"),this._animateIn(e)}}},{key:"close",value:function(t){var e=this.$el.children("li").eq(t);e.length&&e[0].classList.contains("active")&&("function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,e[0]),e[0].classList.remove("active"),this._animateOut(t))}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Collapsible}},{key:"defaults",get:function(){return n}}]),l}(l);M.Collapsible=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"collapsible","M_Collapsible")}(cash,M.anime),function(t,e){"use strict";var n={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return i.el.M_Dropdown=i,l._dropdowns.push(i),i.id=M.getIdFromTrigger(e),i.dropdownEl=document.getElementById(i.id),i.$dropdownEl=t(i.dropdownEl),i.options=t.extend({},l.defaults,n),i.isOpen=!1,i.isScrollable=!1,i.isTouchMoving=!1,i.focusedIndex=-1,i.filterQuery=[],i.options.container?t(i.options.container).append(i.dropdownEl):i.$el.after(i.dropdownEl),i._makeDropdownFocusable(),i._resetFilterQueryBound=i._resetFilterQuery.bind(i),i._handleDocumentClickBound=i._handleDocumentClick.bind(i),i._handleDocumentTouchmoveBound=i._handleDocumentTouchmove.bind(i),i._handleDropdownClickBound=i._handleDropdownClick.bind(i),i._handleDropdownKeydownBound=i._handleDropdownKeydown.bind(i),i._handleTriggerKeydownBound=i._handleTriggerKeydown.bind(i),i._setupEventHandlers(),i}return a(l,i),o(l,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),l._dropdowns.splice(l._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(t){t.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(e){var n=e.toElement||e.relatedTarget,i=!!t(n).closest(".dropdown-content").length,r=!1,o=t(n).closest(".dropdown-trigger");o.length&&o[0].M_Dropdown&&o[0].M_Dropdown.isOpen&&(r=!0),r||i||this.close()}},{key:"_handleDocumentClick",value:function(e){var n=this,i=t(e.target);this.options.closeOnClick&&i.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout((function(){n.close()}),0):!i.closest(".dropdown-trigger").length&&i.closest(".dropdown-content").length||setTimeout((function(){n.close()}),0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(t){t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ENTER||this.isOpen||(t.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(e){t(e.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(e){if("function"===typeof this.options.onItemClick){var n=t(e.target).closest("li")[0];this.options.onItemClick.call(this,n)}}},{key:"_handleDropdownKeydown",value:function(e){if(e.which===M.keys.TAB)e.preventDefault(),this.close();else if(e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||!this.isOpen)if(e.which===M.keys.ENTER&&this.isOpen){var n=this.dropdownEl.children[this.focusedIndex],i=t(n).find("a, button").first();i.length?i[0].click():n.click()}else e.which===M.keys.ESC&&this.isOpen&&(e.preventDefault(),this.close());else{e.preventDefault();var r=e.which===M.keys.ARROW_DOWN?1:-1,o=this.focusedIndex,s=!1;do{if(o+=r,this.dropdownEl.children[o]&&-1!==this.dropdownEl.children[o].tabIndex){s=!0;break}}while(o<this.dropdownEl.children.length&&o>=0);s&&(this.focusedIndex=o,this._focusFocusedItem())}var a=String.fromCharCode(e.which).toLowerCase();if(a&&-1===[9,13,27,38,40].indexOf(e.which)){this.filterQuery.push(a);var u=this.filterQuery.join(""),l=t(this.dropdownEl).find("li").filter((function(e){return 0===t(e).text().toLowerCase().indexOf(u)}))[0];l&&(this.focusedIndex=t(l).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,t(this.dropdownEl).children().each((function(t){t.getAttribute("tabindex")||t.setAttribute("tabindex",0)}))}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var t=this.el.getBoundingClientRect(),e=this.dropdownEl.getBoundingClientRect(),n=e.height,i=e.width,r=t.left-e.left,o=t.top-e.top,s={left:r,top:o,height:n,width:i},a=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,u=M.checkPossibleAlignments(this.el,a,s,this.options.coverTrigger?0:t.height),l="top",c=this.options.alignment;if(o+=this.options.coverTrigger?0:t.height,this.isScrollable=!1,u.top||(u.bottom?l="bottom":(this.isScrollable=!0,u.spaceOnTop>u.spaceOnBottom?(l="bottom",n+=u.spaceOnTop,o-=u.spaceOnTop):n+=u.spaceOnBottom)),!u[c]){var h="left"===c?"right":"left";u[h]?c=h:u.spaceOnLeft>u.spaceOnRight?(c="right",i+=u.spaceOnLeft,r-=u.spaceOnLeft):(c="left",i+=u.spaceOnRight)}return"bottom"===l&&(o=o-e.height+(this.options.coverTrigger?t.height:0)),"right"===c&&(r=r-e.width+t.width),{x:r,y:o,verticalAlignment:l,horizontalAlignment:c,height:n,width:i}}},{key:"_animateIn",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(e){if(t.options.autoFocus&&t.dropdownEl.focus(),"function"===typeof t.options.onOpenEnd){var n=e.animatables[0].target;t.options.onOpenEnd.call(n,t.el)}}})}},{key:"_animateOut",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(e){if(t._resetDropdownStyles(),"function"===typeof t.options.onCloseEnd){e.animatables[0].target;t.options.onCloseEnd.call(t,t.el)}}})}},{key:"_placeDropdown",value:function(){var t=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=t+"px";var e=this._getDropdownPosition();this.dropdownEl.style.left=e.x+"px",this.dropdownEl.style.top=e.y+"px",this.dropdownEl.style.height=e.height+"px",this.dropdownEl.style.width=e.width+"px",this.dropdownEl.style.transformOrigin=("left"===e.horizontalAlignment?"0":"100%")+" "+("top"===e.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Dropdown}},{key:"defaults",get:function(){return n}}]),l}(l);i._dropdowns=[],window.M.Dropdown=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"dropdown","M_Dropdown")}(cash,M.anime),function(t,e){"use strict";var n={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return i.el.M_Modal=i,i.options=t.extend({},l.defaults,n),i.isOpen=!1,i.id=i.$el.attr("id"),i._openingTrigger=void 0,i.$overlay=t('<div class="modal-overlay"></div>'),i.el.tabIndex=0,i._nthModalOpened=0,l._count++,i._setupEventHandlers(),i}return a(l,i),o(l,[{key:"destroy",value:function(){l._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===l._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===l._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(e){var n=t(e.target).closest(".modal-trigger");if(n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Modal;r&&r.open(n),e.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(e){t(e.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(t){27===t.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(t){this.el.contains(t.target)||this._nthModalOpened!==l._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var n=this;t.extend(this.el.style,{display:"block",opacity:0}),t.extend(this.$overlay[0].style,{display:"block",opacity:0}),e({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var i={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"===typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,n.el,n._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(t.extend(i,{bottom:0,opacity:1}),e(i)):(t.extend(i,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),e(i))}},{key:"_animateOut",value:function(){var n=this;e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var i={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){n.el.style.display="none",n.$overlay.remove(),"function"===typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,n.el)}};this.el.classList.contains("bottom-sheet")?(t.extend(i,{bottom:"-100%",opacity:0}),e(i)):(t.extend(i,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),e(i))}},{key:"open",value:function(t){if(!this.isOpen)return this.isOpen=!0,l._modalsOpen++,this._nthModalOpened=l._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*l._modalsOpen,this.el.style.zIndex=1e3+2*l._modalsOpen+1,this._openingTrigger=t?t[0]:void 0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),e.remove(this.el),e.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,l._modalsOpen--,this._nthModalOpened=0,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===l._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),e.remove(this.el),e.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Modal}},{key:"defaults",get:function(){return n}}]),l}(l);i._modalsOpen=0,i._count=0,M.Modal=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"modal","M_Modal")}(cash,M.anime),function(t,e){"use strict";var n={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return i.el.M_Materialbox=i,i.options=t.extend({},l.defaults,n),i.overlayActive=!1,i.doneAnimating=!0,i.placeholder=t("<div></div>").addClass("material-placeholder"),i.originalWidth=0,i.originalHeight=0,i.originInlineStyles=i.$el.attr("style"),i.caption=i.el.getAttribute("data-caption")||"",i.$el.before(i.placeholder),i.placeholder.append(i.$el),i._setupEventHandlers(),i}return a(l,i),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,t(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(t){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(t){27===t.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=t();for(var e=this.placeholder[0].parentNode;null!==e&&!t(e).is(document);){var n=t(e);"visible"!==n.css("overflow")&&(n.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=n:this.ancestorsChanged=this.ancestorsChanged.add(n)),e=e.parentNode}}},{key:"_animateImageIn",value:function(){var t=this,n={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){t.doneAnimating=!0,"function"===typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(n.maxWidth=this.newWidth),"none"!==this.maxHeight&&(n.maxHeight=this.newHeight),e(n)}},{key:"_animateImageOut",value:function(){var t=this,n={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.placeholder.css({height:"",width:"",position:"",top:"",left:""}),t.attrWidth&&t.$el.attr("width",t.attrWidth),t.attrHeight&&t.$el.attr("height",t.attrHeight),t.$el.removeAttr("style"),t.originInlineStyles&&t.$el.attr("style",t.originInlineStyles),t.$el.removeClass("active"),t.doneAnimating=!0,t.ancestorsChanged.length&&t.ancestorsChanged.css("overflow",""),"function"===typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}};e(n)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var n=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=t('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",(function(){n.doneAnimating&&n.close()})),this.$el.before(this.$overlay);var i=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*i.left+"px",top:-1*i.top+"px"}),e.remove(this.el),e.remove(this.$overlay[0]),e({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&e.remove(this.$photoCaption[0]),this.$photoCaption=t('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),t("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),e({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var r=0,o=this.originalWidth/this.windowWidth,s=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,o>s?(r=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*r):(r=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*r,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var t=this;this._updateVars(),this.doneAnimating=!1,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),e.remove(this.el),e.remove(this.$overlay[0]),""!==this.caption&&e.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.overlayActive=!1,t.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&e({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.$photoCaption.remove()}})}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Materialbox}},{key:"defaults",get:function(){return n}}]),l}(l);M.Materialbox=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"materialbox","M_Materialbox")}(cash,M.anime),function(t){"use strict";var e={responsiveThreshold:0},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Parallax=r,r.options=t.extend({},i.defaults,n),r._enabled=window.innerWidth>r.options.responsiveThreshold,r.$img=r.$el.find("img").first(),r.$img.each((function(){this.complete&&t(this).trigger("load")})),r._updateParallax(),r._setupEventHandlers(),r._setupStyles(),i._parallaxes.push(r),r}return a(i,n),o(i,[{key:"destroy",value:function(){i._parallaxes.splice(i._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(i._handleScrollThrottled=M.throttle(i._handleScroll,5),window.addEventListener("scroll",i._handleScrollThrottled),i._handleWindowResizeThrottled=M.throttle(i._handleWindowResize,5),window.addEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(window.removeEventListener("scroll",i._handleScrollThrottled),window.removeEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var t=this.$el.height()>0?this.el.parentNode.offsetHeight:500,e=this.$img[0].offsetHeight-t,n=this.$el.offset().top+t,i=this.$el.offset().top,r=M.getDocumentScrollTop(),o=window.innerHeight,s=e*((r+o-i)/(t+o));this._enabled?n>r&&i<r+o&&(this.$img[0].style.transform="translate3D(-50%, "+s+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Parallax}},{key:"_handleScroll",value:function(){for(var t=0;t<i._parallaxes.length;t++){var e=i._parallaxes[t];e._updateParallax.call(e)}}},{key:"_handleWindowResize",value:function(){for(var t=0;t<i._parallaxes.length;t++){var e=i._parallaxes[t];e._enabled=window.innerWidth>e.options.responsiveThreshold}}},{key:"defaults",get:function(){return e}}]),i}(l);n._parallaxes=[],M.Parallax=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"parallax","M_Parallax")}(cash),function(t,e){"use strict";var n={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return i.el.M_Tabs=i,i.options=t.extend({},l.defaults,n),i.$tabLinks=i.$el.children("li.tab").children("a"),i.index=0,i._setupActiveTabLink(),i.options.swipeable?i._setupSwipeableTabs():i._setupNormalTabs(),i._setTabsAndTabWidth(),i._createIndicator(),i._setupEventHandlers(),i}return a(l,i),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(e){var n=this,i=t(e.target).closest("li.tab"),r=t(e.target).closest("a");if(r.length&&r.parent().hasClass("tab"))if(i.hasClass("disabled"))e.preventDefault();else if(!r.attr("target")){this.$activeTabLink.removeClass("active");var o=this.$content;this.$activeTabLink=r,this.$content=t(M.escapeHash(r[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var s=this.index;this.index=Math.max(this.$tabLinks.index(r),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,(function(){"function"===typeof n.options.onShow&&n.options.onShow.call(n,n.$content[0])})):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"===typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),o.length&&!o.is(this.$content)&&(o[0].style.display="none",o.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(s),e.preventDefault()}}},{key:"_createIndicator",value:function(){var t=this,e=document.createElement("li");e.classList.add("indicator"),this.el.appendChild(e),this._indicator=e,setTimeout((function(){t._indicator.style.left=t._calcLeftPos(t.$activeTabLink)+"px",t._indicator.style.right=t._calcRightPos(t.$activeTabLink)+"px"}),0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=t(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=t(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var e=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var n=t();this.$tabLinks.each((function(e){var i=t(M.escapeHash(e.hash));i.addClass("carousel-item"),n=n.add(i)}));var i=t('<div class="tabs-content carousel carousel-slider"></div>');n.first().before(i),i.append(n),n[0].style.display="";var r=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(i[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(n){var i=e.index;e.index=t(n).index(),e.$activeTabLink.removeClass("active"),e.$activeTabLink=e.$tabLinks.eq(e.index),e.$activeTabLink.addClass("active"),e._animateIndicator(i),"function"===typeof e.options.onShow&&e.options.onShow.call(e,e.$content[0])}}),this._tabsCarousel.set(r)}},{key:"_teardownSwipeableTabs",value:function(){var t=this._tabsCarousel.$el;this._tabsCarousel.destroy(),t.after(t.children()),t.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each((function(e){if(e.hash){var n=t(M.escapeHash(e.hash));n.length&&(n[0].style.display="none")}}))}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each((function(e){if(e.hash){var n=t(M.escapeHash(e.hash));n.length&&(n[0].style.display="")}}))}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(t){return Math.ceil(this.tabsWidth-t.position().left-t[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(t){return Math.floor(t.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(t){var n=0,i=0;this.index-t>=0?n=90:i=90;var r={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:n},right:{value:this._calcRightPos(this.$activeTabLink),delay:i},duration:this.options.duration,easing:"easeOutQuad"};e.remove(this._indicator),e(r)}},{key:"select",value:function(t){var e=this.$tabLinks.filter('[href="#'+t+'"]');e.length&&e.trigger("click")}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tabs}},{key:"defaults",get:function(){return n}}]),l}(l);window.M.Tabs=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tabs","M_Tabs")}(cash,M.anime),function(t,e){"use strict";var n={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return i.el.M_Tooltip=i,i.options=t.extend({},l.defaults,n),i.isOpen=!1,i.isHovered=!1,i.isFocused=!1,i._appendTooltipEl(),i._setupEventHandlers(),i}return a(l,i),o(l,[{key:"destroy",value:function(){t(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var t=document.createElement("div");t.classList.add("material-tooltip"),this.tooltipEl=t;var e=document.createElement("div");e.classList.add("tooltip-content"),e.innerHTML=this.options.html,t.appendChild(e),document.body.appendChild(t)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(e){this.isOpen||(e=void 0===e||void 0,this.isOpen=!0,this.options=t.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(e))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var t=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout((function(){t.isHovered||t.isFocused||t._animateOut()}),this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(t){var e=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout((function(){(e.isHovered||e.isFocused||t)&&e._animateIn()}),this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var e,n=this.el,i=this.tooltipEl,r=n.offsetHeight,o=n.offsetWidth,s=i.offsetHeight,a=i.offsetWidth,u=this.options.margin,l=void 0,c=void 0;this.xMovement=0,this.yMovement=0,l=n.getBoundingClientRect().top+M.getDocumentScrollTop(),c=n.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(l+=-s-u,c+=o/2-a/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(l+=r/2-s/2,c+=o+u,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(l+=r/2-s/2,c+=-a-u,this.xMovement=-this.options.transitionMovement):(l+=r+u,c+=o/2-a/2,this.yMovement=this.options.transitionMovement),e=this._repositionWithinScreen(c,l,a,s),t(i).css({top:e.y+"px",left:e.x+"px"})}},{key:"_repositionWithinScreen",value:function(t,e,n,i){var r=M.getDocumentScrollLeft(),o=M.getDocumentScrollTop(),s=t-r,a=e-o,u={left:s,top:a,width:n,height:i},l=this.options.margin+this.options.transitionMovement,c=M.checkWithinContainer(document.body,u,l);return c.left?s=l:c.right&&(s-=s+n-window.innerWidth),c.top?a=l:c.bottom&&(a-=a+i-window.innerHeight),{x:s+r,y:a+o}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var t={},e=this.el.getAttribute("data-tooltip"),n=this.el.getAttribute("data-position");return e&&(t.html=e),n&&(t.position=n),t}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tooltip}},{key:"defaults",get:function(){return n}}]),l}(l);M.Tooltip=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tooltip","M_Tooltip")}(cash,M.anime),function(t){"use strict";var e=e||{},n=document.querySelectorAll.bind(document);function i(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e}var r={duration:750,show:function(t,e){if(2===t.button)return!1;var n=e||this,o=document.createElement("div");o.className="waves-ripple",n.appendChild(o);var s=function(t){var e,n,i={top:0,left:0},r=t&&t.ownerDocument;return e=r.documentElement,"undefined"!==typeof t.getBoundingClientRect&&(i=t.getBoundingClientRect()),n=function(t){return null!==(e=t)&&e===e.window?t:9===t.nodeType&&t.defaultView;var e}(r),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}}(n),a=t.pageY-s.top,u=t.pageX-s.left,l="scale("+n.clientWidth/100*10+")";"touches"in t&&(a=t.touches[0].pageY-s.top,u=t.touches[0].pageX-s.left),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-scale",l),o.setAttribute("data-x",u),o.setAttribute("data-y",a);var c={top:a+"px",left:u+"px"};o.className=o.className+" waves-notransition",o.setAttribute("style",i(c)),o.className=o.className.replace("waves-notransition",""),c["-webkit-transform"]=l,c["-moz-transform"]=l,c["-ms-transform"]=l,c["-o-transform"]=l,c.transform=l,c.opacity="1",c["-webkit-transition-duration"]=r.duration+"ms",c["-moz-transition-duration"]=r.duration+"ms",c["-o-transition-duration"]=r.duration+"ms",c["transition-duration"]=r.duration+"ms",c["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",c["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",c["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",c["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",o.setAttribute("style",i(c))},hide:function(t){o.touchup(t);var e=this,n=(e.clientWidth,null),s=e.getElementsByClassName("waves-ripple");if(!(s.length>0))return!1;var a=(n=s[s.length-1]).getAttribute("data-x"),u=n.getAttribute("data-y"),l=n.getAttribute("data-scale"),c=350-(Date.now()-Number(n.getAttribute("data-hold")));c<0&&(c=0),setTimeout((function(){var o={top:u+"px",left:a+"px",opacity:"0","-webkit-transition-duration":r.duration+"ms","-moz-transition-duration":r.duration+"ms","-o-transition-duration":r.duration+"ms","transition-duration":r.duration+"ms","-webkit-transform":l,"-moz-transform":l,"-ms-transform":l,"-o-transform":l,transform:l};n.setAttribute("style",i(o)),setTimeout((function(){try{e.removeChild(n)}catch(t){return!1}}),r.duration)}),c)},wrapInput:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&-1!==i.className.indexOf("waves-effect"))continue;var r=document.createElement("i");r.className=n.className+" waves-input-wrapper";var o=n.getAttribute("style");o||(o=""),r.setAttribute("style",o),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(r,n),r.appendChild(n)}}}},o={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?o.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout((function(){o.touches>0&&(o.touches-=1)}),500):"mousedown"===t.type&&o.touches>0&&(e=!1),e},touchup:function(t){o.allowEvent(t)}};function s(e){var n=function(t){if(!1===o.allowEvent(t))return null;for(var e=null,n=t.target||t.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){e=n;break}n=n.parentNode}return e}(e);null!==n&&(r.show(e,n),"ontouchstart"in t&&(n.addEventListener("touchend",r.hide,!1),n.addEventListener("touchcancel",r.hide,!1)),n.addEventListener("mouseup",r.hide,!1),n.addEventListener("mouseleave",r.hide,!1),n.addEventListener("dragend",r.hide,!1))}e.displayEffect=function(e){"duration"in(e=e||{})&&(r.duration=e.duration),r.wrapInput(n(".waves-effect")),"ontouchstart"in t&&document.body.addEventListener("touchstart",s,!1),document.body.addEventListener("mousedown",s,!1)},e.attach=function(e){"input"===e.tagName.toLowerCase()&&(r.wrapInput([e]),e=e.parentNode),"ontouchstart"in t&&e.addEventListener("touchstart",s,!1),e.addEventListener("mousedown",s,!1)},t.Waves=e,document.addEventListener("DOMContentLoaded",(function(){e.displayEffect()}),!1)}(window),function(t,e){"use strict";var n={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},i=function(){function i(e){u(this,i),this.options=t.extend({},i.defaults,e),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===i._toasts.length&&i._createContainer(),i._toasts.push(this);var n=this._createToast();n.M_Toast=this,this.el=n,this.$el=t(n),this._animateIn(),this._setTimer()}return o(i,[{key:"_createToast",value:function(){var e=document.createElement("div");return e.classList.add("toast"),this.options.classes.length&&t(e).addClass(this.options.classes),("object"===typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"===typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"===typeof this.message.nodeName)?e.appendChild(this.message):this.message.jquery?t(e).append(this.message[0]):e.innerHTML=this.message,i._container.appendChild(e),e}},{key:"_animateIn",value:function(){e({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var t=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval((function(){t.panning||(t.timeRemaining-=20),t.timeRemaining<=0&&t.dismiss()}),20))}},{key:"dismiss",value:function(){var t=this;window.clearInterval(this.counterInterval);var n=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+n+"px)",this.el.style.opacity=0),e({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"===typeof t.options.completeCallback&&t.options.completeCallback(),t.$el.remove(),i._toasts.splice(i._toasts.indexOf(t),1),0===i._toasts.length&&i._removeContainer()}})}}],[{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Toast}},{key:"_createContainer",value:function(){var t=document.createElement("div");t.setAttribute("id","toast-container"),t.addEventListener("touchstart",i._onDragStart),t.addEventListener("touchmove",i._onDragMove),t.addEventListener("touchend",i._onDragEnd),t.addEventListener("mousedown",i._onDragStart),document.addEventListener("mousemove",i._onDragMove),document.addEventListener("mouseup",i._onDragEnd),document.body.appendChild(t),i._container=t}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",i._onDragMove),document.removeEventListener("mouseup",i._onDragEnd),t(i._container).remove(),i._container=null}},{key:"_onDragStart",value:function(e){if(e.target&&t(e.target).closest(".toast").length){var n=t(e.target).closest(".toast")[0].M_Toast;n.panning=!0,i._draggedToast=n,n.el.classList.add("panning"),n.el.style.transition="",n.startingXPos=i._xPos(e),n.time=Date.now(),n.xPos=i._xPos(e)}}},{key:"_onDragMove",value:function(t){if(i._draggedToast){t.preventDefault();var e=i._draggedToast;e.deltaX=Math.abs(e.xPos-i._xPos(t)),e.xPos=i._xPos(t),e.velocityX=e.deltaX/(Date.now()-e.time),e.time=Date.now();var n=e.xPos-e.startingXPos,r=e.el.offsetWidth*e.options.activationPercent;e.el.style.transform="translateX("+n+"px)",e.el.style.opacity=1-Math.abs(n/r)}}},{key:"_onDragEnd",value:function(){if(i._draggedToast){var t=i._draggedToast;t.panning=!1,t.el.classList.remove("panning");var e=t.xPos-t.startingXPos,n=t.el.offsetWidth*t.options.activationPercent;Math.abs(e)>n||t.velocityX>1?(t.wasSwiped=!0,t.dismiss()):(t.el.style.transition="transform .2s, opacity .2s",t.el.style.transform="",t.el.style.opacity=""),i._draggedToast=null}}},{key:"_xPos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}},{key:"dismissAll",value:function(){for(var t in i._toasts)i._toasts[t].dismiss()}},{key:"defaults",get:function(){return n}}]),i}();i._toasts=[],i._container=null,i._draggedToast=null,M.Toast=i,M.toast=function(t){return new i(t)}}(cash,M.anime),function(t,e){"use strict";var n={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return i.el.M_Sidenav=i,i.id=i.$el.attr("id"),i.options=t.extend({},l.defaults,n),i.isOpen=!1,i.isFixed=i.el.classList.contains("sidenav-fixed"),i.isDragged=!1,i.lastWindowWidth=window.innerWidth,i.lastWindowHeight=window.innerHeight,i._createOverlay(),i._createDragTarget(),i._setupEventHandlers(),i._setupClasses(),i._setupFixed(),l._sidenavs.push(i),i}return a(l,i),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var t=l._sidenavs.indexOf(this);t>=0&&l._sidenavs.splice(t,1)}},{key:"_createOverlay",value:function(){var t=document.createElement("div");this._closeBound=this.close.bind(this),t.classList.add("sidenav-overlay"),t.addEventListener("click",this._closeBound),document.body.appendChild(t),this._overlay=t}},{key:"_setupEventHandlers",value:function(){0===l._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===l._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(e){var n=t(e.target).closest(".sidenav-trigger");if(e.target&&n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Sidenav;r&&r.open(n),e.preventDefault()}}},{key:"_startDrag",value:function(t){var n=t.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=n,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,e.remove(this.el),e.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(t){var e=t.targetTouches[0].clientX,n=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-e),this._xPos=e,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==n&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(t){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,n=e>0?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge===n&&(e=0);var i=e,r="translateX(-100%)";"right"===this.options.edge&&(r="translateX(100%)",i=-i),this.percentOpen=Math.min(1,e/this._width),this.el.style.transform=r+" translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.2?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(t){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,n=e>0?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge!==n&&(e=0);var i=-e;"right"===this.options.edge&&(i=-i),this.percentOpen=Math.min(1,1-e/this._width),this.el.style.transform="translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.8?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(e){t(e.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(window.innerWidth>992?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&window.innerWidth>992}},{key:"_createDragTarget",value:function(){var t=document.createElement("div");t.classList.add("drag-target"),document.body.appendChild(t),this.dragTarget=t}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(e.remove(this.el),e({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var t="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+t+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var t=this,n="left"===this.options.edge?-1:1;this.isDragged&&(n="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*n+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"===typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}})}},{key:"_animateOverlayIn",value:function(){var n=0;this.isDragged?n=this.percentOpen:t(this._overlay).css({display:"block"}),e.remove(this._overlay),e({targets:this._overlay,opacity:[n,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var t=this,n="left"===this.options.edge?-1:1,i=0;this.isDragged&&(i="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*i+"%",105*n+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"===typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}})}},{key:"_animateOverlayOut",value:function(){var n=this;e.remove(this._overlay),e({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t(n._overlay).css("display","none")}})}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Sidenav}},{key:"defaults",get:function(){return n}}]),l}(l);i._sidenavs=[],window.M.Sidenav=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"sidenav","M_Sidenav")}(cash,M.anime),function(t,e){"use strict";var n={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(t){return'a[href="#'+t+'"]'}},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return i.el.M_ScrollSpy=i,i.options=t.extend({},l.defaults,n),l._elements.push(i),l._count++,l._increment++,i.tickId=-1,i.id=l._increment,i._setupEventHandlers(),i._handleWindowScroll(),i}return a(l,i),o(l,[{key:"destroy",value:function(){l._elements.splice(l._elements.indexOf(this),1),l._elementsInView.splice(l._elementsInView.indexOf(this),1),l._visibleElements.splice(l._visibleElements.indexOf(this.$el),1),l._count--,this._removeEventHandlers(),t(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var t=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=t.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===l._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===l._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(n){for(var i=t(n.target),r=l._elements.length-1;r>=0;r--){var o=l._elements[r];if(i.is('a[href="#'+o.$el.attr("id")+'"]')){n.preventDefault();var s=o.$el.offset().top+1;e({targets:[document.documentElement,document.body],scrollTop:s-o.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){l._ticks++;for(var t=M.getDocumentScrollTop(),e=M.getDocumentScrollLeft(),n=e+window.innerWidth,i=t+window.innerHeight,r=l._findElements(t,n,i,e),o=0;o<r.length;o++){var s=r[o];s.tickId<0&&s._enter(),s.tickId=l._ticks}for(var a=0;a<l._elementsInView.length;a++){var u=l._elementsInView[a],c=u.tickId;c>=0&&c!==l._ticks&&(u._exit(),u.tickId=-1)}l._elementsInView=r}},{key:"_enter",value:function(){l._visibleElements=l._visibleElements.filter((function(t){return 0!=t.height()})),l._visibleElements[0]?(t(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),l._visibleElements[0][0].M_ScrollSpy&&this.id<l._visibleElements[0][0].M_ScrollSpy.id?l._visibleElements.unshift(this.$el):l._visibleElements.push(this.$el)):l._visibleElements.push(this.$el),t(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var e=this;l._visibleElements=l._visibleElements.filter((function(t){return 0!=t.height()})),l._visibleElements[0]&&(t(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),l._visibleElements=l._visibleElements.filter((function(t){return t.attr("id")!=e.$el.attr("id")})),l._visibleElements[0]&&t(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_ScrollSpy}},{key:"_findElements",value:function(t,e,n,i){for(var r=[],o=0;o<l._elements.length;o++){var s=l._elements[o],a=t+s.options.scrollOffset||200;if(s.$el.height()>0){var u=s.$el.offset().top,c=s.$el.offset().left,h=c+s.$el.width(),d=u+s.$el.height();!(c>e||h<i||u>n||d<a)&&r.push(s)}}return r}},{key:"defaults",get:function(){return n}}]),l}(l);i._elements=[],i._elementsInView=[],i._visibleElements=[],i._count=0,i._increment=0,i._ticks=0,M.ScrollSpy=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(t){"use strict";var e={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(t,e,n){return t.indexOf(n)-e.indexOf(n)}},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Autocomplete=r,r.options=t.extend({},i.defaults,n),r.isOpen=!1,r.count=0,r.activeIndex=-1,r.oldVal,r.$inputField=r.$el.closest(".input-field"),r.$active=t(),r._mousedown=!1,r._setupDropdown(),r._setupEventHandlers(),r}return a(i,n),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),"undefined"!==typeof window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),"undefined"!==typeof window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var e=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),t(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(n){e.selectOption(t(n))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(t){"keyup"===t.type&&(i._keydown=!1),this.count=0;var e=this.el.value.toLowerCase();13!==t.keyCode&&38!==t.keyCode&&40!==t.keyCode&&(this.oldVal===e||!M.tabPressed&&"focus"===t.type||this.open(),this.oldVal=e)}},{key:"_handleInputKeydown",value:function(e){i._keydown=!0;var n=e.keyCode,r=void 0,o=t(this.container).children("li").length;n===M.keys.ENTER&&this.activeIndex>=0?(r=t(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(r),e.preventDefault()):n!==M.keys.ARROW_UP&&n!==M.keys.ARROW_DOWN||(e.preventDefault(),n===M.keys.ARROW_UP&&this.activeIndex>0&&this.activeIndex--,n===M.keys.ARROW_DOWN&&this.activeIndex<o-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=t(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(t){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(t){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(t){this._mousedown=!1}},{key:"_highlight",value:function(t,e){var n=e.find("img"),i=e.text().toLowerCase().indexOf(""+t.toLowerCase()),r=i+t.length-1,o=e.text().slice(0,i),s=e.text().slice(i,r+1),a=e.text().slice(r+1);e.html("<span>"+o+"<span class='highlight'>"+s+"</span>"+a+"</span>"),n.length&&e.prepend(n)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){t(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(t){var e=t.text().trim();this.el.value=e,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"===typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,e)}},{key:"_renderDropdown",value:function(e,n){var i=this;this._resetAutocomplete();var r=[];for(var o in e)if(e.hasOwnProperty(o)&&-1!==o.toLowerCase().indexOf(n)){if(this.count>=this.options.limit)break;var s={data:e[o],key:o};r.push(s),this.count++}if(this.options.sortFunction){r.sort((function(t,e){return i.options.sortFunction(t.key.toLowerCase(),e.key.toLowerCase(),n.toLowerCase())}))}for(var a=0;a<r.length;a++){var u=r[a],l=t("<li></li>");u.data?l.append('<img src="'+u.data+'" class="right circle"><span>'+u.key+"</span>"):l.append("<span>"+u.key+"</span>"),t(this.container).append(l),this._highlight(n,l)}}},{key:"open",value:function(){var t=this.el.value.toLowerCase();this._resetAutocomplete(),t.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,t)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(t){var e=this.el.value.toLowerCase();this.options.data=t,this.isOpen&&this._renderDropdown(t,e)}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Autocomplete}},{key:"defaults",get:function(){return e}}]),i}(l);n._keydown=!1,M.Autocomplete=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"autocomplete","M_Autocomplete")}(cash),function(t){M.updateTextFields=function(){t("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each((function(e,n){var i=t(this);e.value.length>0||t(e).is(":focus")||e.autofocus||null!==i.attr("placeholder")?i.siblings("label").addClass("active"):e.validity?i.siblings("label").toggleClass("active",!0===e.validity.badInput):i.siblings("label").removeClass("active")}))},M.validate_field=function(t){var e=null!==t.attr("data-length"),n=parseInt(t.attr("data-length")),i=t[0].value.length;0!==i||!1!==t[0].validity.badInput||t.is(":required")?t.hasClass("validate")&&(t.is(":valid")&&e&&i<=n||t.is(":valid")&&!e?(t.removeClass("invalid"),t.addClass("valid")):(t.removeClass("valid"),t.addClass("invalid"))):t.hasClass("validate")&&(t.removeClass("valid"),t.removeClass("invalid"))},M.textareaAutoResize=function(e){if(e instanceof Element&&(e=t(e)),e.length){var n=t(".hiddendiv").first();n.length||(n=t('<div class="hiddendiv common"></div>'),t("body").append(n));var i=e.css("font-family"),r=e.css("font-size"),o=e.css("line-height"),s=e.css("padding-top"),a=e.css("padding-right"),u=e.css("padding-bottom"),l=e.css("padding-left");r&&n.css("font-size",r),i&&n.css("font-family",i),o&&n.css("line-height",o),s&&n.css("padding-top",s),a&&n.css("padding-right",a),u&&n.css("padding-bottom",u),l&&n.css("padding-left",l),e.data("original-height")||e.data("original-height",e.height()),"off"===e.attr("wrap")&&n.css("overflow-wrap","normal").css("white-space","pre"),n.text(e[0].value+"\n");var c=n.html().replace(/\n/g,"<br>");n.html(c),e[0].offsetWidth>0&&e[0].offsetHeight>0?n.css("width",e.width()+"px"):n.css("width",window.innerWidth/2+"px"),e.data("original-height")<=n.innerHeight()?e.css("height",n.innerHeight()+"px"):e[0].value.length<e.data("previous-length")&&e.css("height",e.data("original-height")+"px"),e.data("previous-length",e[0].value.length)}else console.error("No textarea element found")},t(document).ready((function(){var e="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";t(document).on("change",e,(function(){0===this.value.length&&null===t(this).attr("placeholder")||t(this).siblings("label").addClass("active"),M.validate_field(t(this))})),t(document).ready((function(){M.updateTextFields()})),t(document).on("reset",(function(n){var i=t(n.target);i.is("form")&&(i.find(e).removeClass("valid").removeClass("invalid"),i.find(e).each((function(e){this.value.length&&t(this).siblings("label").removeClass("active")})),setTimeout((function(){i.find("select").each((function(){this.M_FormSelect&&t(this).trigger("change")}))}),0))})),document.addEventListener("focus",(function(n){t(n.target).is(e)&&t(n.target).siblings("label, .prefix").addClass("active")}),!0),document.addEventListener("blur",(function(n){var i=t(n.target);if(i.is(e)){var r=".prefix";0===i[0].value.length&&!0!==i[0].validity.badInput&&null===i.attr("placeholder")&&(r+=", label"),i.siblings(r).removeClass("active"),M.validate_field(i)}}),!0);t(document).on("keyup","input[type=radio], input[type=checkbox]",(function(e){if(e.which===M.keys.TAB)return t(this).addClass("tabbed"),void t(this).one("blur",(function(e){t(this).removeClass("tabbed")}))}));t(".materialize-textarea").each((function(){var e=t(this);e.data("original-height",e.height()),e.data("previous-length",this.value.length),M.textareaAutoResize(e)})),t(document).on("keyup",".materialize-textarea",(function(){M.textareaAutoResize(t(this))})),t(document).on("keydown",".materialize-textarea",(function(){M.textareaAutoResize(t(this))})),t(document).on("change",'.file-field input[type="file"]',(function(){for(var e=t(this).closest(".file-field").find("input.file-path"),n=t(this)[0].files,i=[],r=0;r<n.length;r++)i.push(n[r].name);e[0].value=i.join(", "),e.trigger("change")}))}))}(cash),function(t,e){"use strict";var n={indicators:!0,height:400,duration:500,interval:6e3},i=function(i){function l(n,i){u(this,l);var r=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,i));return r.el.M_Slider=r,r.options=t.extend({},l.defaults,i),r.$slider=r.$el.find(".slides"),r.$slides=r.$slider.children("li"),r.activeIndex=r.$slides.filter((function(e){return t(e).hasClass("active")})).first().index(),-1!=r.activeIndex&&(r.$active=r.$slides.eq(r.activeIndex)),r._setSliderHeight(),r.$slides.find(".caption").each((function(t){r._animateCaptionIn(t,0)})),r.$slides.find("img").each((function(e){var n="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";t(e).attr("src")!==n&&(t(e).css("background-image",'url("'+t(e).attr("src")+'")'),t(e).attr("src",n))})),r._setupIndicators(),r.$active?r.$active.css("display","block"):(r.$slides.first().addClass("active"),e({targets:r.$slides.first()[0],opacity:1,duration:r.options.duration,easing:"easeOutQuad"}),r.activeIndex=0,r.$active=r.$slides.eq(r.activeIndex),r.options.indicators&&r.$indicators.eq(r.activeIndex).addClass("active")),r.$active.find("img").each((function(t){e({targets:r.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:r.options.duration,easing:"easeOutQuad"})})),r._setupEventHandlers(),r.start(),r}return a(l,i),o(l,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each((function(e){e.addEventListener("click",t._handleIndicatorClickBound)}))}},{key:"_removeEventHandlers",value:function(){var t=this;this.options.indicators&&this.$indicators.each((function(e){e.removeEventListener("click",t._handleIndicatorClickBound)}))}},{key:"_handleIndicatorClick",value:function(e){var n=t(e.target).index();this.set(n)}},{key:"_handleInterval",value:function(){var t=this.$slider.find(".active").index();this.$slides.length===t+1?t=0:t+=1,this.set(t)}},{key:"_animateCaptionIn",value:function(n,i){var r={targets:n,opacity:0,duration:i,easing:"easeOutQuad"};t(n).hasClass("center-align")?r.translateY=-100:t(n).hasClass("right-align")?r.translateX=100:t(n).hasClass("left-align")&&(r.translateX=-100),e(r)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var e=this;this.options.indicators&&(this.$indicators=t('<ul class="indicators"></ul>'),this.$slides.each((function(n,i){var r=t('<li class="indicator-item"></li>');e.$indicators.append(r[0])})),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(t){var n=this;if(t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.activeIndex!=t){this.$active=this.$slides.eq(this.activeIndex);var i=this.$active.find(".caption");this.$active.removeClass("active"),e({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){n.$slides.not(".active").each((function(t){e({targets:t,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})}))}}),this._animateCaptionIn(i[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(t).addClass("active")),e({targets:this.$slides.eq(t)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),e({targets:this.$slides.eq(t).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(t).addClass("active"),this.activeIndex=t,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var t=this.activeIndex+1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}},{key:"prev",value:function(){var t=this.activeIndex-1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Slider}},{key:"defaults",get:function(){return n}}]),l}(l);M.Slider=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"slider","M_Slider")}(cash,M.anime),function(t,e){t(document).on("click",".card",(function(n){if(t(this).children(".card-reveal").length){var i=t(n.target).closest(".card");void 0===i.data("initialOverflow")&&i.data("initialOverflow",void 0===i.css("overflow")?"":i.css("overflow"));var r=t(this).find(".card-reveal");t(n.target).is(t(".card-reveal .card-title"))||t(n.target).is(t(".card-reveal .card-title i"))?e({targets:r[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(e){var n=e.animatables[0].target;t(n).css({display:"none"}),i.css("overflow",i.data("initialOverflow"))}}):(t(n.target).is(t(".card .activator"))||t(n.target).is(t(".card .activator i")))&&(i.css("overflow","hidden"),r.css({display:"block"}),e({targets:r[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}}))}(cash,M.anime),function(t){"use strict";var e={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Chips=r,r.options=t.extend({},i.defaults,n),r.$el.addClass("chips input-field"),r.chipsData=[],r.$chips=t(),r._setupInput(),r.hasAutocomplete=Object.keys(r.options.autocompleteOptions).length>0,r.$input.attr("id")||r.$input.attr("id",M.guid()),r.options.data.length&&(r.chipsData=r.options.data,r._renderChips(r.chipsData)),r.hasAutocomplete&&r._setupAutocomplete(),r._setPlaceholder(),r._setupLabel(),r._setupEventHandlers(),r}return a(i,n),o(i,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",i._handleChipsKeydown),document.addEventListener("keyup",i._handleChipsKeyup),this.el.addEventListener("blur",i._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",i._handleChipsKeydown),document.removeEventListener("keyup",i._handleChipsKeyup),this.el.removeEventListener("blur",i._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(e){var n=t(e.target).closest(".chip"),i=t(e.target).is(".close");if(n.length){var r=n.index();i?(this.deleteChip(r),this.$input[0].focus()):this.selectChip(r)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(t){if(i._keydown=!0,13===t.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;t.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==t.keyCode&&37!==t.keyCode||""!==this.$input[0].value||!this.chipsData.length||(t.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(e){if(e.tag){var n=document.createElement("div"),i=document.createElement("i");if(n.classList.add("chip"),n.textContent=e.tag,n.setAttribute("tabindex",0),t(i).addClass("material-icons close"),i.textContent="close",e.image){var r=document.createElement("img");r.setAttribute("src",e.image),n.insertBefore(r,n.firstChild)}return n.appendChild(i),n}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var t=0;t<this.chipsData.length;t++){var e=this._renderChip(this.chipsData[t]);this.$el.append(e),this.$chips.add(e)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var t=this;this.options.autocompleteOptions.onAutocomplete=function(e){t.addChip({tag:e}),t.$input[0].value="",t.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=t("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?t(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&t(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(t){if(t.hasOwnProperty("tag")&&""!==t.tag){for(var e=!1,n=0;n<this.chipsData.length;n++)if(this.chipsData[n].tag===t.tag){e=!0;break}return!e}return!1}},{key:"addChip",value:function(e){if(this._isValid(e)&&!(this.chipsData.length>=this.options.limit)){var n=this._renderChip(e);this.$chips.add(n),this.chipsData.push(e),t(this.$input).before(n),this._setPlaceholder(),"function"===typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,n)}}},{key:"deleteChip",value:function(e){var n=this.$chips.eq(e);this.$chips.eq(e).remove(),this.$chips=this.$chips.filter((function(e){return t(e).index()>=0})),this.chipsData.splice(e,1),this._setPlaceholder(),"function"===typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,n[0])}},{key:"selectChip",value:function(t){var e=this.$chips.eq(t);this._selectedChip=e,e[0].focus(),"function"===typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,e[0])}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Chips}},{key:"_handleChipsKeydown",value:function(e){i._keydown=!0;var n=t(e.target).closest(".chips"),r=e.target&&n.length;if(!t(e.target).is("input, textarea")&&r){var o=n[0].M_Chips;if(8===e.keyCode||46===e.keyCode){e.preventDefault();var s=o.chipsData.length;if(o._selectedChip){var a=o._selectedChip.index();o.deleteChip(a),o._selectedChip=null,s=Math.max(a-1,0)}o.chipsData.length&&o.selectChip(s)}else if(37===e.keyCode){if(o._selectedChip){var u=o._selectedChip.index()-1;if(u<0)return;o.selectChip(u)}}else if(39===e.keyCode&&o._selectedChip){var l=o._selectedChip.index()+1;l>=o.chipsData.length?o.$input[0].focus():o.selectChip(l)}}}},{key:"_handleChipsKeyup",value:function(t){i._keydown=!1}},{key:"_handleChipsBlur",value:function(e){i._keydown||(t(e.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return e}}]),i}(l);n._keydown=!1,M.Chips=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"chips","M_Chips"),t(document).ready((function(){t(document.body).on("click",".chip .close",(function(){var e=t(this).closest(".chips");e.length&&e[0].M_Chips||t(this).closest(".chip").remove()}))}))}(cash),function(t){"use strict";var e={top:0,bottom:1/0,offset:0,onPositionChange:null},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Pushpin=r,r.options=t.extend({},i.defaults,n),r.originalOffset=r.el.offsetTop,i._pushpins.push(r),r._setupEventHandlers(),r._updatePosition(),r}return a(i,n),o(i,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var t=i._pushpins.indexOf(this);i._pushpins.splice(t,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",i._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",i._updateElements)}},{key:"_updatePosition",value:function(){var t=M.getDocumentScrollTop()+this.options.offset;this.options.top<=t&&this.options.bottom>=t&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"===typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),t<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"===typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),t>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"===typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Pushpin}},{key:"_updateElements",value:function(){for(var t in i._pushpins){i._pushpins[t]._updatePosition()}}},{key:"defaults",get:function(){return e}}]),i}(l);n._pushpins=[],M.Pushpin=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"pushpin","M_Pushpin")}(cash),function(t,e){"use strict";var n={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};t.fn.reverse=[].reverse;var i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return i.el.M_FloatingActionButton=i,i.options=t.extend({},l.defaults,n),i.isOpen=!1,i.$anchor=i.$el.children("a").first(),i.$menu=i.$el.children("ul").first(),i.$floatingBtns=i.$el.find("ul .btn-floating"),i.$floatingBtnsReverse=i.$el.find("ul .btn-floating").reverse(),i.offsetY=0,i.offsetX=0,i.$el.addClass("direction-"+i.options.direction),"top"===i.options.direction?i.offsetY=40:"right"===i.options.direction?i.offsetX=-40:"bottom"===i.options.direction?i.offsetY=-40:i.offsetX=40,i._setupEventHandlers(),i}return a(l,i),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var t=this;this.$el.addClass("active");var n=0;this.$floatingBtnsReverse.each((function(i){e({targets:i,opacity:1,scale:[.4,1],translateY:[t.offsetY,0],translateX:[t.offsetX,0],duration:275,delay:n,easing:"easeInOutQuad"}),n+=40}))}},{key:"_animateOutFAB",value:function(){var t=this;this.$floatingBtnsReverse.each((function(n){e.remove(n),e({targets:n,opacity:0,scale:.4,translateY:t.offsetY,translateX:t.offsetX,duration:175,easing:"easeOutQuad",complete:function(){t.$el.removeClass("active")}})}))}},{key:"_animateInToolbar",value:function(){var e,n=this,i=window.innerWidth,r=window.innerHeight,o=this.el.getBoundingClientRect(),s=t('<div class="fab-backdrop"></div>'),a=this.$anchor.css("background-color");this.$anchor.append(s),this.offsetX=o.left-i/2+o.width/2,this.offsetY=r-o.bottom,e=i/s[0].clientWidth,this.btnBottom=o.bottom,this.btnLeft=o.left,this.btnWidth=o.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),s.css({"background-color":a}),setTimeout((function(){n.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),n.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout((function(){n.$el.css({overflow:"hidden","background-color":a}),s.css({transform:"scale("+e+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),n.$menu.children("li").children("a").css({opacity:1}),n._handleDocumentClickBound=n._handleDocumentClick.bind(n),window.addEventListener("scroll",n._handleCloseBound,!0),document.body.addEventListener("click",n._handleDocumentClickBound,!0)}),100)}),0)}},{key:"_animateOutToolbar",value:function(){var t=this,e=window.innerWidth,n=window.innerHeight,i=this.$el.find(".fab-backdrop"),r=this.$anchor.css("background-color");this.offsetX=this.btnLeft-e/2+this.btnWidth/2,this.offsetY=n-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),i.css({transform:"scale(0)","background-color":r}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout((function(){i.remove(),t.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-t.offsetX+"px,0,0)"}),t.$anchor.css({overflow:"",transform:"translate3d(0,"+t.offsetY+"px,0)"}),setTimeout((function(){t.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),t.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})}),20)}),200)}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FloatingActionButton}},{key:"defaults",get:function(){return n}}]),l}(l);M.FloatingActionButton=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(t){"use strict";var e={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"\u2039",nextMonth:"\u203a",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));r.el.M_Datepicker=r,r.options=t.extend({},i.defaults,n),n&&n.hasOwnProperty("i18n")&&"object"===typeof n.i18n&&(r.options.i18n=t.extend({},i.defaults.i18n,n.i18n)),r.options.minDate&&r.options.minDate.setHours(0,0,0,0),r.options.maxDate&&r.options.maxDate.setHours(0,0,0,0),r.id=M.guid(),r._setupVariables(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupEventHandlers(),r.options.defaultDate||(r.options.defaultDate=new Date(Date.parse(r.el.value)));var o=r.options.defaultDate;return i._isDate(o)?r.options.setDefaultDate?(r.setDate(o,!0),r.setInputValue()):r.gotoDate(o):r.gotoDate(new Date),r.isOpen=!1,r}return a(i,n),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var t=this.calendarEl.querySelector(".orig-select-year");t&&M.FormSelect.getInstance(t).destroy();var e=this.calendarEl.querySelector(".orig-select-month");e&&M.FormSelect.getInstance(e).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(t(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){t.isOpen=!1}})}},{key:"toString",value:function(t){var e=this;return t=t||this.options.format,i._isDate(this.date)?t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map((function(t){return e.formats[t]?e.formats[t]():t})).join(""):""}},{key:"setDate",value:function(t,e){if(!t)return this.date=null,this._renderDateDisplay(),this.draw();if("string"===typeof t&&(t=new Date(Date.parse(t))),i._isDate(t)){var n=this.options.minDate,r=this.options.maxDate;i._isDate(n)&&t<n?t=n:i._isDate(r)&&t>r&&(t=r),this.date=new Date(t.getTime()),this._renderDateDisplay(),i._setToStartOfDay(this.date),this.gotoDate(this.date),e||"function"!==typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var t=i._isDate(this.date)?this.date:new Date,e=this.options.i18n,n=e.weekdaysShort[t.getDay()],r=e.monthsShort[t.getMonth()],o=t.getDate();this.yearTextEl.innerHTML=t.getFullYear(),this.dateTextEl.innerHTML=n+", "+r+" "+o}},{key:"gotoDate",value:function(t){var e=!0;if(i._isDate(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=o<n.getTime()||r.getTime()<o}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(t,e,n){var r=this.options,o=new Date,s=i._getDaysInMonth(t,e),a=new Date(t,e,1).getDay(),u=[],l=[];i._setToStartOfDay(o),r.firstDay>0&&(a-=r.firstDay)<0&&(a+=7);for(var c=0===e?11:e-1,h=11===e?0:e+1,d=0===e?t-1:t,f=11===e?t+1:t,p=i._getDaysInMonth(d,c),v=s+a,g=v;g>7;)g-=7;v+=7-g;for(var y=!1,m=0,_=0;m<v;m++){var b=new Date(t,e,m-a+1),w=!!i._isDate(this.date)&&i._compareDates(b,this.date),E=i._compareDates(b,o),k=-1!==r.events.indexOf(b.toDateString()),C=m<a||m>=s+a,T=m-a+1,I=e,S=t,x=r.startRange&&i._compareDates(r.startRange,b),O=r.endRange&&i._compareDates(r.endRange,b),A=r.startRange&&r.endRange&&r.startRange<b&&b<r.endRange;C&&(m<a?(T=p+T,I=c,S=d):(T-=s,I=h,S=f));var D={day:T,month:I,year:S,hasEvent:k,isSelected:w,isToday:E,isDisabled:r.minDate&&b<r.minDate||r.maxDate&&b>r.maxDate||r.disableWeekends&&i._isWeekend(b)||r.disableDayFn&&r.disableDayFn(b),isEmpty:C,isStartRange:x,isEndRange:O,isInRange:A,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths};l.push(this.renderDay(D)),7===++_&&(u.push(this.renderRow(l,r.isRTL,y)),l=[],_=0,y=!1)}return this.renderTable(r,u,n)}},{key:"renderDay",value:function(t){var e=[],n="false";if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month"),e.push("is-selection-disabled")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="datepicker-day-button" type="button" data-year="'+t.year+'" data-month="'+t.month+'" data-day="'+t.day+'">'+t.day+"</button></td>"}},{key:"renderRow",value:function(t,e,n){return'<tr class="datepicker-row'+(n?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"}},{key:"renderTable",value:function(t,e,n){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+n+'">'+this.renderHead(t)+this.renderBody(e)+"</table></div>"}},{key:"renderHead",value:function(t){var e=void 0,n=[];for(e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+this.renderDayName(t,e)+'">'+this.renderDayName(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"}},{key:"renderBody",value:function(t){return"<tbody>"+t.join("")+"</tbody>"}},{key:"renderTitle",value:function(e,n,i,r,o,s){var a,u,l=void 0,c=void 0,h=void 0,d=this.options,f=i===d.minYear,p=i===d.maxYear,v='<div id="'+s+'" class="datepicker-controls" role="heading" aria-live="assertive">',g=!0,y=!0;for(h=[],l=0;l<12;l++)h.push('<option value="'+(i===o?l-n:12+l-n)+'"'+(l===r?' selected="selected"':"")+(f&&l<d.minMonth||p&&l>d.maxMonth?'disabled="disabled"':"")+">"+d.i18n.months[l]+"</option>");for(a='<select class="datepicker-select orig-select-month" tabindex="-1">'+h.join("")+"</select>",t.isArray(d.yearRange)?(l=d.yearRange[0],c=d.yearRange[1]+1):(l=i-d.yearRange,c=1+i+d.yearRange),h=[];l<c&&l<=d.maxYear;l++)l>=d.minYear&&h.push('<option value="'+l+'" '+(l===i?'selected="selected"':"")+">"+l+"</option>");u='<select class="datepicker-select orig-select-year" tabindex="-1">'+h.join("")+"</select>";v+='<button class="month-prev'+(g?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',v+='<div class="selects-container">',d.showMonthAfterYear?v+=u+a:v+=a+u,v+="</div>",f&&(0===r||d.minMonth>=r)&&(g=!1),p&&(11===r||d.maxMonth<=r)&&(y=!1);return(v+='<button class="month-next'+(y?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(t){if(this.isOpen||t){var e,n=this.options,i=n.minYear,r=n.maxYear,o=n.minMonth,s=n.maxMonth,a="";this._y<=i&&(this._y=i,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(s)&&this._m>s&&(this._m=s)),e="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var u=0;u<1;u++)this._renderDateDisplay(),a+=this.renderTitle(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year,e)+this.render(this.calendars[u].year,this.calendars[u].month,e);this.destroySelects(),this.calendarEl.innerHTML=a;var l=this.calendarEl.querySelector(".orig-select-year"),c=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(l,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(c,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),l.addEventListener("change",this._handleYearChange.bind(this)),c.addEventListener("change",this._handleMonthChange.bind(this)),"function"===typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var e=this;this.$modalEl=t(i._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return e.date.getDate()},dd:function(){var t=e.date.getDate();return(t<10?"0":"")+t},ddd:function(){return e.options.i18n.weekdaysShort[e.date.getDay()]},dddd:function(){return e.options.i18n.weekdays[e.date.getDay()]},m:function(){return e.date.getMonth()+1},mm:function(){var t=e.date.getMonth()+1;return(t<10?"0":"")+t},mmm:function(){return e.options.i18n.monthsShort[e.date.getMonth()]},mmmm:function(){return e.options.i18n.months[e.date.getMonth()]},yy:function(){return(""+e.date.getFullYear()).slice(2)},yyyy:function(){return e.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(e){if(this.isOpen){var n=t(e.target);n.hasClass("is-disabled")||(!n.hasClass("datepicker-day-button")||n.hasClass("is-empty")||n.parent().hasClass("is-disabled")?n.closest(".month-prev").length?this.prevMonth():n.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(e.target.getAttribute("data-year"),e.target.getAttribute("data-month"),e.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(t){this.gotoMonth(t.target.value)}},{key:"_handleYearChange",value:function(t){this.gotoYear(t.target.value)}},{key:"gotoMonth",value:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())}},{key:"gotoYear",value:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(t){var e=void 0;t.firedBy!==this&&(e=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),i._isDate(e)&&this.setDate(e))}},{key:"renderDayName",value:function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysAbbrev[e]:t.i18n.weekdays[e]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"===typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"===typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"_isDate",value:function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())}},{key:"_isWeekend",value:function(t){var e=t.getDay();return 0===e||6===e}},{key:"_setToStartOfDay",value:function(t){i._isDate(t)&&t.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(t,e){return[31,i._isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}},{key:"_isLeapYear",value:function(t){return t%4===0&&t%100!==0||t%400===0}},{key:"_compareDates",value:function(t,e){return t.getTime()===e.getTime()}},{key:"_setToStartOfDay",value:function(t){i._isDate(t)&&t.setHours(0,0,0,0)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Datepicker}},{key:"defaults",get:function(){return e}}]),i}(l);n._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"datepicker","M_Datepicker")}(cash),function(t){"use strict";var e={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Timepicker=r,r.options=t.extend({},i.defaults,n),r.id=M.guid(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupVariables(),r._setupEventHandlers(),r._clockSetup(),r._pickerSetup(),r}return a(i,n),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),t(this.spanHours).on("click",this.showView.bind(this,"hours")),t(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(t){t.preventDefault();var e=this.plate.getBoundingClientRect(),n=e.left,r=e.top;this.x0=n+this.options.dialRadius,this.y0=r+this.options.dialRadius,this.moved=!1;var o=i._Pos(t);this.dx=o.x-this.x0,this.dy=o.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(t){t.preventDefault();var e=i._Pos(t),n=e.x-this.x0,r=e.y-this.y0;this.moved=!0,this.setHand(n,r,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(e){var n=this;e.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var r=i._Pos(e),o=r.x-this.x0,s=r.y-this.y0;this.moved&&o===this.dx&&s===this.dy&&this.setHand(o,s),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(t(this.minutesView).addClass("timepicker-dial-out"),setTimeout((function(){n.done()}),this.options.duration/2)),"function"===typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=t(i._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var e=document.querySelector(this.options.container);this.options.container&&e?this.$modalEl.appendTo(e):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"===typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t),t.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var e=t('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&e.css({visibility:""});var n=t('<div class="confirmation-btns"></div>');t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(n).on("click",this.close.bind(this)),t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(n).on("click",this.done.bind(this)),n.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=t('<div class="am-btn">AM</div>'),this.$pmBtn=t('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var t=this.options.dialRadius,e=this.options.tickRadius,n=2*t,r=i._createSVGEl("svg");r.setAttribute("class","timepicker-svg"),r.setAttribute("width",n),r.setAttribute("height",n);var o=i._createSVGEl("g");o.setAttribute("transform","translate("+t+","+t+")");var s=i._createSVGEl("circle");s.setAttribute("class","timepicker-canvas-bearing"),s.setAttribute("cx",0),s.setAttribute("cy",0),s.setAttribute("r",4);var a=i._createSVGEl("line");a.setAttribute("x1",0),a.setAttribute("y1",0);var u=i._createSVGEl("circle");u.setAttribute("class","timepicker-canvas-bg"),u.setAttribute("r",e),o.appendChild(a),o.appendChild(u),o.appendChild(s),r.appendChild(o),this._canvas.appendChild(r),this.hand=a,this.bg=u,this.bearing=s,this.g=o}},{key:"_buildHoursView",value:function(){var e=t('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var n=1;n<13;n+=1){var i=e.clone(),r=n/6*Math.PI,o=this.options.outerRadius;i.css({left:this.options.dialRadius+Math.sin(r)*o-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(r)*o-this.options.tickRadius+"px"}),i.html(0===n?"00":n),this.hoursView.appendChild(i[0])}else for(var s=0;s<24;s+=1){var a=e.clone(),u=s/6*Math.PI,l=s>0&&s<13?this.options.innerRadius:this.options.outerRadius;a.css({left:this.options.dialRadius+Math.sin(u)*l-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(u)*l-this.options.tickRadius+"px"}),a.html(0===s?"00":s),this.hoursView.appendChild(a[0])}}},{key:"_buildMinutesView",value:function(){for(var e=t('<div class="timepicker-tick"></div>'),n=0;n<60;n+=5){var r=e.clone(),o=n/30*Math.PI;r.css({left:this.options.dialRadius+Math.sin(o)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(o)*this.options.outerRadius-this.options.tickRadius+"px"}),r.html(i._addLeadingZero(n)),this.minutesView.appendChild(r[0])}}},{key:"_handleAmPmClick",value:function(e){var n=t(e.target);this.amOrPm=n.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var t=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&"undefined"!==typeof t[1]&&(t[1].toUpperCase().indexOf("AM")>0?this.amOrPm="AM":this.amOrPm="PM",t[1]=t[1].replace("AM","").replace("PM","")),"now"===t[0]){var e=new Date(+new Date+this.options.fromNow);t=[e.getHours(),e.getMinutes()],this.options.twelveHour&&(this.amOrPm=t[0]>=12&&t[0]<24?"PM":"AM")}this.hours=+t[0]||0,this.minutes=+t[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=i._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(e,n){"minutes"===e&&t(this.hoursView).css("visibility");var i="hours"===e,r=i?this.hoursView:this.minutesView,o=i?this.minutesView:this.hoursView;this.currentView=e,t(this.spanHours).toggleClass("text-primary",i),t(this.spanMinutes).toggleClass("text-primary",!i),o.classList.add("timepicker-dial-out"),t(r).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(n),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout((function(){t(o).css("visibility","hidden")}),this.options.duration)}},{key:"resetClock",value:function(e){var n=this.currentView,i=this[n],r="hours"===n,o=i*(Math.PI/(r?6:30)),s=r&&i>0&&i<13?this.options.innerRadius:this.options.outerRadius,a=Math.sin(o)*s,u=-Math.cos(o)*s,l=this;e?(t(this.canvas).addClass("timepicker-canvas-out"),setTimeout((function(){t(l.canvas).removeClass("timepicker-canvas-out"),l.setHand(a,u)}),e)):this.setHand(a,u)}},{key:"setHand",value:function(t,e,n){var r=this,o=Math.atan2(t,-e),s="hours"===this.currentView,a=Math.PI/(s||n?6:30),u=Math.sqrt(t*t+e*e),l=s&&u<(this.options.outerRadius+this.options.innerRadius)/2,c=l?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(c=this.options.outerRadius),o<0&&(o=2*Math.PI+o);var h=Math.round(o/a);o=h*a,this.options.twelveHour?s?0===h&&(h=12):(n&&(h*=5),60===h&&(h=0)):s?(12===h&&(h=0),h=l?0===h?12:h:0===h?0:h+12):(n&&(h*=5),60===h&&(h=0)),this[this.currentView]!==h&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout((function(){r.vibrateTimer=null}),100))),this[this.currentView]=h,s?this.spanHours.innerHTML=h:this.spanMinutes.innerHTML=i._addLeadingZero(h);var d=Math.sin(o)*(c-this.options.tickRadius),f=-Math.cos(o)*(c-this.options.tickRadius),p=Math.sin(o)*c,v=-Math.cos(o)*c;this.hand.setAttribute("x2",d),this.hand.setAttribute("y2",f),this.bg.setAttribute("cx",p),this.bg.setAttribute("cy",v)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(t,e){var n=this.el.value,r=e?"":i._addLeadingZero(this.hours)+":"+i._addLeadingZero(this.minutes);this.time=r,!e&&this.options.twelveHour&&(r=r+" "+this.amOrPm),this.el.value=r,r!==n&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"_addLeadingZero",value:function(t){return(t<10?"0":"")+t}},{key:"_createSVGEl",value:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}},{key:"_Pos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?{x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY}:{x:t.clientX,y:t.clientY}}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Timepicker}},{key:"defaults",get:function(){return e}}]),i}(l);n._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"timepicker","M_Timepicker")}(cash),function(t){"use strict";var e={},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_CharacterCounter=r,r.options=t.extend({},i.defaults,n),r.isInvalid=!1,r.isValidLength=!1,r._setupCounter(),r._setupEventHandlers(),r}return a(i,n),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),t(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){t(this.counterEl).remove()}},{key:"updateCounter",value:function(){var e=+this.$el.attr("data-length"),n=this.el.value.length;this.isValidLength=n<=e;var i=n;e&&(i+="/"+e,this._validateInput()),t(this.counterEl).html(i)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_CharacterCounter}},{key:"defaults",get:function(){return e}}]),i}(l);M.CharacterCounter=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"characterCounter","M_CharacterCounter")}(cash),function(t){"use strict";var e={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Carousel=r,r.options=t.extend({},i.defaults,n),r.hasMultipleSlides=r.$el.find(".carousel-item").length>1,r.showIndicators=r.options.indicators&&r.hasMultipleSlides,r.noWrap=r.options.noWrap||!r.hasMultipleSlides,r.pressed=!1,r.dragged=!1,r.offset=r.target=0,r.images=[],r.itemWidth=r.$el.find(".carousel-item").first().innerWidth(),r.itemHeight=r.$el.find(".carousel-item").first().innerHeight(),r.dim=2*r.itemWidth+r.options.padding||1,r._autoScrollBound=r._autoScroll.bind(r),r._trackBound=r._track.bind(r),r.options.fullWidth&&(r.options.dist=0,r._setCarouselHeight(),r.showIndicators&&r.$el.find(".carousel-fixed-item").addClass("with-indicators")),r.$indicators=t('<ul class="indicators"></ul>'),r.$el.find(".carousel-item").each((function(e,n){if(r.images.push(e),r.showIndicators){var i=t('<li class="indicator-item"></li>');0===n&&i[0].classList.add("active"),r.$indicators.append(i)}})),r.showIndicators&&r.$el.append(r.$indicators),r.count=r.images.length,r.options.numVisible=Math.min(r.count,r.options.numVisible),r.xform="transform",["webkit","Moz","O","ms"].every((function(t){var e=t+"Transform";return"undefined"===typeof document.body.style[e]||(r.xform=e,!1)})),r._setupEventHandlers(),r._scroll(r.offset),r}return a(i,n),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),"undefined"!==typeof window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each((function(e,n){e.addEventListener("click",t._handleIndicatorClickBound)})));var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var t=this;"undefined"!==typeof window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each((function(e,n){e.removeEventListener("click",t._handleIndicatorClickBound)})),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(e){"mousedown"===e.type&&t(e.target).is("img")&&e.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(e),this.referenceY=this._ypos(e),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(t){var e=void 0,n=void 0,i=void 0;if(this.pressed)if(e=this._xpos(t),n=this._ypos(t),i=this.reference-e,Math.abs(this.referenceY-n)<30&&!this.verticalDragged)(i>2||i<-2)&&(this.dragged=!0,this.reference=e,this._scroll(this.offset+i));else{if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(t){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(t.preventDefault(),t.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(e){if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;if(!this.options.fullWidth){var n=t(e.target).closest(".carousel-item").index();0!==this._wrap(this.center)-n&&(e.preventDefault(),e.stopPropagation()),this._cycleTo(n)}}},{key:"_handleIndicatorClick",value:function(e){e.stopPropagation();var n=t(e.target).closest(".indicator-item");n.length&&this._cycleTo(n.index())}},{key:"_handleResize",value:function(t){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(t){var e=this,n=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),i=n.find("img").first();if(i.length)if(i[0].complete){var r=i.height();if(r>0)this.$el.css("height",r+"px");else{var o=i[0].naturalWidth,s=i[0].naturalHeight,a=this.$el.width()/o*s;this.$el.css("height",a+"px")}}else i.one("load",(function(t,n){e.$el.css("height",t.offsetHeight+"px")}));else if(!t){var u=n.height();this.$el.css("height",u+"px")}}},{key:"_xpos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}},{key:"_ypos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}},{key:"_wrap",value:function(t){return t>=this.count?t%this.count:t<0?this._wrap(this.count+t%this.count):t}},{key:"_track",value:function(){var t,e,n,i;e=(t=Date.now())-this.timestamp,this.timestamp=t,n=this.offset-this.frame,this.frame=this.offset,i=1e3*n/(1+e),this.velocity=.8*i+.2*this.velocity}},{key:"_autoScroll",value:function(){var t=void 0,e=void 0;this.amplitude&&(t=Date.now()-this.timestamp,(e=this.amplitude*Math.exp(-t/this.options.duration))>2||e<-2?(this._scroll(this.target-e),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(e){var n=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout((function(){n.$el.removeClass("scrolling")}),this.options.duration);var i,r,o,s,a=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,f=this.center,p=1/this.options.numVisible;if(this.offset="number"===typeof e?e:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),s=-(o=(r=this.offset-this.center*this.dim)<0?1:-1)*r*2/this.dim,i=this.count>>1,this.options.fullWidth?(l="translateX(0)",d=1):(l="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",l+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",d=1-p*s),this.showIndicators){var v=this.center%this.count,g=this.$indicators.find(".indicator-item.active");g.index()!==v&&(g.removeClass("active"),this.$indicators.find(".indicator-item").eq(v)[0].classList.add("active"))}if(!this.noWrap||this.center>=0&&this.center<this.count){u=this.images[this._wrap(this.center)],t(u).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),u.classList.add("active"));var y=l+" translateX("+-r/2+"px) translateX("+o*this.options.shift*s*a+"px) translateZ("+this.options.dist*s+"px)";this._updateItemStyle(u,d,0,y)}for(a=1;a<=i;++a){if(this.options.fullWidth?(c=this.options.dist,h=a===i&&r<0?1-s:1):(c=this.options.dist*(2*a+s*o),h=1-p*(2*a+s*o)),!this.noWrap||this.center+a<this.count){u=this.images[this._wrap(this.center+a)];var m=l+" translateX("+(this.options.shift+(this.dim*a-r)/2)+"px) translateZ("+c+"px)";this._updateItemStyle(u,h,-a,m)}if(this.options.fullWidth?(c=this.options.dist,h=a===i&&r>0?1-s:1):(c=this.options.dist*(2*a-s*o),h=1-p*(2*a-s*o)),!this.noWrap||this.center-a>=0){u=this.images[this._wrap(this.center-a)];var _=l+" translateX("+(-this.options.shift+(-this.dim*a-r)/2)+"px) translateZ("+c+"px)";this._updateItemStyle(u,h,-a,_)}}if(!this.noWrap||this.center>=0&&this.center<this.count){u=this.images[this._wrap(this.center)];var b=l+" translateX("+-r/2+"px) translateX("+o*this.options.shift*s+"px) translateZ("+this.options.dist*s+"px)";this._updateItemStyle(u,d,0,b)}var w=this.$el.find(".carousel-item").eq(this._wrap(this.center));f!==this.center&&"function"===typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,w[0],this.dragged),"function"===typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,w[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(t,e,n,i){t.style[this.xform]=i,t.style.zIndex=n,t.style.opacity=e,t.style.visibility="visible"}},{key:"_cycleTo",value:function(t,e){var n=this.center%this.count-t;this.noWrap||(n<0?Math.abs(n+this.count)<Math.abs(n)&&(n+=this.count):n>0&&Math.abs(n-this.count)<n&&(n-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),n<0?this.target+=this.dim*Math.abs(n):n>0&&(this.target-=this.dim*n),"function"===typeof e&&(this.oneTimeCallback=e),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center+t;if(e>=this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"prev",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center-t;if(e>=this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"set",value:function(t,e){if((void 0===t||isNaN(t))&&(t=0),t>this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t,e)}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Carousel}},{key:"defaults",get:function(){return e}}]),i}(l);M.Carousel=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"carousel","M_Carousel")}(cash),function(t){"use strict";var e={onOpen:void 0,onClose:void 0},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_TapTarget=r,r.options=t.extend({},i.defaults,n),r.isOpen=!1,r.$origin=t("#"+r.$el.attr("data-target")),r._setup(),r._calculatePositioning(),r._setupEventHandlers(),r}return a(i,n),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(t){this.open()}},{key:"_handleOriginClick",value:function(t){this.close()}},{key:"_handleResize",value:function(t){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(".tap-target-wrapper").length||(this.close(),e.preventDefault(),e.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=t(this.wrapper).find(".tap-target-wave")[0],this.originEl=t(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],t(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(t(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var e="fixed"===this.$origin.css("position");if(!e)for(var n=this.$origin.parents(),i=0;i<n.length&&!(e="fixed"==t(n[i]).css("position"));i++);var r=this.$origin.outerWidth(),o=this.$origin.outerHeight(),s=e?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,a=e?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,u=window.innerWidth,l=window.innerHeight,c=u/2,h=l/2,d=a<=c,f=a>c,p=s<=h,v=s>h,g=a>=.25*u&&a<=.75*u,y=this.$el.outerWidth(),m=this.$el.outerHeight(),_=s+o/2-m/2,b=a+r/2-y/2,w=e?"fixed":"absolute",E=g?y:y/2+r,k=m/2,C=p?m/2:0,T=d&&!g?y/2-r:0,I=r,S=v?"bottom":"top",x=2*r,O=x,A=m/2-O/2,D=y/2-x/2,P={};P.top=p?_+"px":"",P.right=f?u-b-y+"px":"",P.bottom=v?l-_-m+"px":"",P.left=d?b+"px":"",P.position=w,t(this.wrapper).css(P),t(this.contentEl).css({width:E+"px",height:k+"px",top:C+"px",right:"0px",bottom:"0px",left:T+"px",padding:I+"px",verticalAlign:S}),t(this.waveEl).css({top:A+"px",left:D+"px",width:x+"px",height:O+"px"})}},{key:"open",value:function(){this.isOpen||("function"===typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"===typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_TapTarget}},{key:"defaults",get:function(){return e}}]),i}(l);M.TapTarget=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tapTarget","M_TapTarget")}(cash),function(t){"use strict";var e={classes:"",dropdownOptions:{}},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.$el.hasClass("browser-default")?s(r):(r.el.M_FormSelect=r,r.options=t.extend({},i.defaults,n),r.isMultiple=r.$el.prop("multiple"),r.el.tabIndex=-1,r._keysSelected={},r._valueDict={},r._setupDropdown(),r._setupEventHandlers(),r)}return a(i,n),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),t(this.dropdownOptions).find("li:not(.optgroup)").each((function(t){t.addEventListener("click",e._handleOptionClickBound)})),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var e=this;t(this.dropdownOptions).find("li:not(.optgroup)").each((function(t){t.removeEventListener("click",e._handleOptionClickBound)})),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(t){this._setValueToInput()}},{key:"_handleOptionClick",value:function(e){e.preventDefault();var n=t(e.target).closest("li")[0],i=n.id;if(!t(n).hasClass("disabled")&&!t(n).hasClass("optgroup")&&i.length){var r=!0;if(this.isMultiple){var o=t(this.dropdownOptions).find("li.disabled.selected");o.length&&(o.removeClass("selected"),o.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(o[0].id)),r=this._toggleEntryFromArray(i)}else t(this.dropdownOptions).find("li").removeClass("selected"),t(n).toggleClass("selected",r);t(this._valueDict[i].el).prop("selected")!==r&&(t(this._valueDict[i].el).prop("selected",r),this.$el.trigger("change"))}e.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var e=this;this.wrapper=document.createElement("div"),t(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(t(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),t(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each((function(n){if(t(n).is("option")){var i=void 0;i=e.isMultiple?e._appendOptionWithIcon(e.$el,n,"multiple"):e._appendOptionWithIcon(e.$el,n),e._addOptionToValueDict(n,i)}else if(t(n).is("optgroup")){var r=t(n).children("option");t(e.dropdownOptions).append(t('<li class="optgroup"><span>'+n.getAttribute("label")+"</span></li>")[0]),r.each((function(t){var n=e._appendOptionWithIcon(e.$el,t,"optgroup-option");e._addOptionToValueDict(t,n)}))}})),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),t(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&t(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var n=t('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(n[0]),!this.el.disabled){var i=t.extend({},this.options.dropdownOptions);i.onOpenEnd=function(n){var i=t(e.dropdownOptions).find(".selected").first();if(e.dropdown.isScrollable&&i.length){var r=i[0].getBoundingClientRect().top-e.dropdownOptions.getBoundingClientRect().top;r-=e.dropdownOptions.clientHeight/2,e.dropdownOptions.scrollTop=r}},this.isMultiple&&(i.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,i)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(t,e){var n=Object.keys(this._valueDict).length,i=this.dropdownOptions.id+n,r={};e.id=i,r.el=t,r.optionEl=e,this._valueDict[i]=r}},{key:"_removeDropdown",value:function(){t(this.wrapper).find(".caret").remove(),t(this.input).remove(),t(this.dropdownOptions).remove(),t(this.wrapper).before(this.$el),t(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(e,n,i){var r=n.disabled?"disabled ":"",o="optgroup-option"===i?"optgroup-option ":"",s=this.isMultiple?'<label><input type="checkbox"'+r+'"/><span>'+n.innerHTML+"</span></label>":n.innerHTML,a=t("<li></li>"),u=t("<span></span>");u.html(s),a.addClass(r+" "+o),a.append(u);var l=n.getAttribute("data-icon");if(l){var c=t('<img alt="" src="'+l+'">');a.prepend(c)}return t(this.dropdownOptions).append(a[0]),a[0]}},{key:"_toggleEntryFromArray",value:function(e){var n=!this._keysSelected.hasOwnProperty(e),i=t(this._valueDict[e].optionEl);return n?this._keysSelected[e]=!0:delete this._keysSelected[e],i.toggleClass("selected",n),i.find('input[type="checkbox"]').prop("checked",n),i.prop("selected",n),n}},{key:"_setValueToInput",value:function(){var e=[];if(this.$el.find("option").each((function(n){if(t(n).prop("selected")){var i=t(n).text();e.push(i)}})),!e.length){var n=this.$el.find("option:disabled").eq(0);n.length&&""===n[0].value&&e.push(n.text())}this.input.value=e.join(", ")}},{key:"_setSelectedStates",value:function(){for(var e in this._keysSelected={},this._valueDict){var n=this._valueDict[e],i=t(n.el).prop("selected");t(n.optionEl).find('input[type="checkbox"]').prop("checked",i),i?(this._activateOption(t(this.dropdownOptions),t(n.optionEl)),this._keysSelected[e]=!0):t(n.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(e,n){n&&(this.isMultiple||e.find("li.selected").removeClass("selected"),t(n).addClass("selected"))}},{key:"getSelectedValues",value:function(){var t=[];for(var e in this._keysSelected)t.push(this._valueDict[e].el.value);return t}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FormSelect}},{key:"defaults",get:function(){return e}}]),i}(l);M.FormSelect=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"formSelect","M_FormSelect")}(cash),function(t,e){"use strict";var n={},i=function(i){function l(e,n){u(this,l);var i=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,e,n));return i.el.M_Range=i,i.options=t.extend({},l.defaults,n),i._mousedown=!1,i._setupThumb(),i._setupEventHandlers(),i}return a(l,i),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){t(this.value).html(this.$el.val()),t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(e){if(t(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),t(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==e.type){var n=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",n+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px"),t(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var n=7+parseInt(this.$el.css("padding-left"))+"px";t(this.thumb).hasClass("active")&&(e.remove(this.thumb),e({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:n,duration:100})),t(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),t(this.thumb).addClass("thumb"),t(this.value).addClass("value"),t(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){t(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var n=-7+parseInt(t(this.thumb).parent().css("padding-left"))+"px";e.remove(this.thumb),e({targets:this.thumb,height:30,width:30,top:-30,marginLeft:n,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var t=this.$el.width()-15,e=parseFloat(this.$el.attr("max"))||100,n=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-n)/(e-n)*t}}],[{key:"init",value:function(t,e){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Range}},{key:"defaults",get:function(){return n}}]),l}(l);M.Range=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"range","M_Range"),i.init(t("input[type=range]"))}(cash,M.anime)}).call(this,n(15))},function(t,e,n){},function(t,e,n){"use strict";n.r(e),n.d(e,"registerInstallations",(function(){return Q}));var i,r=n(2),o=n.n(r),s=n(5),a=n(0),u=n(7),l=n(11),c=((i={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',i["not-registered"]="Firebase Installation is not registered.",i["installation-not-found"]="Firebase Installation not found.",i["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',i["app-offline"]="Could not process request. Application offline.",i["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",i),h=new u.ErrorFactory("installations","Installations",c);function d(t){return t instanceof u.FirebaseError&&t.code.includes("request-failed")}function f(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function p(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function v(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=r.sent(),i=n.error,[2,h.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})]}}))}))}function g(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function y(t,e){var n=e.refreshToken,i=g(t);return i.append("Authorization",function(t){return"FIS_v2 "+t}(n)),i}function m(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function _(t,e){var n=e.fid;return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,i,r,o,s,u;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return e=f(t),i=g(t),r={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.14"},o={method:"POST",headers:i,body:JSON.stringify(r)},[4,m((function(){return fetch(e,o)}))];case 1:return(s=a.sent()).ok?[4,s.json()]:[3,3];case 2:return u=a.sent(),[2,{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:p(u.authToken)}];case 3:return[4,v("Create Installation",s)];case 4:throw a.sent()}}))}))}function b(t){return new Promise((function(e){setTimeout(e,t)}))}var w=/^[cdef][\w-]{21}$/;function E(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(a.__spread)(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return w.test(e)?e:""}catch(i){return""}}function k(t){return t.appName+"!"+t.appId}var C=new Map;function T(t,e){var n=k(t);I(n,e),function(t,e){var n=x();n&&n.postMessage({key:t,fid:e});O()}(n,e)}function I(t,e){var n,i,r=C.get(t);if(r)try{for(var o=Object(a.__values)(r),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}var S=null;function x(){return!S&&"BroadcastChannel"in self&&((S=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){I(t.data.key,t.data.fid)}),S}function O(){0===C.size&&S&&(S.close(),S=null)}var A="firebase-installations-store",D=null;function M(){return D||(D=Object(l.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(A)}}))),D}function P(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return n=k(t),[4,M()];case 1:return i=a.sent(),r=i.transaction(A,"readwrite"),[4,(o=r.objectStore(A)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),s&&s.fid===e.fid||T(t,e.fid),[2,e]}}))}))}function L(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return e=k(t),[4,M()];case 1:return n=r.sent(),[4,(i=n.transaction(A,"readwrite")).objectStore(A).delete(e)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}}))}))}function N(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r,o,s,u;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return n=k(t),[4,M()];case 1:return i=a.sent(),r=i.transaction(A,"readwrite"),[4,(o=r.objectStore(A)).get(n)];case 2:return s=a.sent(),void 0!==(u=e(s))?[3,4]:[4,o.delete(n)];case 3:return a.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:a.sent(),a.label=6;case 6:return[4,r.complete];case 7:return a.sent(),!u||s&&s.fid===u.fid||T(t,u.fid),[2,u]}}))}))}function R(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,N(t,(function(n){var i=function(t){return j(t||{fid:E(),registrationStatus:0})}(n),r=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(h.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,_(t,e)];case 1:return n=r.sent(),[2,P(t,n)];case 2:return d(i=r.sent())&&409===i.serverCode?[4,L(t)]:[3,4];case 3:return r.sent(),[3,6];case 4:return[4,P(t,{fid:e.fid,registrationStatus:0})];case 5:r.sent(),r.label=6;case 6:throw i;case 7:return[2]}}))}))}(t,i);return{installationEntry:i,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:B(t)}:{installationEntry:e}}(t,i);return e=r.registrationPromise,r.installationEntry}))];case 1:return""!==(n=r.sent()).fid?[3,3]:(i={},[4,e]);case 2:return[2,(i.installationEntry=r.sent(),i)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function B(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i,r;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return[4,F(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,b(100)];case 3:return o.sent(),[4,F(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,R(t)];case 6:return n=o.sent(),i=n.installationEntry,(r=n.registrationPromise)?[2,r]:[2,i];case 7:return[2,e]}}))}))}function F(t){return N(t,(function(t){if(!t)throw h.create("installation-not-found");return j(t)}))}function j(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function U(t,e){var n=t.appConfig,i=t.platformLoggerProvider;return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,r,o,s,u,l,c;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return t=function(t,e){var n=e.fid;return f(t)+"/"+n+"/authTokens:generate"}(n,e),r=y(n,e),(o=i.getImmediate({optional:!0}))&&r.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:"w:0.4.14"}},u={method:"POST",headers:r,body:JSON.stringify(s)},[4,m((function(){return fetch(t,u)}))];case 1:return(l=a.sent()).ok?[4,l.json()]:[3,3];case 2:return c=a.sent(),[2,p(c)];case 3:return[4,v("Generate Auth Token",l)];case 4:throw a.sent()}}))}))}function V(t,e){return void 0===e&&(e=!1),Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return[4,N(t.appConfig,(function(i){if(!W(i))throw h.create("not-registered");var r=i.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(r))return i;if(1===r.requestStatus)return n=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,$(t.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,b(100)];case 3:return r.sent(),[4,$(t.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(i=n.authToken).requestStatus?[2,V(t,e)]:[2,i]}}))}))}(t,e),i;if(!navigator.onLine)throw h.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(a.__assign)(Object(a.__assign)({},t),{authToken:e})}(i);return n=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,U(t,e)];case 1:return n=o.sent(),r=Object(a.__assign)(Object(a.__assign)({},e),{authToken:n}),[4,P(t.appConfig,r)];case 2:return o.sent(),[2,n];case 3:return!d(i=o.sent())||401!==i.serverCode&&404!==i.serverCode?[3,5]:[4,L(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return r=Object(a.__assign)(Object(a.__assign)({},e),{authToken:{requestStatus:0}}),[4,P(t.appConfig,r)];case 6:o.sent(),o.label=7;case 7:throw i;case 8:return[2]}}))}))}(t,o),o}))];case 1:return i=o.sent(),n?[4,n]:[3,3];case 2:return r=o.sent(),[3,4];case 3:r=i.authToken,o.label=4;case 4:return[2,r]}}))}))}function $(t){return N(t,(function(t){if(!W(t))throw h.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?Object(a.__assign)(Object(a.__assign)({},t),{authToken:{requestStatus:0}}):t}))}function W(t){return void 0!==t&&2===t.registrationStatus}function H(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,R(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function q(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r,o;return Object(a.__generator)(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return f(t)+"/"+n}(t,e),i=y(t,e),r={method:"DELETE",headers:i},[4,m((function(){return fetch(n,r)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,v("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}function z(t,e){var n=t.appConfig;return function(t,e){x();var n=k(t),i=C.get(n);i||(i=new Set,C.set(n,i)),i.add(e)}(n,e),function(){!function(t,e){var n=k(t),i=C.get(n);i&&(i.delete(e),0===i.size&&C.delete(n),O())}(n,e)}}function K(t){return h.create("missing-app-config-values",{valueName:t})}function Q(t){t.INTERNAL.registerComponent(new s.Component("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw K("App Configuration");if(!t.name)throw K("App Name");try{for(var i=Object(a.__values)(["projectId","apiKey","appId"]),r=i.next();!r.done;r=i.next()){var o=r.value;if(!t.options[o])throw K(o)}}catch(s){e={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,R(t.appConfig)];case 1:return e=r.sent(),n=e.installationEntry,(i=e.registrationPromise)?i.catch(console.error):V(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,H(t.appConfig)];case 1:return n.sent(),[4,V(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,N(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=i.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw h.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw h.create("app-offline");case 3:return[4,q(e,n)];case 4:return i.sent(),[4,L(e)];case 5:i.sent(),i.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return z(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.14")}Q(o.a)},,function(t,e,n){"use strict";(function(t){var i=n(1),r=n.n(i),o=n(8),s=n(16),a=n.n(s),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{};function l(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,i){t=n,e.forEach((function(e){return e(t,i)}))}}}var c=r.a.createContext||function(t,e){var n,r,s="__create-react-context-"+function(){var t="__global_unique_id__";return u[t]=(u[t]||0)+1}()+"__",c=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).emitter=l(e.props.value),e}Object(o.a)(n,t);var i=n.prototype;return i.getChildContext=function(){var t;return(t={})[s]=this.emitter,t},i.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,i=this.props.value,r=t.value;((o=i)===(s=r)?0!==o||1/o===1/s:o!==o&&s!==s)?n=0:(n="function"===typeof e?e(i,r):1073741823,0!==(n|=0)&&this.emitter.set(t.value,n))}var o,s},i.render=function(){return this.props.children},n}(i.Component);c.childContextTypes=((n={})[s]=a.a.object.isRequired,n);var h=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}Object(o.a)(n,e);var i=n.prototype;return i.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},i.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},i.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},i.getValue=function(){return this.context[s]?this.context[s].get():t},i.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(i.Component);return h.contextTypes=((r={})[s]=a.a.object,r),{Provider:c,Consumer:h}};e.a=c}).call(this,n(15))},function(t,e,n){var i=n(42);t.exports=f,t.exports.parse=o,t.exports.compile=function(t,e){return a(o(t,e),e)},t.exports.tokensToFunction=a,t.exports.tokensToRegExp=d;var r=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,i=[],o=0,s=0,a="",c=e&&e.delimiter||"/";null!=(n=r.exec(t));){var h=n[0],d=n[1],f=n.index;if(a+=t.slice(s,f),s=f+h.length,d)a+=d[1];else{var p=t[s],v=n[2],g=n[3],y=n[4],m=n[5],_=n[6],b=n[7];a&&(i.push(a),a="");var w=null!=v&&null!=p&&p!==v,E="+"===_||"*"===_,k="?"===_||"*"===_,C=n[2]||c,T=y||m;i.push({name:g||o++,prefix:v||"",delimiter:C,optional:k,repeat:E,partial:w,asterisk:!!b,pattern:T?l(T):b?".*":"[^"+u(C)+"]+?"})}}return s<t.length&&(a+=t.substr(s)),a&&i.push(a),i}function s(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function a(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"===typeof t[r]&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",h(e)));return function(e,r){for(var o="",a=e||{},u=(r||{}).pretty?s:encodeURIComponent,l=0;l<t.length;l++){var c=t[l];if("string"!==typeof c){var h,d=a[c.name];if(null==d){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(i(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<d.length;f++){if(h=u(d[f]),!n[l].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===f?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?encodeURI(d).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):u(d),!n[l].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');o+=c.prefix+h}}else o+=c}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function c(t,e){return t.keys=e,t}function h(t){return t&&t.sensitive?"":"i"}function d(t,e,n){i(e)||(n=e||n,e=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,s="",a=0;a<t.length;a++){var l=t[a];if("string"===typeof l)s+=u(l);else{var d=u(l.prefix),f="(?:"+l.pattern+")";e.push(l),l.repeat&&(f+="(?:"+d+f+")*"),s+=f=l.optional?l.partial?d+"("+f+")?":"(?:"+d+"("+f+"))?":d+"("+f+")"}}var p=u(n.delimiter||"/"),v=s.slice(-p.length)===p;return r||(s=(v?s.slice(0,-p.length):s)+"(?:"+p+"(?=$))?"),s+=o?"$":r&&v?"":"(?="+p+"|$)",c(new RegExp("^"+s,h(n)),e)}function f(t,e,n){return i(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(t,e)}(t,e):i(t)?function(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(f(t[r],e,n).source);return c(new RegExp("(?:"+i.join("|")+")",h(n)),e)}(t,e,n):function(t,e,n){return d(o(t,n),e,n)}(t,e,n)}},function(t,e,n){"use strict";var i,r=(i=n(2))&&"object"===typeof i&&"default"in i?i.default:i;r.registerVersion("firebase","7.16.0","app"),t.exports=r},function(t,e,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(t,e){for(var n,a,u=s(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))r.call(n,c)&&(u[c]=n[c]);if(i){a=i(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(u[a[h]]=n[a[h]])}}return u}},function(t,e,n){"use strict";t.exports=n(43)},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,l=[],c=!1,h=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&f())}function f(){if(!c){var t=a(d);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(0),o=(i=n(2))&&"object"==typeof i&&"default"in i?i.default:i,s=n(12),a=n(7),u=n(47),l=n(5),c=o.SDK_VERSION,h=new s.Logger("@firebase/firestore");function d(){return h.logLevel}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=s.LogLevel.DEBUG){var i=e.map(v);h.debug.apply(h,r.__spreadArrays(["Firestore ("+c+"): "+t],i))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=s.LogLevel.ERROR){var i=e.map(v);h.error.apply(h,r.__spreadArrays(["Firestore ("+c+"): "+t],i))}}function v(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function g(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw p(e),new Error(e)}function y(t,e){t||g()}function m(t,e){return t}function _(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var b=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=_(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n},t}();function w(t,e){return t<e?-1:t>e?1:0}function E(t,e,n){return t.length===e.length&&t.every((function(t,i){return n(t,e[i])}))}function k(t){return t+"\0"}var C=function(t,e,n,i,r){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=r},T=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.o=function(t){return w(this.projectId,t.projectId)||w(this.database,t.database)},t}();function I(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function S(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var O=function(){function t(t,e){this.h=t,this.u=e,this.l={}}return t.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],s=o[0],a=o[1];if(this.u(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),i=this.l[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(this.u(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e])}else this.l[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.u(n[i][0],t))return 1===n.length?delete this.l[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){S(this.l,(function(e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i],s=o[0],a=o[1];t(s,a)}}))},t.prototype._=function(){return x(this.l)},t}(),A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},D=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return r.__extends(e,t),e}(Error),M=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new D(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new D(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new D(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new D(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.T=function(t){return this.seconds===t.seconds?w(this.nanoseconds,t.nanoseconds):w(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),P=function(){function t(t){this.timestamp=t}return t.I=function(e){return new t(e)},t.min=function(){return new t(new M(0,0))},t.prototype.o=function(t){return this.timestamp.T(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.m=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.A=function(){return this.timestamp},t}(),L=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&g(),void 0===n?n=t.length-e:n>t.length-e&&g(),this.segments=t,this.offset=e,this.R=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.P(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.V(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.g=function(t){return t=void 0===t?1:t,this.V(this.segments,this.offset+t,this.length-t)},t.prototype.p=function(){return this.V(this.segments,this.offset,this.length-1)},t.prototype.v=function(){return this.segments[this.offset]},t.prototype.S=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype._=function(){return 0===this.length},t.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.F=function(){return this.segments.slice(this.offset,this.limit())},t.P=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.V=function(t,n,i){return new e(t,n,i)},e.prototype.N=function(){return this.F().join("/")},e.prototype.toString=function(){return this.N()},e.$=function(t){if(t.indexOf("//")>=0)throw new D(A.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.k=function(){return new e([])},e}(L),R=/^[_a-zA-Z][_a-zA-Z0-9]*$/,B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.V=function(t,n,i){return new e(t,n,i)},e.M=function(t){return R.test(t)},e.prototype.N=function(){return this.F().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.M(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.N()},e.prototype.O=function(){return 1===this.length&&"__name__"===this.get(0)},e.L=function(){return new e(["__name__"])},e.B=function(t){for(var n=[],i="",r=0,o=function(){if(0===i.length)throw new D(A.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},s=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new D(A.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[r+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new D(A.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.k=function(){return new e([])},e}(L),F=function(){function t(t){this.path=t}return t.q=function(e){return new t(N.$(e).g(5))},t.prototype.U=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===N.P(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.P=function(t,e){return N.P(t.path,e.path)},t.W=function(t){return t.length%2==0},t.j=function(e){return new t(new N(e.slice()))},t}();function j(t){return null==t}function U(t){return-0===t&&1/t==-1/0}function V(t){return"number"==typeof t&&Number.isInteger(t)&&!U(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var $=function(t,e,n,i,r,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.K=null};function W(t,e,n,i,r,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),new $(t,e,n,i,r,o,s)}function H(t){var e=m(t);if(null===e.K){var n=e.path.N();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.N()+t.op.toString()+Nt(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.N()+e.dir;var e})).join(","),j(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=bn(e.startAt)),e.endAt&&(n+="|ub:",n+=bn(e.endAt)),e.K=n}return e.K}function q(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Tn(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(r=t.filters[i],o=e.filters[i],!(r instanceof fn&&o instanceof fn&&r.op===o.op&&r.field.isEqual(o.field)&&Dt(r.value,o.value)))return!1;var r,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!En(t.startAt,e.startAt)&&En(t.endAt,e.endAt)}function z(t){return F.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}var K=function(){function t(t){this.G=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.G,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.G)},t.prototype.H=function(){return 2*this.G.length},t.prototype.o=function(t){return w(this.G,t.G)},t.prototype.isEqual=function(t){return this.G===t.G},t}();K.Y=new K("");var Q,G,X=function(){function t(t,e,n,i,r,o,s){void 0===r&&(r=P.min()),void 0===o&&(o=P.min()),void 0===s&&(s=K.Y),this.target=t,this.targetId=e,this.J=n,this.sequenceNumber=i,this.X=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Z=function(e){return new t(this.target,this.targetId,this.J,e,this.X,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.tt=function(e,n){return new t(this.target,this.targetId,this.J,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.et=function(e){return new t(this.target,this.targetId,this.J,this.sequenceNumber,this.X,e,this.resumeToken)},t}(),Y=function(t){this.count=t};function J(t){switch(t){case A.OK:return g();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0;default:return g()}}function Z(t){if(void 0===t)return p("GRPC error has no .code"),A.UNKNOWN;switch(t){case Q.OK:return A.OK;case Q.CANCELLED:return A.CANCELLED;case Q.UNKNOWN:return A.UNKNOWN;case Q.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case Q.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case Q.INTERNAL:return A.INTERNAL;case Q.UNAVAILABLE:return A.UNAVAILABLE;case Q.UNAUTHENTICATED:return A.UNAUTHENTICATED;case Q.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case Q.NOT_FOUND:return A.NOT_FOUND;case Q.ALREADY_EXISTS:return A.ALREADY_EXISTS;case Q.PERMISSION_DENIED:return A.PERMISSION_DENIED;case Q.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case Q.ABORTED:return A.ABORTED;case Q.OUT_OF_RANGE:return A.OUT_OF_RANGE;case Q.UNIMPLEMENTED:return A.UNIMPLEMENTED;case Q.DATA_LOSS:return A.DATA_LOSS;default:return g()}}(G=Q||(Q={}))[G.OK=0]="OK",G[G.CANCELLED=1]="CANCELLED",G[G.UNKNOWN=2]="UNKNOWN",G[G.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G[G.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G[G.NOT_FOUND=5]="NOT_FOUND",G[G.ALREADY_EXISTS=6]="ALREADY_EXISTS",G[G.PERMISSION_DENIED=7]="PERMISSION_DENIED",G[G.UNAUTHENTICATED=16]="UNAUTHENTICATED",G[G.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G[G.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G[G.ABORTED=10]="ABORTED",G[G.OUT_OF_RANGE=11]="OUT_OF_RANGE",G[G.UNIMPLEMENTED=12]="UNIMPLEMENTED",G[G.INTERNAL=13]="INTERNAL",G[G.UNAVAILABLE=14]="UNAVAILABLE",G[G.DATA_LOSS=15]="DATA_LOSS";var tt=function(){function t(t,e){this.P=t,this.root=e||nt.EMPTY}return t.prototype.nt=function(e,n){return new t(this.P,this.root.nt(e,n,this.P).copy(null,null,nt.st,null,null))},t.prototype.remove=function(e){return new t(this.P,this.root.remove(e,this.P).copy(null,null,nt.st,null,null))},t.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var i=this.P(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype._=function(){return this.root._()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.it=function(){return this.root.it()},t.prototype.rt=function(){return this.root.rt()},t.prototype.ot=function(t){return this.root.ot(t)},t.prototype.forEach=function(t){this.ot((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ot((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.at=function(){return new et(this.root,null,this.P,!1)},t.prototype.ut=function(t){return new et(this.root,t,this.P,!1)},t.prototype.ct=function(){return new et(this.root,null,this.P,!0)},t.prototype.lt=function(t){return new et(this.root,t,this.P,!0)},t}(),et=function(){function t(t,e,n,i){this._t=i,this.ft=[];for(var r=1;!t._();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this._t?t.left:t.right;else{if(0===r){this.ft.push(t);break}this.ft.push(t),t=this._t?t.right:t.left}}return t.prototype.dt=function(){var t=this.ft.pop(),e={key:t.key,value:t.value};if(this._t)for(t=t.left;!t._();)this.ft.push(t),t=t.right;else for(t=t.right;!t._();)this.ft.push(t),t=t.left;return e},t.prototype.wt=function(){return this.ft.length>0},t.prototype.Tt=function(){if(0===this.ft.length)return null;var t=this.ft[this.ft.length-1];return{key:t.key,value:t.value}},t}(),nt=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype._=function(){return!1},t.prototype.ot=function(t){return this.left.ot(t)||t(this.key,this.value)||this.right.ot(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left._()?this:this.left.min()},t.prototype.it=function(){return this.min().key},t.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},t.prototype.nt=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.nt(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.nt(t,e,n))).Et()},t.prototype.It=function(){if(this.left._())return t.EMPTY;var e=this;return e.left.At()||e.left.left.At()||(e=e.Rt()),(e=e.copy(null,null,null,e.left.It(),null)).Et()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left._()||r.left.At()||r.left.left.At()||(r=r.Rt()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.At()&&(r=r.Pt()),r.right._()||r.right.At()||r.right.left.At()||(r=r.Vt()),0===n(e,r.key)){if(r.right._())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.It())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.Et()},t.prototype.At=function(){return this.color},t.prototype.Et=function(){var t=this;return t.right.At()&&!t.left.At()&&(t=t.gt()),t.left.At()&&t.left.left.At()&&(t=t.Pt()),t.left.At()&&t.right.At()&&(t=t.yt()),t},t.prototype.Rt=function(){var t=this.yt();return t.right.left.At()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Pt())).gt()).yt()),t},t.prototype.Vt=function(){var t=this.yt();return t.left.left.At()&&(t=(t=t.Pt()).yt()),t},t.prototype.gt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Pt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.yt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.pt=function(){var t=this.bt();return Math.pow(2,t)<=this.size+1},t.prototype.bt=function(){if(this.At()&&this.left.At())throw g();if(this.right.At())throw g();var t=this.left.bt();if(t!==this.right.bt())throw g();return t+(this.At()?0:1)},t}();nt.EMPTY=null,nt.RED=!0,nt.st=!1,nt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw g()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.nt=function(t,e,n){return new nt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype._=function(){return!0},t.prototype.ot=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.it=function(){return null},t.prototype.rt=function(){return null},t.prototype.At=function(){return!1},t.prototype.pt=function(){return!0},t.prototype.bt=function(){return 0},t}());var it=function(){function t(t){this.P=t,this.data=new tt(this.P)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.it()},t.prototype.last=function(){return this.data.rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ot((function(e,n){return t(e),!1}))},t.prototype.vt=function(t,e){for(var n=this.data.ut(t[0]);n.wt();){var i=n.dt();if(this.P(i.key,t[1])>=0)return;e(i.key)}},t.prototype.St=function(t,e){var n;for(n=void 0!==e?this.data.ut(e):this.data.at();n.wt();)if(!t(n.dt().key))return},t.prototype.Dt=function(t){var e=this.data.ut(t);return e.wt()?e.dt().key:null},t.prototype.at=function(){return new rt(this.data.at())},t.prototype.ut=function(t){return new rt(this.data.ut(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).nt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype._=function(){return this.data._()},t.prototype.Ct=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.at(),i=e.data.at();n.wt();){var r=n.dt().key,o=i.dt().key;if(0!==this.P(r,o))return!1}return!0},t.prototype.F=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.P);return n.data=e,n},t}(),rt=function(){function t(t){this.Ft=t}return t.prototype.dt=function(){return this.Ft.dt().key},t.prototype.wt=function(){return this.Ft.wt()},t}(),ot=new tt(F.P);function st(){return ot}function at(){return st()}var ut=new tt(F.P);function lt(){return ut}var ct=new tt(F.P),ht=new it(F.P);function dt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ht,i=0,r=t;i<r.length;i++){var o=r[i];n=n.add(o)}return n}var ft=new it(w);function pt(){return ft}var vt=function(){function t(t){this.P=t?function(e,n){return t(e,n)||F.P(e.key,n.key)}:function(t,e){return F.P(t.key,e.key)},this.Nt=lt(),this.$t=new tt(this.P)}return t.kt=function(e){return new t(e.P)},t.prototype.has=function(t){return null!=this.Nt.get(t)},t.prototype.get=function(t){return this.Nt.get(t)},t.prototype.first=function(){return this.$t.it()},t.prototype.last=function(){return this.$t.rt()},t.prototype._=function(){return this.$t._()},t.prototype.indexOf=function(t){var e=this.Nt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.$t.ot((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Nt.nt(t.key,t),e.$t.nt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Nt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.at(),i=e.$t.at();n.wt();){var r=n.dt().key,o=i.dt().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.P=this.P,i.Nt=e,i.$t=n,i},t}(),gt=function(){function t(){this.xt=new tt(F.P)}return t.prototype.track=function(t){var e=t.doc.key,n=this.xt.get(e);n?0!==t.type&&3===n.type?this.xt=this.xt.nt(e,t):3===t.type&&1!==n.type?this.xt=this.xt.nt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.xt=this.xt.nt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.xt=this.xt.nt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.xt=this.xt.remove(e):1===t.type&&2===n.type?this.xt=this.xt.nt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.xt=this.xt.nt(e,{type:2,doc:t.doc}):g():this.xt=this.xt.nt(e,t)},t.prototype.Mt=function(){var t=[];return this.xt.ot((function(e,n){t.push(n)})),t},t}(),yt=function(){function t(t,e,n,i,r,o,s,a){this.query=t,this.docs=e,this.Ot=n,this.docChanges=i,this.Lt=r,this.fromCache=o,this.Bt=s,this.qt=a}return t.Ut=function(e,n,i,r){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,vt.kt(n),o,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Lt._()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Bt===t.Bt&&this.Lt.isEqual(t.Lt)&&un(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ot.isEqual(t.Ot)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),mt=function(){function t(t,e,n,i,r){this.X=t,this.Qt=e,this.Wt=n,this.jt=i,this.Kt=r}return t.Gt=function(e,n){var i=new Map;return i.set(e,_t.zt(e,n)),new t(P.min(),i,pt(),st(),dt())},t}(),_t=function(){function t(t,e,n,i,r){this.resumeToken=t,this.Ht=e,this.Yt=n,this.Jt=i,this.Xt=r}return t.zt=function(e,n){return new t(K.Y,n,dt(),dt(),dt())},t}(),bt=function(t,e,n,i){this.Zt=t,this.removedTargetIds=e,this.key=n,this.te=i},wt=function(t,e){this.targetId=t,this.ee=e},Et=function(t,e,n,i){void 0===n&&(n=K.Y),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},kt=function(){function t(){this.ne=0,this.se=It(),this.ie=K.Y,this.re=!1,this.oe=!0}return Object.defineProperty(t.prototype,"Ht",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"he",{get:function(){return 0!==this.ne},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ae",{get:function(){return this.oe},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){t.H()>0&&(this.oe=!0,this.ie=t)},t.prototype.ce=function(){var t=dt(),e=dt(),n=dt();return this.se.forEach((function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:g()}})),new _t(this.ie,this.re,t,e,n)},t.prototype.le=function(){this.oe=!1,this.se=It()},t.prototype._e=function(t,e){this.oe=!0,this.se=this.se.nt(t,e)},t.prototype.fe=function(t){this.oe=!0,this.se=this.se.remove(t)},t.prototype.de=function(){this.ne+=1},t.prototype.we=function(){this.ne-=1},t.prototype.Te=function(){this.oe=!0,this.re=!0},t}(),Ct=function(){function t(t){this.Ee=t,this.Ie=new Map,this.me=st(),this.Ae=Tt(),this.Re=new it(w)}return t.prototype.Pe=function(t){for(var e=0,n=t.Zt;e<n.length;e++){var i=n[e];t.te instanceof rn?this.Ve(i,t.te):t.te instanceof on&&this.ge(i,t.key,t.te)}for(var r=0,o=t.removedTargetIds;r<o.length;r++){var s=o[r];this.ge(s,t.key,t.te)}},t.prototype.ye=function(t){var e=this;this.pe(t,(function(n){var i=e.be(n);switch(t.state){case 0:e.ve(n)&&i.ue(t.resumeToken);break;case 1:i.we(),i.he||i.le(),i.ue(t.resumeToken);break;case 2:i.we(),i.he||e.removeTarget(n);break;case 3:e.ve(n)&&(i.Te(),i.ue(t.resumeToken));break;case 4:e.ve(n)&&(e.Se(n),i.ue(t.resumeToken));break;default:g()}}))},t.prototype.pe=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ie.forEach((function(t,i){n.ve(i)&&e(i)}))},t.prototype.De=function(t){var e=t.targetId,n=t.ee.count,i=this.Ce(e);if(i){var r=i.target;if(z(r))if(0===n){var o=new F(r.path);this.ge(e,o,new on(o,P.min()))}else y(1===n);else this.Fe(e)!==n&&(this.Se(e),this.Re=this.Re.add(e))}},t.prototype.Ne=function(t){var e=this,n=new Map;this.Ie.forEach((function(i,r){var o=e.Ce(r);if(o){if(i.Ht&&z(o.target)){var s=new F(o.target.path);null!==e.me.get(s)||e.$e(r,s)||e.ge(r,s,new on(s,t))}i.ae&&(n.set(r,i.ce()),i.le())}}));var i=dt();this.Ae.forEach((function(t,n){var r=!0;n.St((function(t){var n=e.Ce(t);return!n||2===n.J||(r=!1,!1)})),r&&(i=i.add(t))}));var r=new mt(t,n,this.Re,this.me,i);return this.me=st(),this.Ae=Tt(),this.Re=new it(w),r},t.prototype.Ve=function(t,e){if(this.ve(t)){var n=this.$e(t,e.key)?2:0;this.be(t)._e(e.key,n),this.me=this.me.nt(e.key,e),this.Ae=this.Ae.nt(e.key,this.ke(e.key).add(t))}},t.prototype.ge=function(t,e,n){if(this.ve(t)){var i=this.be(t);this.$e(t,e)?i._e(e,1):i.fe(e),this.Ae=this.Ae.nt(e,this.ke(e).delete(t)),n&&(this.me=this.me.nt(e,n))}},t.prototype.removeTarget=function(t){this.Ie.delete(t)},t.prototype.Fe=function(t){var e=this.be(t).ce();return this.Ee.xe(t).size+e.Yt.size-e.Xt.size},t.prototype.de=function(t){this.be(t).de()},t.prototype.be=function(t){var e=this.Ie.get(t);return e||(e=new kt,this.Ie.set(t,e)),e},t.prototype.ke=function(t){var e=this.Ae.get(t);return e||(e=new it(w),this.Ae=this.Ae.nt(t,e)),e},t.prototype.ve=function(t){var e=null!==this.Ce(t);return e||f("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ce=function(t){var e=this.Ie.get(t);return e&&e.he?null:this.Ee.Me(t)},t.prototype.Se=function(t){var e=this;this.Ie.set(t,new kt),this.Ee.xe(t).forEach((function(n){e.ge(t,n,null)}))},t.prototype.$e=function(t,e){return this.Ee.xe(t).has(e)},t}();function Tt(){return new tt(F.P)}function It(){return new tt(F.P)}function St(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xt(t){var e=Rt(t.mapValue.fields.__local_write_time__.timestampValue);return new M(e.seconds,e.nanos)}var Ot=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function At(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?St(t)?4:10:g()}function Dt(t,e){var n=At(t);if(n!==At(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xt(t).isEqual(xt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Rt(t.timestampValue),i=Rt(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ft(t.bytesValue).isEqual(Ft(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Bt(t.geoPointValue.latitude)===Bt(e.geoPointValue.latitude)&&Bt(t.geoPointValue.longitude)===Bt(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Bt(t.integerValue)===Bt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Bt(t.doubleValue),i=Bt(e.doubleValue);return n===i?U(n)===U(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return E(t.arrayValue.values||[],e.arrayValue.values||[],Dt);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(I(n)!==I(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Dt(n[r],i[r])))return!1;return!0}(t,e);default:return g()}}function Mt(t,e){return void 0!==(t.values||[]).find((function(t){return Dt(t,e)}))}function Pt(t,e){var n=At(t),i=At(e);if(n!==i)return w(n,i);switch(n){case 0:return 0;case 1:return w(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Bt(t.integerValue||t.doubleValue),i=Bt(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Lt(t.timestampValue,e.timestampValue);case 4:return Lt(xt(t),xt(e));case 5:return w(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ft(t),i=Ft(e);return n.o(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var o=w(n[r],i[r]);if(0!==o)return o}return w(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=w(Bt(t.latitude),Bt(e.latitude));return 0!==n?n:w(Bt(t.longitude),Bt(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var o=Pt(n[r],i[r]);if(o)return o}return w(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(var s=0;s<i.length&&s<o.length;++s){var a=w(i[s],o[s]);if(0!==a)return a;var u=Pt(n[i[s]],r[o[s]]);if(0!==u)return u}return w(i.length,o.length)}(t.mapValue,e.mapValue);default:throw g()}}function Lt(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return w(t,e);var n=Rt(t),i=Rt(e),r=w(n.seconds,i.seconds);return 0!==r?r:w(n.nanos,i.nanos)}function Nt(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Rt(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ft(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,F.q(i).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",i=!0,r=0,o=e.values||[];r<o.length;r++){var s=o[r];i?i=!1:n+=",",n+=t(s)}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",i=!0,r=0,o=Object.keys(e.fields||{}).sort();r<o.length;r++){var s=o[r];i?i=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):g();var n,i}(t)}function Rt(t){if(y(!!t),"string"==typeof t){var e=0,n=Ot.exec(t);if(y(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ft(t){return"string"==typeof t?K.fromBase64String(t):K.fromUint8Array(t)}function jt(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.N()}}function Ut(t){return!!t&&"integerValue"in t}function Vt(t){return!!t&&"arrayValue"in t}function $t(t){return!!t&&"nullValue"in t}function Wt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ht(t){return!!t&&"mapValue"in t}var qt={asc:"ASCENDING",desc:"DESCENDING"},zt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kt=function(t,e){this.s=t,this.Oe=e};function Qt(t){return{integerValue:""+t}}function Gt(t,e){if(t.Oe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:U(e)?"-0":e}}function Xt(t,e){return V(e)?Qt(e):Gt(t,e)}function Yt(t,e){return t.Oe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jt(t,e){return t.Oe?e.toBase64():e.toUint8Array()}function Zt(t,e){return Yt(t,e.A())}function te(t){return y(!!t),P.I(function(t){var e=Rt(t);return new M(e.seconds,e.nanos)}(t))}function ee(t,e){return function(t){return new N(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).N()}function ne(t){var e=N.$(t);return y(we(e)),e}function ie(t,e){return ee(t.s,e.path)}function re(t,e){var n=ne(e);return y(n.get(1)===t.s.projectId),y(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new F(ue(n))}function oe(t,e){return ee(t.s,e)}function se(t){var e=ne(t);return 4===e.length?N.k():ue(e)}function ae(t){return new N(["projects",t.s.projectId,"databases",t.s.database]).N()}function ue(t){return y(t.length>4&&"documents"===t.get(4)),t.g(5)}function le(t,e,n){return{name:ie(t,e),fields:n.proto.mapValue.fields}}function ce(t,e){var n;if(e instanceof qe)n={update:le(t,e.key,e.value)};else if(e instanceof Ye)n={delete:ie(t,e.key)};else if(e instanceof ze)n={update:le(t,e.key,e.data),updateMask:be(e.Le)};else if(e instanceof Qe)n={transform:{document:ie(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ie)return{fieldPath:e.field.N(),setToServerValue:"REQUEST_TIME"};if(n instanceof Se)return{fieldPath:e.field.N(),appendMissingElements:{values:n.elements}};if(n instanceof Oe)return{fieldPath:e.field.N(),removeAllFromArray:{values:n.elements}};if(n instanceof De)return{fieldPath:e.field.N(),increment:n.Be};throw g()}(0,t)}))}};else{if(!(e instanceof Je))return g();n={verify:ie(t,e.key)}}return e.Ue.qe||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Zt(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:g()}(t,e.Ue)),n}function he(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Be.updateTime(te(t.updateTime)):void 0!==t.exists?Be.exists(t.exists):Be.Qe()}(e.currentDocument):Be.Qe();if(e.update){e.update.name;var i=re(t,e.update.name),r=new Ze({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new Le(e.map((function(t){return B.B(t)})))}(e.updateMask);return new ze(i,r,o,n)}return new qe(i,r,n)}if(e.delete){var s=re(t,e.delete);return new Ye(s,n)}if(e.transform){var a=re(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)y("REQUEST_TIME"===e.setToServerValue),n=new Ie;else if("appendMissingElements"in e){var i=e.appendMissingElements.values||[];n=new Se(i)}else if("removeAllFromArray"in e){var r=e.removeAllFromArray.values||[];n=new Oe(r)}else"increment"in e?n=new De(t,e.increment):g();var o=B.B(e.fieldPath);return new Ne(o,n)}(t,e)}));return y(!0===n.exists),new Qe(a,u)}if(e.verify){var l=re(t,e.verify);return new Je(l,n)}return g()}function de(t,e){return{documents:[oe(t,e.path)]}}function fe(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=oe(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=oe(t,i.p()),n.structuredQuery.from=[{collectionId:i.S()}]);var r=function(t){if(0!==t.length){var e=t.map((function(t){return t instanceof fn?function(t){if("=="===t.op){if(Wt(t.value))return{unaryFilter:{field:ge(t.field),op:"IS_NAN"}};if($t(t.value))return{unaryFilter:{field:ge(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:ge(t.field),op:(e=t.op,zt[e]),value:t.value}};var e}(t):g()}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(n.structuredQuery.where=r);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:ge((e=t).field),direction:(n=e.dir,qt[n])};var e,n}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Oe||j(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=pe(e.startAt)),e.endAt&&(n.structuredQuery.endAt=pe(e.endAt)),n}function pe(t){return{before:t.before,values:t.position}}function ve(t){var e=!!t.before,n=t.values||[];return new _n(n,e)}function ge(t){return{fieldPath:t.N()}}function ye(t){return B.B(t.fieldPath)}function me(t){return fn.create(ye(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return g()}}(t.fieldFilter.op),t.fieldFilter.value)}function _e(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ye(t.unaryFilter.field);return fn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ye(t.unaryFilter.field);return fn.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return g()}}function be(t){var e=[];return t.fields.forEach((function(t){return e.push(t.N())})),{fieldPaths:e}}function we(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ee=function(){this.je=void 0};function ke(t,e,n){return t instanceof Ie?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Se?xe(t,e):t instanceof Oe?Ae(t,e):function(t,e){var n=Te(t,e),i=Me(n)+Me(t.Be);return Ut(n)&&Ut(t.Be)?Qt(i):Gt(t.serializer,i)}(t,e)}function Ce(t,e,n){return t instanceof Se?xe(t,e):t instanceof Oe?Ae(t,e):n}function Te(t,e){return t instanceof De?Ut(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(Ee),Se=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ee);function xe(t,e){for(var n=Pe(e),i=function(t){n.some((function(e){return Dt(e,t)}))||n.push(t)},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var Oe=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ee);function Ae(t,e){for(var n=Pe(e),i=function(t){n=n.filter((function(e){return!Dt(e,t)}))},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var De=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).serializer=e,i.Be=n,i}return r.__extends(e,t),e}(Ee);function Me(t){return Bt(t.integerValue||t.doubleValue)}function Pe(t){return Vt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Le=function(){function t(t){this.fields=t,t.sort(B.P)}return t.prototype.Ke=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},t.prototype.isEqual=function(t){return E(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Ne=function(t,e){this.field=t,this.transform=e},Re=function(t,e){this.version=t,this.transformResults=e},Be=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Qe=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"qe",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Fe(t,e){return void 0!==t.updateTime?e instanceof rn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof rn}var je=function(){};function Ue(t,e,n){return t instanceof qe?function(t,e,n){return new rn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof ze?function(t,e,n){if(!Fe(t.Ue,e))return new sn(t.key,n.version);var i=Ke(t,e);return new rn(t.key,n.version,i,{hasCommittedMutations:!0})}(t,e,n):t instanceof Qe?function(t,e,n){if(y(null!=n.transformResults),!Fe(t.Ue,e))return new sn(t.key,n.version);var i=Ge(t,e),r=function(t,e,n){var i=[];y(t.length===n.length);for(var r=0;r<n.length;r++){var o=t[r],s=o.transform,a=null;e instanceof rn&&(a=e.field(o.field)),i.push(Ce(s,a,n[r]))}return i}(t.fieldTransforms,e,n.transformResults),o=n.version,s=Xe(t,i.data(),r);return new rn(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new on(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ve(t,e,n,i){return t instanceof qe?function(t,e){if(!Fe(t.Ue,e))return e;var n=He(e);return new rn(t.key,n,t.value,{Ge:!0})}(t,e):t instanceof ze?function(t,e){if(!Fe(t.Ue,e))return e;var n=He(e),i=Ke(t,e);return new rn(t.key,n,i,{Ge:!0})}(t,e):t instanceof Qe?function(t,e,n,i){if(!Fe(t.Ue,e))return e;var r=Ge(t,e),o=function(t,e,n,i){for(var r=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,l=null;n instanceof rn&&(l=n.field(a.field)),null===l&&i instanceof rn&&(l=i.field(a.field)),r.push(ke(u,l,e))}return r}(t.fieldTransforms,n,e,i),s=Xe(t,r.data(),o);return new rn(t.key,r.version,s,{Ge:!0})}(t,e,i,n):function(t,e){return Fe(t.Ue,e)?new on(t.key,P.min()):e}(t,e)}function $e(t,e){return t instanceof Qe?function(t,e){for(var n=null,i=0,r=t.fieldTransforms;i<r.length;i++){var o=r[i],s=e instanceof rn?e.field(o.field):void 0,a=Te(o.transform,s||null);null!=a&&(n=null==n?(new tn).set(o.field,a):n.set(o.field,a))}return n?n.ze():null}(t,e):null}function We(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ue.isEqual(e.Ue)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Le.isEqual(e.Le):2!==t.type||E(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Se&&e instanceof Se||t instanceof Oe&&e instanceof Oe?E(t.elements,e.elements,Dt):t instanceof De&&e instanceof De?Dt(t.Be,e.Be):t instanceof Ie&&e instanceof Ie}(t.transform,e.transform)}(t,e)})))}function He(t){return t instanceof rn?t.version:P.min()}var qe=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).key=e,r.value=n,r.Ue=i,r.type=0,r}return r.__extends(e,t),e}(je),ze=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Le=i,o.Ue=r,o.type=1,o}return r.__extends(e,t),e}(je);function Ke(t,e){return function(t,e){var n=new tn(e);return t.Le.fields.forEach((function(e){if(!e._()){var i=t.data.field(e);null!==i?n.set(e,i):n.delete(e)}})),n.ze()}(t,e instanceof rn?e.data():Ze.empty())}var Qe=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.fieldTransforms=n,i.type=2,i.Ue=Be.exists(!0),i}return r.__extends(e,t),e}(je);function Ge(t,e){return e}function Xe(t,e,n){for(var i=new tn(e),r=0;r<t.fieldTransforms.length;r++){var o=t.fieldTransforms[r];i.set(o.field,n[r])}return i.ze()}var Ye=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Ue=n,i.type=3,i}return r.__extends(e,t),e}(je),Je=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Ue=n,i.type=4,i}return r.__extends(e,t),e}(je),Ze=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ht(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},t.prototype.isEqual=function(t){return Dt(this.proto,t.proto)},t}(),tn=function(){function t(t){void 0===t&&(t=Ze.empty()),this.He=t,this.Ye=new Map}return t.prototype.set=function(t,e){return this.Je(t,e),this},t.prototype.delete=function(t){return this.Je(t,null),this},t.prototype.Je=function(t,e){for(var n=this.Ye,i=0;i<t.length-1;++i){var r=t.get(i),o=n.get(r);o instanceof Map?n=o:o&&10===At(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(r,o),n=o):(o=new Map,n.set(r,o),n=o)}n.set(t.S(),e)},t.prototype.ze=function(){var t=this.Xe(B.k(),this.Ye);return null!=t?new Ze(t):this.He},t.prototype.Xe=function(t,e){var n=this,i=!1,r=this.He.field(t),o=Ht(r)?Object.assign({},r.mapValue.fields):{};return e.forEach((function(e,r){if(e instanceof Map){var s=n.Xe(t.child(r),e);null!=s&&(o[r]=s,i=!0)}else null!==e?(o[r]=e,i=!0):o.hasOwnProperty(r)&&(delete o[r],i=!0)})),i?{mapValue:{fields:o}}:null},t}();function en(t){var e=[];return S(t.fields||{},(function(t,n){var i=new B([t]);if(Ht(n)){var r=en(n.mapValue).fields;if(0===r.length)e.push(i);else for(var o=0,s=r;o<s.length;o++){var a=s[o];e.push(i.child(a))}}else e.push(i)})),new Le(e)}var nn=function(t,e){this.key=t,this.version=e},rn=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this,e,n)||this).Ze=i,o.Ge=!!r.Ge,o.hasCommittedMutations=!!r.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.Ze.field(t)},e.prototype.data=function(){return this.Ze},e.prototype.tn=function(){return this.Ze.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ge===t.Ge&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Ze.isEqual(t.Ze)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Ze.toString()+", {hasLocalMutations: "+this.Ge+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ge||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(nn),on=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(nn),sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(nn),an=function(){function t(t,e,n,i,r,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.en=n,this.filters=i,this.limit=r,this.nn=o,this.startAt=s,this.endAt=a,this.sn=null,this.rn=null,this.startAt&&this.on(this.startAt),this.endAt&&this.on(this.endAt)}return t.hn=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.sn){this.sn=[];var t=this.an(),e=this.un();if(null!==t&&null===e)t.O()||this.sn.push(new kn(t)),this.sn.push(new kn(B.L(),"asc"));else{for(var n=!1,i=0,r=this.en;i<r.length;i++){var o=r[i];this.sn.push(o),o.field.O()&&(n=!0)}if(!n){var s=this.en.length>0?this.en[this.en.length-1].dir:"asc";this.sn.push(new kn(B.L(),s))}}}return this.sn},enumerable:!1,configurable:!0}),t.prototype.cn=function(e){var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.en.slice(),n,this.limit,this.nn,this.startAt,this.endAt)},t.prototype.ln=function(e){var n=this.en.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.nn,this.startAt,this.endAt)},t.prototype._n=function(e){return new t(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.fn=function(e){return new t(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.dn=function(e){return new t(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),this.limit,this.nn,e,this.endAt)},t.prototype.wn=function(e){return new t(this.path,this.collectionGroup,this.en.slice(),this.filters.slice(),this.limit,this.nn,this.startAt,e)},t.prototype.Tn=function(e){return new t(e,null,this.en.slice(),this.filters.slice(),this.limit,this.nn,this.startAt,this.endAt)},t.prototype.En=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.en.length||1===this.en.length&&this.en[0].field.O())},t.prototype.In=function(){return!j(this.limit)&&"F"===this.nn},t.prototype.mn=function(){return!j(this.limit)&&"L"===this.nn},t.prototype.un=function(){return this.en.length>0?this.en[0].field:null},t.prototype.an=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof fn&&n.An())return n.field}return null},t.prototype.Rn=function(t){for(var e=0,n=this.filters;e<n.length;e++){var i=n[e];if(i instanceof fn&&t.indexOf(i.op)>=0)return i.op}return null},t.prototype.Pn=function(){return z(this.We())},t.prototype.Vn=function(){return null!==this.collectionGroup},t.prototype.We=function(){if(!this.rn)if("F"===this.nn)this.rn=W(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var i=n[e],r="desc"===i.dir?"asc":"desc";t.push(new kn(i.field,r))}var o=this.endAt?new _n(this.endAt.position,!this.endAt.before):null,s=this.startAt?new _n(this.startAt.position,!this.startAt.before):null;this.rn=W(this.path,this.collectionGroup,t,this.filters,this.limit,o,s)}return this.rn},t.prototype.on=function(t){},t}();function un(t,e){return q(t.We(),e.We())&&t.nn===e.nn}function ln(t){return H(t.We())+"|lt:"+t.nn}function cn(t){return"Query(target="+function(t){var e=t.path.N();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.N()+" "+e.op+" "+Nt(e.value);var e})).join(", ")+"]"),j(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.N()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+bn(t.startAt)),t.endAt&&(e+=", endAt: "+bn(t.endAt)),"Target("+e+")"}(t.We())+"; limitType="+t.nn+")"}function hn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.U(t.collectionGroup)&&t.path.D(n):F.W(t.path)?t.path.isEqual(n):t.path.C(n)}(t,e)&&function(t,e){for(var n=0,i=t.en;n<i.length;n++){var r=i[n];if(!r.field.O()&&null===e.field(r.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,i=t.filters;n<i.length;n++)if(!i[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!wn(t.startAt,t.orderBy,e))&&(!t.endAt||!wn(t.endAt,t.orderBy,e))}(t,e)}function dn(t){return function(e,n){for(var i=!1,r=0,o=t.orderBy;r<o.length;r++){var s=o[r],a=Cn(s,e,n);if(0!==a)return a;i=i||s.field.O()}return 0}}var fn=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return r.__extends(e,t),e.create=function(t,n,i){if(t.O())return"in"===n?new vn(t,i):new pn(t,n,i);if($t(i)){if("=="!==n)throw new D(A.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,i)}if(Wt(i)){if("=="!==n)throw new D(A.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,i)}return"array-contains"===n?new gn(t,i):"in"===n?new yn(t,i):"array-contains-any"===n?new mn(t,i):new e(t,n,i)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&At(this.value)===At(e)&&this.gn(Pt(e,this.value))},e.prototype.gn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return t>0;case">=":return t>=0;default:return g()}},e.prototype.An=function(){return["<","<=",">",">="].indexOf(this.op)>=0},e}((function(){})),pn=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=F.q(i.referenceValue),r}return r.__extends(e,t),e.prototype.matches=function(t){var e=F.P(t.key,this.key);return this.gn(e)},e}(fn),vn=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(t){return F.q(t.referenceValue)})),i}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(fn),gn=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Vt(e)&&Mt(e.arrayValue,this.value)},e}(fn),yn=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Mt(this.value.arrayValue,e)},e}(fn),mn=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Vt(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Mt(e.value.arrayValue,t)}))},e}(fn),_n=function(t,e){this.position=t,this.before=e};function bn(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Nt(t)})).join(",")}function wn(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var o=e[r],s=t.position[r];if(i=o.field.O()?F.P(F.q(s.referenceValue),n.key):Pt(s,n.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function En(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Dt(t.position[n],e.position[n]))return!1;return!0}var kn=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Cn(t,e,n){var i=t.field.O()?F.P(e.key,n.key):function(t,e,n){var i=e.field(t),r=n.field(t);return null!==i&&null!==r?Pt(i,r):g()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return g()}}function Tn(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var In=function(){function t(t,e,n,i){this.batchId=t,this.yn=e,this.baseMutations=n,this.mutations=i}return t.prototype.pn=function(t,e,n){for(var i=n.bn,r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(t)&&(e=Ue(o,e,i[r]))}return e},t.prototype.vn=function(t,e){for(var n=0,i=this.baseMutations;n<i.length;n++){var r=i[n];r.key.isEqual(t)&&(e=Ve(r,e,e,this.yn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Ve(u,e,o,this.yn))}return e},t.prototype.Sn=function(t){var e=this,n=t;return this.mutations.forEach((function(i){var r=e.vn(i.key,t.get(i.key));r&&(n=n.nt(i.key,r))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),dt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&E(this.mutations,t.mutations,(function(t,e){return We(t,e)}))&&E(this.baseMutations,t.baseMutations,(function(t,e){return We(t,e)}))},t}(),Sn=function(){function t(t,e,n,i){this.batch=t,this.Dn=e,this.bn=n,this.Cn=i}return t.from=function(e,n,i){y(e.mutations.length===i.length);for(var r=ct,o=e.mutations,s=0;s<o.length;s++)r=r.nt(o[s].key,i[s].version);return new t(e,n,i,r)},t}(),xn=function(){function t(t){var e=this;this.Fn=null,this.Nn=null,this.result=void 0,this.error=void 0,this.$n=!1,this.kn=!1,t((function(t){e.$n=!0,e.result=t,e.Fn&&e.Fn(t)}),(function(t){e.$n=!0,e.error=t,e.Nn&&e.Nn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.kn&&g(),this.kn=!0,this.$n?this.error?this.xn(n,this.error):this.Mn(e,this.result):new t((function(t,r){i.Fn=function(n){i.Mn(e,n).next(t,r)},i.Nn=function(e){i.xn(n,e).next(t,r)}}))},t.prototype.On=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Mn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.xn=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Bn=function(e){return new t((function(t,n){var i=0,r=0,o=!1;e.forEach((function(e){++i,e.next((function(){++r,o&&r===i&&t()}),(function(t){return n(t)}))})),o=!0,r===i&&t()}))},t.qn=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},r=0,o=e;r<o.length;r++)i(o[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach((function(t,r){i.push(e.call(n,t,r))})),this.Bn(i)},t}(),On=function(){function t(){this.Un=new O((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Qn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Wn},set:function(t){this.Wn=t},enumerable:!1,configurable:!0}),t.prototype.jn=function(t,e){this.Kn(),this.readTime=e,this.Un.set(t.key,t)},t.prototype.Gn=function(t,e){this.Kn(),e&&(this.readTime=e),this.Un.set(t,null)},t.prototype.zn=function(t,e){this.Kn();var n=this.Un.get(e);return void 0!==n?xn.resolve(n):this.Hn(t,e)},t.prototype.getEntries=function(t,e){return this.Yn(t,e)},t.prototype.apply=function(t){return this.Kn(),this.Qn=!0,this.Jn(t)},t.prototype.Kn=function(){},t}(),An="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dn=function(){function t(){this.Xn=[]}return t.prototype.Zn=function(t){this.Xn.push(t)},t.prototype.ts=function(){this.Xn.forEach((function(t){return t()}))},t}(),Mn=function(){function t(t,e,n){this.es=t,this.ns=e,this.ss=n}return t.prototype.rs=function(t,e){var n=this;return this.ns.os(t,e).next((function(i){return n.hs(t,e,i)}))},t.prototype.hs=function(t,e,n){return this.es.zn(t,e).next((function(t){for(var i=0,r=n;i<r.length;i++)t=r[i].vn(e,t);return t}))},t.prototype.as=function(t,e,n){var i=at();return e.forEach((function(t,e){for(var r=0,o=n;r<o.length;r++)e=o[r].vn(t,e);i=i.nt(t,e)})),i},t.prototype.us=function(t,e){var n=this;return this.es.getEntries(t,e).next((function(e){return n.cs(t,e)}))},t.prototype.cs=function(t,e){var n=this;return this.ns.ls(t,e).next((function(i){var r=n.as(t,e,i),o=st();return r.forEach((function(t,e){e||(e=new on(t,P.min())),o=o.nt(t,e)})),o}))},t.prototype._s=function(t,e,n){return e.Pn()?this.fs(t,e.path):e.Vn()?this.ds(t,e,n):this.ws(t,e,n)},t.prototype.fs=function(t,e){return this.rs(t,new F(e)).next((function(t){var e=lt();return t instanceof rn&&(e=e.nt(t.key,t)),e}))},t.prototype.ds=function(t,e,n){var i=this,r=e.collectionGroup,o=lt();return this.ss.Ts(t,r).next((function(s){return xn.forEach(s,(function(s){var a=e.Tn(s.child(r));return i.ws(t,a,n).next((function(t){t.forEach((function(t,e){o=o.nt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.ws=function(t,e,n){var i,r,o=this;return this.es._s(t,e,n).next((function(n){return i=n,o.ns.Es(t,e)})).next((function(e){return r=e,o.Is(t,r,i).next((function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],l=u.key,c=i.get(l),h=Ve(u,c,c,o.yn);i=h instanceof rn?i.nt(l,h):i.remove(l)}}))})).next((function(){return i.forEach((function(t,n){hn(e,n)||(i=i.remove(t))})),i}))},t.prototype.Is=function(t,e,n){for(var i=dt(),r=0,o=e;r<o.length;r++)for(var s=0,a=o[r].mutations;s<a.length;s++){var u=a[s];u instanceof ze&&null===n.get(u.key)&&(i=i.add(u.key))}var l=n;return this.es.getEntries(t,i).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof rn&&(l=l.nt(t,e))})),l}))},t}(),Pn=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.ms=n,this.As=i}return t.Rs=function(e,n){for(var i=dt(),r=dt(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),Ln=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Ps=function(t){return n.Vs(t)},this.gs=function(t){return e.ys(t)})}return t.prototype.Vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.gs&&this.gs(t),t},t}();Ln.ps=-1;var Nn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Rn=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.bs=t,this.vs=e,this.Ss=n,this.Ds=i,this.Cs=r,this.Fs=0,this.Ns=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fs=0},t.prototype.ks=function(){this.Fs=this.Cs},t.prototype.xs=function(t){var e=this;this.cancel();var n=Math.floor(this.Fs+this.Ms()),i=Math.max(0,Date.now()-this.$s),r=Math.max(0,n-i);r>0&&f("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.Fs+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.Ns=this.bs.Os(this.vs,r,(function(){return e.$s=Date.now(),t()})),this.Fs*=this.Ds,this.Fs<this.Ss&&(this.Fs=this.Ss),this.Fs>this.Cs&&(this.Fs=this.Cs)},t.prototype.Ls=function(){null!==this.Ns&&(this.Ns.Bs(),this.Ns=null)},t.prototype.cancel=function(){null!==this.Ns&&(this.Ns.cancel(),this.Ns=null)},t.prototype.Ms=function(){return(Math.random()-.5)*this.Fs},t}();function Bn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=jn(e)),e=Fn(t.get(n),e);return jn(e)}function Fn(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var o=t.charAt(r);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function jn(t){return t+"\x01\x01"}function Un(t){var e=t.length;if(y(e>=2),2===e)return y("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),N.k();for(var n=e-2,i=[],r="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&g(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===r.length?u=a:(u=r+=a,r=""),i.push(u);break;case"\x10":r+=t.substring(o,s),r+="\0";break;case"\x11":r+=t.substring(o,s+1);break;default:g()}o=s+2}return new N(i)}var Vn=function(){function t(){this.qs=new $n}return t.prototype.Us=function(t,e){return this.qs.add(e),xn.resolve()},t.prototype.Ts=function(t,e){return xn.resolve(this.qs.getEntries(e))},t}(),$n=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.S(),n=t.p(),i=this.index[e]||new it(N.P),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.S(),n=t.p(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new it(N.P)).F()},t}(),Wn=function(){function t(){this.Qs=new $n}return t.prototype.Us=function(t,e){var n=this;if(!this.Qs.has(e)){var i=e.S(),r=e.p();t.Zn((function(){n.Qs.add(e)}));var o={collectionId:i,parent:Bn(r)};return Hn(t).put(o)}return xn.resolve()},t.prototype.Ts=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[k(e),""],!1,!0);return Hn(t).Ws(i).next((function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.collectionId!==e)break;n.push(Un(o.parent))}return n}))},t}();function Hn(t){return fi.js(t,Fi.store)}var qn=function(t){this.Ks=t};function zn(t,e){if(e.document)return function(t,e,n){var i=re(t,e.name),r=te(e.updateTime),o=new Ze({mapValue:{fields:e.fields}});return new rn(i,r,o,{hasCommittedMutations:!!n})}(t.Ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=F.j(e.noDocument.path),i=Yn(e.noDocument.readTime);return new on(n,i,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var r=F.j(e.unknownDocument.path),o=Yn(e.unknownDocument.version);return new sn(r,o)}return g()}function Kn(t,e,n){var i=Qn(n),r=e.key.path.p().F();if(e instanceof rn){var o=function(t,e){return{name:ie(t,e.key),fields:e.tn().mapValue.fields,updateTime:Yt(t,e.version.A())}}(t.Ks,e),s=e.hasCommittedMutations;return new Pi(null,null,o,s,i,r)}if(e instanceof on){var a=e.key.path.F(),u=Xn(e.version),l=e.hasCommittedMutations;return new Pi(null,new Di(a,u),null,l,i,r)}if(e instanceof sn){var c=e.key.path.F(),h=Xn(e.version);return new Pi(new Mi(c,h),null,null,!0,i,r)}return g()}function Qn(t){var e=t.A();return[e.seconds,e.nanoseconds]}function Gn(t){var e=new M(t[0],t[1]);return P.I(e)}function Xn(t){var e=t.A();return new Ii(e.seconds,e.nanoseconds)}function Yn(t){var e=new M(t.seconds,t.nanoseconds);return P.I(e)}function Jn(t,e){var n=(e.baseMutations||[]).map((function(e){return he(t.Ks,e)})),i=e.mutations.map((function(e){return he(t.Ks,e)})),r=M.fromMillis(e.localWriteTimeMs);return new In(e.batchId,r,n,i)}function Zn(t){var e,n=Yn(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Yn(t.lastLimboFreeSnapshotVersion):P.min();return e=void 0!==t.query.documents?function(t){y(1===t.documents.length);var e=t.documents[0];return an.hn(se(e)).We()}(t.query):function(t){var e=se(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){y(1===i);var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[_e(e)]:void 0!==e.fieldFilter?[me(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):g():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new kn(ye((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u=null;n.limit&&(u=function(t){var e;return j(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=ve(n.startAt));var c=null;return n.endAt&&(c=ve(n.endAt)),new an(e,r,a,s,u,"F",l,c).We()}(t.query),new X(e,t.targetId,0,t.lastListenSequenceNumber,n,i,K.fromBase64String(t.resumeToken))}function ti(t,e){var n,i=Xn(e.X),r=Xn(e.lastLimboFreeSnapshotVersion);n=z(e.target)?de(t.Ks,e.target):fe(t.Ks,e.target);var o=e.resumeToken.toBase64();return new Ni(e.targetId,H(e.target),i,o,e.sequenceNumber,r,n)}var ei=function(){function t(t,e){this.serializer=t,this.ss=e}return t.prototype.jn=function(t,e,n){return ii(t).put(ri(e),n)},t.prototype.Gn=function(t,e){var n=ii(t),i=ri(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(i){return i.byteSize+=e,n.Gs(t,i)}))},t.prototype.zn=function(t,e){var n=this;return ii(t).get(ri(e)).next((function(t){return n.zs(t)}))},t.prototype.Hs=function(t,e){var n=this;return ii(t).get(ri(e)).next((function(t){var e=n.zs(t);return e?{Ys:e,size:oi(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,i=at();return this.Js(t,e,(function(t,e){var r=n.zs(e);i=i.nt(t,r)})).next((function(){return i}))},t.prototype.Xs=function(t,e){var n=this,i=at(),r=new tt(F.P);return this.Js(t,e,(function(t,e){var o=n.zs(e);o?(i=i.nt(t,o),r=r.nt(t,oi(e))):(i=i.nt(t,null),r=r.nt(t,0))})).next((function(){return{Zs:i,ti:r}}))},t.prototype.Js=function(t,e,n){if(e._())return xn.resolve();var i=IDBKeyRange.bound(e.first().path.F(),e.last().path.F()),r=e.at(),o=r.dt();return ii(t).ei({range:i},(function(t,e,i){for(var s=F.j(t);o&&F.P(o,s)<0;)n(o,null),o=r.dt();o&&o.isEqual(s)&&(n(o,e),o=r.wt()?r.dt():null),o?i.ni(o.path.F()):i.done()})).next((function(){for(;o;)n(o,null),o=r.wt()?r.dt():null}))},t.prototype._s=function(t,e,n){var i=this,r=lt(),o=e.path.length+1,s={};if(n.isEqual(P.min())){var a=e.path.F();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.F(),l=Qn(n);s.range=IDBKeyRange.lowerBound([u,l],!0),s.index=Pi.collectionReadTimeIndex}return ii(t).ei(s,(function(t,n,s){if(t.length===o){var a=zn(i.serializer,n);e.path.D(a.key.path)?a instanceof rn&&hn(e,a)&&(r=r.nt(a.key,a)):s.done()}})).next((function(){return r}))},t.prototype.si=function(t,e){var n=this,i=st(),r=Qn(e),o=ii(t),s=IDBKeyRange.lowerBound(r,!0);return o.ei({index:Pi.readTimeIndex,range:s},(function(t,e){var o=zn(n.serializer,e);i=i.nt(o.key,o),r=e.readTime})).next((function(){return{ii:i,readTime:Gn(r)}}))},t.prototype.ri=function(t){var e=ii(t),n=P.min();return e.ei({index:Pi.readTimeIndex,reverse:!0},(function(t,e,i){e.readTime&&(n=Gn(e.readTime)),i.done()})).next((function(){return n}))},t.prototype.oi=function(e){return new t.hi(this,!!e&&e.ai)},t.prototype.ui=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return ni(t).get(Li.key).next((function(t){return y(!!t),t}))},t.prototype.Gs=function(t,e){return ni(t).put(Li.key,e)},t.prototype.zs=function(t){if(t){var e=zn(this.serializer,t);return e instanceof on&&e.version.isEqual(P.min())?null:e}return null},t}();function ni(t){return fi.js(t,Li.store)}function ii(t){return fi.js(t,Pi.store)}function ri(t){return t.path.F()}function oi(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw g();e=t.noDocument}return JSON.stringify(e).length}ei.hi=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).ci=e,i.ai=n,i.li=new O((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),i}return r.__extends(e,t),e.prototype.Jn=function(t){var e=this,n=[],i=0,r=new it((function(t,e){return w(t.N(),e.N())}));return this.Un.forEach((function(o,s){var a=e.li.get(o);if(s){var u=Kn(e.ci.serializer,s,e.readTime);r=r.add(o.path.p());var l=oi(u);i+=l-a,n.push(e.ci.jn(t,o,u))}else if(i-=a,e.ai){var c=Kn(e.ci.serializer,new on(o,P.min()),e.readTime);n.push(e.ci.jn(t,o,c))}else n.push(e.ci.Gn(t,o))})),r.forEach((function(i){n.push(e.ci.ss.Us(t,i))})),n.push(this.ci.updateMetadata(t,i)),xn.Bn(n)},e.prototype.Hn=function(t,e){var n=this;return this.ci.Hs(t,e).next((function(t){return null===t?(n.li.set(e,0),null):(n.li.set(e,t.size),t.Ys)}))},e.prototype.Yn=function(t,e){var n=this;return this.ci.Xs(t,e).next((function(t){var e=t.Zs;return t.ti.forEach((function(t,e){n.li.set(t,e)})),e}))},e}(On);var si=function(){function t(t){this._i=t}return t.prototype.next=function(){return this._i+=2,this._i},t.fi=function(){return new t(0)},t.di=function(){return new t(-1)},t}(),ai=function(){function t(t,e){this.wi=t,this.serializer=e}return t.prototype.Ti=function(t){var e=this;return this.Ei(t).next((function(n){var i=new si(n.highestTargetId);return n.highestTargetId=i.next(),e.Ii(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.mi=function(t){return this.Ei(t).next((function(t){return P.I(new M(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ai=function(t){return this.Ei(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Ri=function(t,e,n){var i=this;return this.Ei(t).next((function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.A()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.Ii(t,r)}))},t.prototype.Pi=function(t,e){var n=this;return this.Vi(t,e).next((function(){return n.Ei(t).next((function(i){return i.targetCount+=1,n.gi(e,i),n.Ii(t,i)}))}))},t.prototype.yi=function(t,e){return this.Vi(t,e)},t.prototype.pi=function(t,e){var n=this;return this.bi(t,e.targetId).next((function(){return ui(t).delete(e.targetId)})).next((function(){return n.Ei(t)})).next((function(e){return y(e.targetCount>0),e.targetCount-=1,n.Ii(t,e)}))},t.prototype.vi=function(t,e,n){var i=this,r=0,o=[];return ui(t).ei((function(s,a){var u=Zn(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r++,o.push(i.pi(t,u)))})).next((function(){return xn.Bn(o)})).next((function(){return r}))},t.prototype.pe=function(t,e){return ui(t).ei((function(t,n){var i=Zn(n);e(i)}))},t.prototype.Ei=function(t){return li(t).get(Bi.key).next((function(t){return y(null!==t),t}))},t.prototype.Ii=function(t,e){return li(t).put(Bi.key,e)},t.prototype.Vi=function(t,e){return ui(t).put(ti(this.serializer,e))},t.prototype.gi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Si=function(t){return this.Ei(t).next((function(t){return t.targetCount}))},t.prototype.Di=function(t,e){var n=H(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return ui(t).ei({range:i,index:Ni.queryTargetsIndexName},(function(t,n,i){var o=Zn(n);q(e,o.target)&&(r=o,i.done())})).next((function(){return r}))},t.prototype.Ci=function(t,e,n){var i=this,r=[],o=ci(t);return e.forEach((function(e){var s=Bn(e.path);r.push(o.put(new Ri(n,s))),r.push(i.wi.Fi(t,n,e))})),xn.Bn(r)},t.prototype.Ni=function(t,e,n){var i=this,r=ci(t);return xn.forEach(e,(function(e){var o=Bn(e.path);return xn.Bn([r.delete([n,o]),i.wi.$i(t,n,e)])}))},t.prototype.bi=function(t,e){var n=ci(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.ki=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=ci(t),r=dt();return i.ei({range:n,xi:!0},(function(t,e,n){var i=Un(t[1]),o=new F(i);r=r.add(o)})).next((function(){return r}))},t.prototype.Mi=function(t,e){var n=Bn(e.path),i=IDBKeyRange.bound([n],[k(n)],!1,!0),r=0;return ci(t).ei({index:Ri.documentTargetsIndex,xi:!0,range:i},(function(t,e,n){var i=t[0];t[1],0!==i&&(r++,n.done())})).next((function(){return r>0}))},t.prototype.Me=function(t,e){return ui(t).get(e).next((function(t){return t?Zn(t):null}))},t}();function ui(t){return fi.js(t,Ni.store)}function li(t){return fi.js(t,Bi.store)}function ci(t){return fi.js(t,Ri.store)}var hi="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",di=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Oi=e,i.Li=n,i}return r.__extends(e,t),e}(Dn),fi=function(){function t(e,n,i,r,o,s,a,u,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.bs=o,this.window=s,this.document=a,this.Bi=l,this.qi=c,this.Ui=null,this.Qi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Wi=null,this.inForeground=!1,this.ji=null,this.Ki=null,this.Gi=Number.NEGATIVE_INFINITY,this.zi=function(t){return Promise.resolve()},!t.Hi())throw new D(A.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.wi=new gi(this,r),this.Yi=n+t.Ji,this.serializer=new qn(u),this.Xi=new ai(this.wi,this.serializer),this.ss=new Wn,this.es=new ei(this.serializer,this.ss),this.window&&this.window.localStorage?this.Zi=this.window.localStorage:(this.Zi=null,!1===c&&p("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.js=function(t,e){if(t instanceof di)return $i.js(t.Oi,e);throw g()},t.prototype.start=function(){var t=this;return $i.tr(this.Yi,Ci,new Ti(this.serializer)).then((function(e){return t.er=e,t.nr()})).then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new D(A.FAILED_PRECONDITION,hi);return t.sr(),t.ir(),t.rr(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Xi.Ai(e)}))})).then((function(e){t.Ui=new Ln(e,t.Bi)})).then((function(){t.Qi=!0})).catch((function(e){return t.er&&t.er.close(),Promise.reject(e)}))},t.prototype.or=function(t){var e=this;return this.zi=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.hr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.ar=function(t){var e=this;this.er.ur((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.cr=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.bs.lr((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.hr?[4,this.nr()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.nr=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return vi(e).put(new Ui(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t._r(e).next((function(e){e||(t.isPrimary=!1,t.bs.dr((function(){return t.zi(!1)})))}))})).next((function(){return t.wr(e)})).next((function(n){return t.isPrimary&&!n?t.Tr(e).next((function(){return!1})):!!n&&t.Er(e).next((function(){return!0}))}))})).catch((function(e){if(qi(e))return f("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.bs.dr((function(){return t.zi(e)})),t.isPrimary=e}))},t.prototype._r=function(t){var e=this;return pi(t).get(Si.key).next((function(t){return xn.resolve(e.Ir(t))}))},t.prototype.mr=function(t){return vi(t).delete(this.clientId)},t.prototype.Ar=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.Rr(this.Gi,18e5)?[3,2]:(this.Gi=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.js(e,Ui.store);return n.Ws().next((function(t){var e=s.Pr(t,18e5),i=t.filter((function(t){return-1===e.indexOf(t)}));return xn.forEach(i,(function(t){return n.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Zi)for(n=0,i=e;n<i.length;n++)o=i[n],this.Zi.removeItem(this.Vr(o.clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.rr=function(){var t=this;this.Ki=this.bs.Os("client_metadata_refresh",4e3,(function(){return t.nr().then((function(){return t.Ar()})).then((function(){return t.rr()}))}))},t.prototype.Ir=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.wr=function(t){var e=this;return this.qi?xn.resolve(!0):pi(t).get(Si.key).next((function(n){if(null!==n&&e.Rr(n.leaseTimestampMs,5e3)&&!e.gr(n.ownerId)){if(e.Ir(n)&&e.networkEnabled)return!0;if(!e.Ir(n)){if(!n.allowTabSynchronization)throw new D(A.FAILED_PRECONDITION,hi);return!1}}return!(!e.networkEnabled||!e.inForeground)||vi(t).Ws().next((function(t){return void 0===e.Pr(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,i=!e.inForeground&&t.inForeground,r=e.networkEnabled===t.networkEnabled;if(n||i&&r)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&f("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.yr=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.Qi=!1,this.pr(),this.Ki&&(this.Ki.cancel(),this.Ki=null),this.br(),this.vr(),[4,this.runTransaction("shutdown","readwrite",(function(e){return t.Tr(e).next((function(){return t.mr(e)}))})).catch((function(t){f("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)}))];case 1:return e.sent(),this.er.close(),this.Sr(),[2]}}))}))},t.prototype.Pr=function(t,e){var n=this;return t.filter((function(t){return n.Rr(t.updateTimeMs,e)&&!n.gr(t.clientId)}))},t.prototype.Dr=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return vi(e).Ws().next((function(e){return t.Pr(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(i){switch(i.label){case 0:return t.Hi()?(n=e+t.Ji,[4,$i.delete(n)]):[2,Promise.resolve()];case 1:return i.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"hr",{get:function(){return this.Qi},enumerable:!1,configurable:!0}),t.prototype.Cr=function(t){return mi.Fr(t,this.serializer,this.ss,this.wi)},t.prototype.Nr=function(){return this.Xi},t.prototype.$r=function(){return this.es},t.prototype.kr=function(){return this.ss},t.prototype.runTransaction=function(t,e,n){var i=this;f("IndexedDbPersistence","Starting transaction:",t);var r,o="readonly"===e?"readonly":"readwrite";return this.er.runTransaction(o,Vi,(function(o){return r=new di(o,i.Ui?i.Ui.next():Ln.ps),"readwrite-primary"===e?i._r(r).next((function(t){return!!t||i.wr(r)})).next((function(e){if(!e)throw p("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.bs.dr((function(){return i.zi(!1)})),new D(A.FAILED_PRECONDITION,An);return n(r)})).next((function(t){return i.Er(r).next((function(){return t}))})):i.xr(r).next((function(){return n(r)}))})).then((function(t){return r.ts(),t}))},t.prototype.xr=function(t){var e=this;return pi(t).get(Si.key).next((function(t){if(null!==t&&e.Rr(t.leaseTimestampMs,5e3)&&!e.gr(t.ownerId)&&!e.Ir(t)&&!(e.qi||e.allowTabSynchronization&&t.allowTabSynchronization))throw new D(A.FAILED_PRECONDITION,hi)}))},t.prototype.Er=function(t){var e=new Si(this.clientId,this.allowTabSynchronization,Date.now());return pi(t).put(Si.key,e)},t.Hi=function(){return $i.Hi()},t.Mr=function(t){var e=t.s.projectId;return t.s.i||(e+="."+t.s.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.Tr=function(t){var e=this,n=pi(t);return n.get(Si.key).next((function(t){return e.Ir(t)?(f("IndexedDbPersistence","Releasing primary lease."),n.delete(Si.key)):xn.resolve()}))},t.prototype.Rr=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(p("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.sr=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ji=function(){t.bs.lr((function(){return t.inForeground="visible"===t.document.visibilityState,t.nr()}))},this.document.addEventListener("visibilitychange",this.ji),this.inForeground="visible"===this.document.visibilityState)},t.prototype.br=function(){this.ji&&(this.document.removeEventListener("visibilitychange",this.ji),this.ji=null)},t.prototype.ir=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Wi=function(){e.pr(),e.bs.lr((function(){return e.yr()}))},this.window.addEventListener("unload",this.Wi))},t.prototype.vr=function(){this.Wi&&(this.window.removeEventListener("unload",this.Wi),this.Wi=null)},t.prototype.gr=function(t){var e;try{var n=null!==(null===(e=this.Zi)||void 0===e?void 0:e.getItem(this.Vr(t)));return f("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return p("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.pr=function(){if(this.Zi)try{this.Zi.setItem(this.Vr(this.clientId),String(Date.now()))}catch(t){p("Failed to set zombie client id.",t)}},t.prototype.Sr=function(){if(this.Zi)try{this.Zi.removeItem(this.Vr(this.clientId))}catch(t){}},t.prototype.Vr=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function pi(t){return fi.js(t,Si.store)}function vi(t){return fi.js(t,Ui.store)}fi.Ji="main";var gi=function(){function t(t,e){this.db=t,this.Or=new sr(this,e)}return t.prototype.Lr=function(t){var e=this.Br(t);return this.db.Nr().Si(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Br=function(t){var e=0;return this.qr(t,(function(t){e++})).next((function(){return e}))},t.prototype.pe=function(t,e){return this.db.Nr().pe(t,e)},t.prototype.qr=function(t,e){return this.Ur(t,(function(t,n){return e(n)}))},t.prototype.Fi=function(t,e,n){return yi(t,n)},t.prototype.$i=function(t,e,n){return yi(t,n)},t.prototype.vi=function(t,e,n){return this.db.Nr().vi(t,e,n)},t.prototype.Qr=function(t,e){return yi(t,e)},t.prototype.Wr=function(t,e){return function(t,e){var n=!1;return ki(t).jr((function(i){return _i(t,i,e).next((function(t){return t&&(n=!0),xn.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Kr=function(t,e){var n=this,i=this.db.$r().oi(),r=[],o=0;return this.Ur(t,(function(s,a){if(a<=e){var u=n.Wr(t,s).next((function(e){if(!e)return o++,i.zn(t,s).next((function(){return i.Gn(s),ci(t).delete([0,Bn(s.path)])}))}));r.push(u)}})).next((function(){return xn.Bn(r)})).next((function(){return i.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Z(t.Li);return this.db.Nr().yi(t,n)},t.prototype.Gr=function(t,e){return yi(t,e)},t.prototype.Ur=function(t,e){var n,i=ci(t),r=Ln.ps;return i.ei({index:Ri.documentTargetsIndex},(function(t,i){var o=t[0],s=(t[1],i.path),a=i.sequenceNumber;0===o?(r!==Ln.ps&&e(new F(Un(n)),r),r=a,n=s):r=Ln.ps})).next((function(){r!==Ln.ps&&e(new F(Un(n)),r)}))},t.prototype.zr=function(t){return this.db.$r().ui(t)},t}();function yi(t,e){return ci(t).put(function(t,e){return new Ri(0,Bn(t.path),e)}(e,t.Li))}var mi=function(){function t(t,e,n,i){this.userId=t,this.serializer=e,this.ss=n,this.wi=i,this.Hr={}}return t.Fr=function(e,n,i,r){return y(""!==e.uid),new t(e.Yr()?e.uid:"",n,i,r)},t.prototype.Jr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wi(t).ei({index:Oi.userMutationsIndex,range:n},(function(t,n,i){e=!1,i.done()})).next((function(){return e}))},t.prototype.Xr=function(t,e,n,i){var r=this,o=Ei(t),s=wi(t);return s.add({}).next((function(a){y("number"==typeof a);for(var u=new In(a,e,n,i),l=function(t,e,n){var i=n.baseMutations.map((function(e){return ce(t.Ks,e)})),r=n.mutations.map((function(e){return ce(t.Ks,e)}));return new Oi(e,n.batchId,n.yn.toMillis(),i,r)}(r.serializer,r.userId,u),c=[],h=new it((function(t,e){return w(t.N(),e.N())})),d=0,f=i;d<f.length;d++){var p=f[d],v=Ai.key(r.userId,p.key.path,a);h=h.add(p.key.path.p()),c.push(s.put(l)),c.push(o.put(v,Ai.PLACEHOLDER))}return h.forEach((function(e){c.push(r.ss.Us(t,e))})),t.Zn((function(){r.Hr[a]=u.keys()})),xn.Bn(c).next((function(){return u}))}))},t.prototype.Zr=function(t,e){var n=this;return wi(t).get(e).next((function(t){return t?(y(t.userId===n.userId),Jn(n.serializer,t)):null}))},t.prototype.to=function(t,e){var n=this;return this.Hr[e]?xn.resolve(this.Hr[e]):this.Zr(t,e).next((function(t){if(t){var i=t.keys();return n.Hr[e]=i,i}return null}))},t.prototype.eo=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return wi(t).ei({index:Oi.userMutationsIndex,range:r},(function(t,e,r){e.userId===n.userId&&(y(e.batchId>=i),o=Jn(n.serializer,e)),r.done()})).next((function(){return o}))},t.prototype.no=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return wi(t).ei({index:Oi.userMutationsIndex,range:e,reverse:!0},(function(t,e,i){n=e.batchId,i.done()})).next((function(){return n}))},t.prototype.so=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wi(t).Ws(Oi.userMutationsIndex,n).next((function(t){return t.map((function(t){return Jn(e.serializer,t)}))}))},t.prototype.os=function(t,e){var n=this,i=Ai.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Ei(t).ei({range:r},(function(i,r,s){var a=i[0],u=i[1],l=i[2],c=Un(u);if(a===n.userId&&e.path.isEqual(c))return wi(t).get(l).next((function(t){if(!t)throw g();y(t.userId===n.userId),o.push(Jn(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.ls=function(t,e){var n=this,i=new it(w),r=[];return e.forEach((function(e){var o=Ai.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ei(t).ei({range:s},(function(t,r,o){var s=t[0],a=t[1],u=t[2],l=Un(a);s===n.userId&&e.path.isEqual(l)?i=i.add(u):o.done()}));r.push(a)})),xn.Bn(r).next((function(){return n.io(t,i)}))},t.prototype.Es=function(t,e){var n=this,i=e.path,r=i.length+1,o=Ai.prefixForPath(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new it(w);return Ei(t).ei({range:s},(function(t,e,o){var s=t[0],u=t[1],l=t[2],c=Un(u);s===n.userId&&i.D(c)?c.length===r&&(a=a.add(l)):o.done()})).next((function(){return n.io(t,a)}))},t.prototype.io=function(t,e){var n=this,i=[],r=[];return e.forEach((function(e){r.push(wi(t).get(e).next((function(t){if(null===t)throw g();y(t.userId===n.userId),i.push(Jn(n.serializer,t))})))})),xn.Bn(r).next((function(){return i}))},t.prototype.ro=function(t,e){var n=this;return bi(t.Oi,this.userId,e).next((function(i){return t.Zn((function(){n.oo(e.batchId)})),xn.forEach(i,(function(e){return n.wi.Qr(t,e)}))}))},t.prototype.oo=function(t){delete this.Hr[t]},t.prototype.ho=function(t){var e=this;return this.Jr(t).next((function(n){if(!n)return xn.resolve();var i=IDBKeyRange.lowerBound(Ai.prefixForUser(e.userId)),r=[];return Ei(t).ei({range:i},(function(t,n,i){if(t[0]===e.userId){var o=Un(t[1]);r.push(o)}else i.done()})).next((function(){y(0===r.length)}))}))},t.prototype.Mi=function(t,e){return _i(t,this.userId,e)},t.prototype.ao=function(t){var e=this;return ki(t).get(this.userId).next((function(t){return t||new xi(e.userId,-1,"")}))},t}();function _i(t,e,n){var i=Ai.prefixForPath(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return Ei(t).ei({range:o,xi:!0},(function(t,n,i){var o=t[0],a=t[1];t[2],o===e&&a===r&&(s=!0),i.done()})).next((function(){return s}))}function bi(t,e,n){var i=t.store(Oi.store),r=t.store(Ai.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=i.ei({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){y(1===a)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=Ai.key(e,d.key.path,n.batchId);o.push(r.delete(f)),l.push(d.key)}return xn.Bn(o).next((function(){return l}))}function wi(t){return fi.js(t,Oi.store)}function Ei(t){return fi.js(t,Ai.store)}function ki(t){return fi.js(t,xi.store)}var Ci=10,Ti=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,i){var r=this;y(n<i&&n>=0&&i<=Ci);var o=new zi(e);n<1&&i>=1&&(function(t){t.createObjectStore(Si.store)}(t),function(t){t.createObjectStore(xi.store,{keyPath:xi.keyPath}),t.createObjectStore(Oi.store,{keyPath:Oi.keyPath,autoIncrement:!0}).createIndex(Oi.userMutationsIndex,Oi.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ai.store)}(t),ji(t),function(t){t.createObjectStore(Pi.store)}(t));var s=xn.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ri.store),t.deleteObjectStore(Ni.store),t.deleteObjectStore(Bi.store)}(t),ji(t)),s=s.next((function(){return function(t){var e=t.store(Bi.store),n=new Bi(0,0,P.min().A(),0);return e.put(Bi.key,n)}(o)}))),n<4&&i>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Oi.store).Ws().next((function(n){t.deleteObjectStore(Oi.store),t.createObjectStore(Oi.store,{keyPath:Oi.keyPath,autoIncrement:!0}).createIndex(Oi.userMutationsIndex,Oi.userMutationsKeyPath,{unique:!0});var i=e.store(Oi.store),r=n.map((function(t){return i.put(t)}));return xn.Bn(r)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Ui.store,{keyPath:Ui.keyPath})}(t)}))),n<5&&i>=5&&(s=s.next((function(){return r.removeAcknowledgedMutations(o)}))),n<6&&i>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Li.store)}(t),r.addDocumentGlobal(o)}))),n<7&&i>=7&&(s=s.next((function(){return r.ensureSequenceNumbers(o)}))),n<8&&i>=8&&(s=s.next((function(){return r.createCollectionParentIndex(t,o)}))),n<9&&i>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Pi.store);e.createIndex(Pi.readTimeIndex,Pi.readTimeIndexPath,{unique:!1}),e.createIndex(Pi.collectionReadTimeIndex,Pi.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&i>=10&&(s=s.next((function(){return r.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Pi.store).ei((function(t,n){e+=oi(n)})).next((function(){var n=new Li(e);return t.store(Li.store).put(Li.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(xi.store),i=t.store(Oi.store);return n.Ws().next((function(n){return xn.forEach(n,(function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.Ws(Oi.userMutationsIndex,r).next((function(i){return xn.forEach(i,(function(i){y(i.userId===n.userId);var r=Jn(e.serializer,i);return bi(t,n.userId,r).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Ri.store),n=t.store(Pi.store);return t.store(Bi.store).get(Bi.key).next((function(t){var i=[];return n.ei((function(n,r){var o=new N(n),s=function(t){return[0,Bn(t)]}(o);i.push(e.get(s).next((function(n){return n?xn.resolve():function(n){return e.put(new Ri(0,Bn(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return xn.Bn(i)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Fi.store,{keyPath:Fi.keyPath});var n=e.store(Fi.store),i=new $n,r=function(t){if(i.add(t)){var e=t.S(),r=t.p();return n.put({collectionId:e,parent:Bn(r)})}};return e.store(Pi.store).ei({xi:!0},(function(t,e){var n=new N(t);return r(n.p())})).next((function(){return e.store(Ai.store).ei({xi:!0},(function(t,e){t[0];var n=t[1],i=(t[2],Un(n));return r(i.p())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Ni.store);return n.ei((function(t,i){var r=Zn(i),o=ti(e.serializer,r);return n.put(o)}))},t}(),Ii=function(t,e){this.seconds=t,this.nanoseconds=e},Si=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Si.store="owner",Si.key="owner";var xi=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};xi.store="mutationQueues",xi.keyPath="userId";var Oi=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};Oi.store="mutations",Oi.keyPath="batchId",Oi.userMutationsIndex="userMutationsIndex",Oi.userMutationsKeyPath=["userId","batchId"];var Ai=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Bn(e)]},t.key=function(t,e,n){return[t,Bn(e),n]},t}();Ai.store="documentMutations",Ai.PLACEHOLDER=new Ai;var Di=function(t,e){this.path=t,this.readTime=e},Mi=function(t,e){this.path=t,this.version=e},Pi=function(t,e,n,i,r,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=o};Pi.store="remoteDocuments",Pi.readTimeIndex="readTimeIndex",Pi.readTimeIndexPath="readTime",Pi.collectionReadTimeIndex="collectionReadTimeIndex",Pi.collectionReadTimeIndexPath=["parentPath","readTime"];var Li=function(t){this.byteSize=t};Li.store="remoteDocumentGlobal",Li.key="remoteDocumentGlobalKey";var Ni=function(t,e,n,i,r,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=s};Ni.store="targets",Ni.keyPath="targetId",Ni.queryTargetsIndexName="queryTargetsIndex",Ni.queryTargetsKeyPath=["canonicalId","targetId"];var Ri=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ri.store="targetDocuments",Ri.keyPath=["targetId","path"],Ri.documentTargetsIndex="documentTargetsIndex",Ri.documentTargetsKeyPath=["path","targetId"];var Bi=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Bi.key="targetGlobalKey",Bi.store="targetGlobal";var Fi=function(t,e){this.collectionId=t,this.parent=e};function ji(t){t.createObjectStore(Ri.store,{keyPath:Ri.keyPath}).createIndex(Ri.documentTargetsIndex,Ri.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ni.store,{keyPath:Ni.keyPath}).createIndex(Ni.queryTargetsIndexName,Ni.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Bi.store)}Fi.store="collectionParents",Fi.keyPath=["collectionId","parent"];var Ui=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};Ui.store="clientMetadata",Ui.keyPath="clientId";var Vi=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([xi.store,Oi.store,Ai.store,Pi.store,Ni.store,Si.store,Bi.store,Ri.store],[Ui.store]),[Li.store]),[Fi.store]),$i=function(){function e(t){this.db=t,12.2===e.uo(a.getUA())&&p("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.tr=function(t,n,i){return f("SimpleDb","Opening database:",t),new xn((function(r,o){var s=indexedDB.open(t,n);s.onsuccess=function(t){var n=t.target.result;r(new e(n))},s.onblocked=function(){o(new D(A.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;"VersionError"===e.name?o(new D(A.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(e)},s.onupgradeneeded=function(e){f("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result;i.createOrUpgrade(n,s.transaction,e.oldVersion,Ci).next((function(){f("SimpleDb","Database upgrade to version "+Ci+" complete")}))}})).On()},e.delete=function(t){return f("SimpleDb","Removing database:",t),Qi(window.indexedDB.deleteDatabase(t)).On()},e.Hi=function(){if("undefined"==typeof indexedDB)return!1;if(e.co())return!0;var t=a.getUA(),n=e.uo(t),i=0<n&&n<10,r=e.lo(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)},e.co=function(){var e;return"undefined"!=typeof t&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"/react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}))||void 0===e?void 0:e._o)},e.js=function(t,e){return t.store(e)},e.uo=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.lo=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.ur=function(t){this.db.onversionchange=function(e){return t(e)}},e.prototype.runTransaction=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u;return r.__generator(this,(function(l){switch(l.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,u,l,c;return r.__generator(this,(function(r){switch(r.label){case 0:++o,t=zi.open(a.db,i?"readonly":"readwrite",e),r.label=1;case 1:return r.trys.push([1,3,,4]),s=n(t).catch((function(e){return t.abort(e),xn.reject(e)})).On(),u={},s.catch((function(){})),[4,t.fo];case 2:return[2,(u.value=(r.sent(),s),u)];case 3:return l=r.sent(),c="FirebaseError"!==l.name&&o<3,f("SimpleDb","Transaction failed with error: %s. Retrying: %s.",l.message,c),c?[3,4]:[2,{value:Promise.reject(l)}];case 4:return[2]}}))},a=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db.close()},e}(),Wi=function(){function t(t){this.do=t,this.wo=!1,this.To=null}return Object.defineProperty(t.prototype,"$n",{get:function(){return this.wo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Eo",{get:function(){return this.To},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.do=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.wo=!0},t.prototype.ni=function(t){this.To=t},t.prototype.delete=function(){return Qi(this.do.delete())},t}(),Hi=function(t){function e(e){var n=this;return(n=t.call(this,A.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return r.__extends(e,t),e}(D);function qi(t){return"IndexedDbTransactionError"===t.name}var zi=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.Io=new Nn,this.transaction.oncomplete=function(){e.Io.resolve()},this.transaction.onabort=function(){t.error?e.Io.reject(new Hi(t.error)):e.Io.resolve()},this.transaction.onerror=function(t){var n=Xi(t.target.error);e.Io.reject(new Hi(n))}}return t.open=function(e,n,i){return new t(e.transaction(i,n))},Object.defineProperty(t.prototype,"fo",{get:function(){return this.Io.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Io.reject(t),this.aborted||(f("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ki(e)},t}(),Ki=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Qi(n)},t.prototype.add=function(t){return f("SimpleDb","ADD",this.store.name,t,t),Qi(this.store.add(t))},t.prototype.get=function(t){var e=this;return Qi(this.store.get(t)).next((function(n){return void 0===n&&(n=null),f("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return f("SimpleDb","DELETE",this.store.name,t),Qi(this.store.delete(t))},t.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),Qi(this.store.count())},t.prototype.Ws=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.mo(n,(function(t,e){i.push(e)})).next((function(){return i}))},t.prototype.Ao=function(t,e){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.xi=!1;var i=this.cursor(n);return this.mo(i,(function(t,e,n){return n.delete()}))},t.prototype.ei=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.mo(i,e)},t.prototype.jr=function(t){var e=this.cursor({});return new xn((function(n,i){e.onerror=function(t){var e=Xi(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next((function(t){t?i.continue():n()})):n()}}))},t.prototype.mo=function(t,e){var n=[];return new xn((function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var o=new Wi(r),s=e(r.primaryKey,r.value,o);if(s instanceof xn){var a=s.catch((function(t){return o.done(),xn.reject(t)}));n.push(a)}o.$n?i():null===o.Eo?r.continue():r.continue(o.Eo)}else i()}})).next((function(){return xn.Bn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.xi?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Qi(t){return new xn((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Xi(t.target.error);n(e)}}))}var Gi=!1;function Xi(t){var e=$i.uo(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new D("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Gi||(Gi=!0,setTimeout((function(){throw i}),0)),i}}return t}function Yi(){return"undefined"!=typeof window?window:null}var Ji=function(){function t(t,e,n,i,r){this.Ro=t,this.vs=e,this.Po=n,this.op=i,this.Vo=r,this.yo=new Nn,this.then=this.yo.promise.then.bind(this.yo.promise),this.yo.promise.catch((function(t){}))}return t.po=function(e,n,i,r,o){var s=new t(e,n,Date.now()+i,r,o);return s.start(i),s},t.prototype.start=function(t){var e=this;this.bo=setTimeout((function(){return e.vo()}),t)},t.prototype.Bs=function(){return this.vo()},t.prototype.cancel=function(t){null!==this.bo&&(this.clearTimeout(),this.yo.reject(new D(A.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.vo=function(){var t=this;this.Ro.lr((function(){return null!==t.bo?(t.clearTimeout(),t.op().then((function(e){return t.yo.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.bo&&(this.Vo(this),clearTimeout(this.bo),this.bo=null)},t}(),Zi=function(){function t(){var t=this;this.So=Promise.resolve(),this.Do=[],this.Co=!1,this.Fo=[],this.No=null,this.$o=!1,this.ko=[],this.xo=new Rn(this,"async_queue_retry"),this.Mo=function(){return t.xo.Ls()};var e=Yi();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Mo)}return Object.defineProperty(t.prototype,"Oo",{get:function(){return this.Co},enumerable:!1,configurable:!0}),t.prototype.lr=function(t){this.enqueue(t)},t.prototype.Lo=function(t){this.Bo(),this.qo(t)},t.prototype.Uo=function(t){return this.Bo(),this.qo(t)},t.prototype.Qo=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return this.Bo(),this.Co?[3,2]:(this.Co=!0,(e=Yi())&&e.removeEventListener("visibilitychange",this.Mo),[4,this.Uo(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.Bo(),this.Co?new Promise((function(t){})):this.qo(t)},t.prototype.dr=function(t){var e=this;this.Do.push(t),this.lr((function(){return e.Wo()}))},t.prototype.Wo=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Do.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Do[0]()];case 2:return n.sent(),this.Do.shift(),this.xo.reset(),[3,4];case 3:if(!qi(t=n.sent()))throw t;return f("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Do.length>0&&this.xo.xs((function(){return e.Wo()})),n.label=5;case 5:return[2]}}))}))},t.prototype.qo=function(t){var e=this,n=this.So.then((function(){return e.$o=!0,t().catch((function(t){throw e.No=t,e.$o=!1,p("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.$o=!1,t}))}));return this.So=n,n},t.prototype.Os=function(t,e,n){var i=this;this.Bo(),this.ko.indexOf(t)>-1&&(e=0);var r=Ji.po(this,t,e,n,(function(t){return i.jo(t)}));return this.Fo.push(r),r},t.prototype.Bo=function(){this.No&&g()},t.prototype.Ko=function(){},t.prototype.Go=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.So];case 1:e.sent(),e.label=2;case 2:if(t!==this.So)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.zo=function(t){for(var e=0,n=this.Fo;e<n.length;e++)if(n[e].vs===t)return!0;return!1},t.prototype.Ho=function(t){var e=this;return this.Go().then((function(){e.Fo.sort((function(t,e){return t.Po-e.Po}));for(var n=0,i=e.Fo;n<i.length;n++){var r=i[n];if(r.Bs(),"all"!==t&&r.vs===t)break}return e.Go()}))},t.prototype.Yo=function(t){this.ko.push(t)},t.prototype.jo=function(t){var e=this.Fo.indexOf(t);this.Fo.splice(e,1)},t}();function tr(t,e){if(p("AsyncQueue",e+": "+t),qi(t))return new D(A.UNAVAILABLE,e+": "+t);throw t}function er(t,e){var n=t[0],i=t[1],r=e[0],o=e[1],s=w(n,r);return 0===s?w(i,o):s}var nr=function(){function t(t){this.Jo=t,this.buffer=new it(er),this.Xo=0}return t.prototype.Zo=function(){return++this.Xo},t.prototype.th=function(t){var e=[t,this.Zo()];if(this.buffer.size<this.Jo)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();er(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ir={eh:!1,nh:0,sh:0,ih:0},rr=function(){function t(t,e,n){this.rh=t,this.oh=e,this.hh=n}return t.ah=function(e){return new t(e,t.uh,t.lh)},t}();rr._h=-1,rr.fh=1048576,rr.dh=41943040,rr.uh=10,rr.lh=1e3,rr.wh=new rr(rr.dh,rr.uh,rr.lh),rr.Th=new rr(rr._h,0,0);var or=function(){function t(t,e){this.Or=t,this.Ro=e,this.Eh=!1,this.Ih=null}return t.prototype.start=function(t){this.Or.params.rh!==rr._h&&this.mh(t)},t.prototype.stop=function(){this.Ih&&(this.Ih.cancel(),this.Ih=null)},Object.defineProperty(t.prototype,"hr",{get:function(){return null!==this.Ih},enumerable:!1,configurable:!0}),t.prototype.mh=function(t){var e=this,n=this.Eh?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Ih=this.Ro.Os("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.Ih=null,this.Eh=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ah(this.Or)];case 2:return n.sent(),[3,7];case 3:return qi(e=n.sent())?(f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,lr(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.mh(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),sr=function(){function t(t,e){this.Rh=t,this.params=e}return t.prototype.Ph=function(t,e){return this.Rh.Lr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Vh=function(t,e){var n=this;if(0===e)return xn.resolve(Ln.ps);var i=new nr(e);return this.Rh.pe(t,(function(t){return i.th(t.sequenceNumber)})).next((function(){return n.Rh.qr(t,(function(t){return i.th(t)}))})).next((function(){return i.maxValue}))},t.prototype.vi=function(t,e,n){return this.Rh.vi(t,e,n)},t.prototype.Kr=function(t,e){return this.Rh.Kr(t,e)},t.prototype.gh=function(t,e){var n=this;return this.params.rh===rr._h?(f("LruGarbageCollector","Garbage collection skipped; disabled"),xn.resolve(ir)):this.zr(t).next((function(i){return i<n.params.rh?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.rh),ir):n.yh(t,e)}))},t.prototype.zr=function(t){return this.Rh.zr(t)},t.prototype.yh=function(t,e){var n,i,r,o,a,u,l,c=this,h=Date.now();return this.Ph(t,this.params.oh).next((function(e){return e>c.params.hh?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.hh+" from "+e),i=c.params.hh):i=e,o=Date.now(),c.Vh(t,i)})).next((function(i){return n=i,a=Date.now(),c.vi(t,n,e)})).next((function(e){return r=e,u=Date.now(),c.Kr(t,n)})).next((function(t){return l=Date.now(),d()<=s.LogLevel.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+i+" in "+(a-o)+"ms\n\tRemoved "+r+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-h)+"ms"),xn.resolve({eh:!0,nh:i,sh:r,ih:t})}))},t}(),ar=function(){function t(t,e,n){this.persistence=t,this.ph=e,this.bh=new tt(w),this.vh=new O((function(t){return H(t)}),q),this.Sh=P.min(),this.ns=t.Cr(n),this.Dh=t.$r(),this.Xi=t.Nr(),this.Ch=new Mn(this.Dh,this.ns,this.persistence.kr()),this.ph.Fh(this.Ch)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Nh=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:return e=this.ns,n=this.Ch,[4,this.persistence.runTransaction("Handle user change","readonly",(function(i){var r;return o.ns.so(i).next((function(s){return r=s,e=o.persistence.Cr(t),n=new Mn(o.Dh,e,o.persistence.kr()),e.so(i)})).next((function(t){for(var e=[],o=[],s=dt(),a=0,u=r;a<u.length;a++){var l=u[a];e.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++){var d=h[c];s=s.add(d.key)}}for(var f=0,p=t;f<p.length;f++){var v=p[f];o.push(v.batchId);for(var g=0,y=v.mutations;g<y.length;g++){var m=y[g];s=s.add(m.key)}}return n.us(i,s).next((function(t){return{$h:t,kh:e,xh:o}}))}))}))];case 1:return i=r.sent(),[2,(this.ns=e,this.Ch=n,this.ph.Fh(this.Ch),i)]}}))}))},t.prototype.Mh=function(t){var e,n=this,i=M.now(),r=t.reduce((function(t,e){return t.add(e.key)}),dt());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.Ch.us(o,r).next((function(r){e=r;for(var s=[],a=0,u=t;a<u.length;a++){var l=u[a],c=$e(l,e.get(l.key));null!=c&&s.push(new ze(l.key,c,en(c.proto.mapValue),Be.exists(!0)))}return n.ns.Xr(o,i,s,t)}))})).then((function(t){var n=t.Sn(e);return{batchId:t.batchId,Un:n}}))},t.prototype.Oh=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var i=t.batch.keys(),r=e.Dh.oi({ai:!0});return e.Lh(n,t,r).next((function(){return r.apply(n)})).next((function(){return e.ns.ho(n)})).next((function(){return e.Ch.us(n,i)}))}))},t.prototype.Bh=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var i;return e.ns.Zr(n,t).next((function(t){return y(null!==t),i=t.keys(),e.ns.ro(n,t)})).next((function(){return e.ns.ho(n)})).next((function(){return e.Ch.us(n,i)}))}))},t.prototype.no=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.ns.no(e)}))},t.prototype.mi=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Xi.mi(e)}))},t.prototype.qh=function(e){var n=this,i=e.X,r=this.bh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.Dh.oi({ai:!0});r=n.bh;var a=[];e.Qt.forEach((function(e,s){var u=r.get(s);if(u){a.push(n.Xi.Ni(o,e.Xt,s).next((function(){return n.Xi.Ci(o,e.Yt,s)})));var l=e.resumeToken;if(l.H()>0){var c=u.tt(l,i).Z(o.Li);r=r.nt(s,c),t.Uh(u,c,e)&&a.push(n.Xi.yi(o,c))}}}));var u=st(),l=dt();if(e.jt.forEach((function(t,e){l=l.add(t)})),a.push(s.getEntries(o,l).next((function(t){e.jt.forEach((function(r,l){var c=t.get(r);l instanceof on&&l.version.isEqual(P.min())?(s.Gn(r,i),u=u.nt(r,l)):null==c||l.version.o(c.version)>0||0===l.version.o(c.version)&&c.hasPendingWrites?(s.jn(l,i),u=u.nt(r,l)):f("LocalStore","Ignoring outdated watch update for ",r,". Current version:",c.version," Watch version:",l.version),e.Kt.has(r)&&a.push(n.persistence.wi.Gr(o,r))}))}))),!i.isEqual(P.min())){var c=n.Xi.mi(o).next((function(t){return n.Xi.Ri(o,o.Li,i)}));a.push(c)}return xn.Bn(a).next((function(){return s.apply(o)})).next((function(){return n.Ch.cs(o,u)}))})).then((function(t){return n.bh=r,t}))},t.Uh=function(t,e,n){return y(e.resumeToken.H()>0),0===t.resumeToken.H()||e.X.m()-t.X.m()>=this.Qh||n.Yt.size+n.Jt.size+n.Xt.size>0},t.prototype.Wh=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a,u,l,c=this;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return xn.forEach(t,(function(t){return xn.forEach(t.ms,(function(n){return c.persistence.wi.Fi(e,t.targetId,n)})).next((function(){return xn.forEach(t.As,(function(n){return c.persistence.wi.$i(e,t.targetId,n)}))}))}))}))];case 1:return r.sent(),[3,3];case 2:if(!qi(e=r.sent()))throw e;return f("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,i=t;n<i.length;n++)o=i[n],s=o.targetId,o.fromCache||(a=this.bh.get(s),u=a.X,l=a.et(u),this.bh=this.bh.nt(s,l));return[2]}}))}))},t.prototype.jh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.ns.eo(n,t)}))},t.prototype.Kh=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.Ch.rs(n,t)}))},t.prototype.Gh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var i;return e.Xi.Di(n,t).next((function(r){return r?(i=r,xn.resolve(i)):e.Xi.Ti(n).next((function(r){return i=new X(t,r,0,n.Li),e.Xi.Pi(n,i).next((function(){return i}))}))}))})).then((function(n){var i=e.bh.get(n.targetId);return(null===i||n.X.o(i.X)>0)&&(e.bh=e.bh.nt(n.targetId,n),e.vh.set(t,n.targetId)),n}))},t.prototype.Di=function(t,e){var n=this.vh.get(e);return void 0!==n?xn.resolve(this.bh.get(n)):this.Xi.Di(t,e)},t.prototype.zh=function(t,e){var n=this,i=this.bh.get(t),r=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release target",r,(function(t){return e?xn.resolve():n.persistence.wi.removeTarget(t,i)})).then((function(){n.bh=n.bh.remove(t),n.vh.delete(i.target)}))},t.prototype.Hh=function(t,e){var n=this,i=P.min(),r=dt();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.Di(o,t.We()).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,n.Xi.ki(o,t.targetId).next((function(t){r=t}))})).next((function(){return n.ph._s(o,t,e?i:P.min(),e?r:dt())})).next((function(t){return{documents:t,Yh:r}}))}))},t.prototype.Lh=function(t,e,n){var i=this,r=e.batch,o=r.keys(),s=xn.resolve();return o.forEach((function(i){s=s.next((function(){return n.zn(t,i)})).next((function(t){var o=t,s=e.Cn.get(i);y(null!==s),(!o||o.version.o(s)<0)&&(o=r.pn(i,o,e))&&n.jn(o,e.Dn)}))})),s.next((function(){return i.ns.ro(t,r)}))},t.prototype.Ah=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.gh(n,e.bh)}))},t}();ar.Qh=3e8;var ur=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).persistence=e,r.ns=e.Cr(i),r.Dh=e.$r(),r.Xi=e.Nr(),r}return r.__extends(e,t),e.prototype.start=function(){return this.Jh()},e.prototype.Xh=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.ns.to(n,t).next((function(t){return t?e.Ch.us(n,t):xn.resolve(null)}))}))},e.prototype.Zh=function(t){this.ns.oo(t)},e.prototype.cr=function(t){this.persistence.cr(t)},e.prototype.Dr=function(){return this.persistence.Dr()},e.prototype.ta=function(t){var e=this,n=this.bh.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Xi.Me(n,t).next((function(t){return t?t.target:null}))}))},e.prototype.si=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.Dh.si(e,t.Sh)})).then((function(e){var n=e.ii,i=e.readTime;return t.Sh=i,n}))},e.prototype.Jh=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.Dh.ri(t)}))];case 1:return t.Sh=n.sent(),[2]}}))}))},e}(ar);function lr(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==A.FAILED_PRECONDITION||t.message!==An)throw t;return f("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var cr=function(){function t(){this.ea=new it(hr.na),this.sa=new it(hr.ia)}return t.prototype._=function(){return this.ea._()},t.prototype.Fi=function(t,e){var n=new hr(t,e);this.ea=this.ea.add(n),this.sa=this.sa.add(n)},t.prototype.ra=function(t,e){var n=this;t.forEach((function(t){return n.Fi(t,e)}))},t.prototype.$i=function(t,e){this.oa(new hr(t,e))},t.prototype.ha=function(t,e){var n=this;t.forEach((function(t){return n.$i(t,e)}))},t.prototype.aa=function(t){var e=this,n=new F(new N([])),i=new hr(n,t),r=new hr(n,t+1),o=[];return this.sa.vt([i,r],(function(t){e.oa(t),o.push(t.key)})),o},t.prototype.ua=function(){var t=this;this.ea.forEach((function(e){return t.oa(e)}))},t.prototype.oa=function(t){this.ea=this.ea.delete(t),this.sa=this.sa.delete(t)},t.prototype.ca=function(t){var e=new F(new N([])),n=new hr(e,t),i=new hr(e,t+1),r=dt();return this.sa.vt([n,i],(function(t){r=r.add(t.key)})),r},t.prototype.Mi=function(t){var e=new hr(t,0),n=this.ea.Dt(e);return null!==n&&t.isEqual(n.key)},t}(),hr=function(){function t(t,e){this.key=t,this.la=e}return t.na=function(t,e){return F.P(t.key,e.key)||w(t.la,e.la)},t.ia=function(t,e){return w(t.la,e.la)||F.P(t.key,e.key)},t}();function dr(t,e){if(0!==e.length)throw new D(A.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Ar(e.length,"argument")+".")}function fr(t,e,n){if(e.length!==n)throw new D(A.INVALID_ARGUMENT,"Function "+t+"() requires "+Ar(n,"argument")+", but was called with "+Ar(e.length,"argument")+".")}function pr(t,e,n){if(e.length<n)throw new D(A.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Ar(n,"argument")+", but was called with "+Ar(e.length,"argument")+".")}function vr(t,e,n,i){if(e.length<n||e.length>i)throw new D(A.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+i+" arguments, but was called with "+Ar(e.length,"argument")+".")}function gr(t,e,n,i){Er(t,e,Or(n)+" argument",i)}function yr(t,e,n,i){void 0!==i&&gr(t,e,n,i)}function mr(t,e,n,i){Er(t,e,n+" option",i)}function _r(t,e,n,i){void 0!==i&&mr(t,e,n,i)}function br(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){for(var o=[],s=0,a=r;s<a.length;s++){var u=a[s];if(u===i)return;o.push(Cr(u))}var l=Cr(i);throw new D(A.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,i,r)}function wr(t,e,n,i){if(!e.some((function(t){return t===i})))throw new D(A.INVALID_ARGUMENT,"Invalid value "+Cr(i)+" provided to function "+t+"() for its "+Or(n)+" argument. Acceptable values: "+e.join(", "));return i}function Er(t,e,n,i){if(!("object"===e?kr(i):"non-empty string"===e?"string"==typeof i&&""!==i:typeof i===e)){var r=Cr(i);throw new D(A.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+r)}}function kr(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Cr(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":g()}function Tr(t,e,n){if(void 0===n)throw new D(A.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Or(e)+" argument, but it was undefined.")}function Ir(t,e,n){S(e,(function(e,i){if(n.indexOf(e)<0)throw new D(A.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function Sr(t,e,n,i){var r=Cr(i);return new D(A.INVALID_ARGUMENT,"Function "+t+"() requires its "+Or(n)+" argument to be a "+e+", but it was: "+r)}function xr(t,e,n){if(n<=0)throw new D(A.INVALID_ARGUMENT,"Function "+t+"() requires its "+Or(e)+" argument to be a positive number, but it was: "+n+".")}function Or(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Ar(t,e){return t+" "+e+(1===t?"":"s")}function Dr(){if("undefined"==typeof Uint8Array)throw new D(A.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Mr(){if("undefined"==typeof atob)throw new D(A.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Pr=function(){function t(t){Mr(),this._a=t}return t.fromBase64String=function(e){fr("Blob.fromBase64String",arguments,1),gr("Blob.fromBase64String","string",1,e),Mr();try{return new t(K.fromBase64String(e))}catch(e){throw new D(A.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(fr("Blob.fromUint8Array",arguments,1),Dr(),!(e instanceof Uint8Array))throw Sr("Blob.fromUint8Array","Uint8Array",1,e);return new t(K.fromUint8Array(e))},t.prototype.toBase64=function(){return fr("Blob.toBase64",arguments,0),Mr(),this._a.toBase64()},t.prototype.toUint8Array=function(){return fr("Blob.toUint8Array",arguments,0),Dr(),this._a.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._a.isEqual(t._a)},t}(),Lr=function(t){!function(t,e,n,i){if(!(e instanceof Array)||e.length<1)throw new D(A.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Ar(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(gr("FieldPath","string",e,t[e]),0===t[e].length)throw new D(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.fa=new B(t)},Nr=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return r.__extends(e,t),e.documentId=function(){return new e(B.L().N())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Sr("isEqual","FieldPath",1,t);return this.fa.isEqual(t.fa)},e}(Lr),Rr=new RegExp("[~\\*/\\[\\]]"),Br=function(){this.da=this},Fr=function(t){function e(e){var n=this;return(n=t.call(this)||this).wa=e,n}return r.__extends(e,t),e.prototype.Ta=function(t){if(2!==t.Ea)throw 1===t.Ea?t.Ia(this.wa+"() can only appear at the top level of your update data"):t.Ia(this.wa+"() cannot be used with set() unless you pass {merge:true}");return t.Le.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Br);function jr(t,e,n){return new Zr({Ea:3,ma:e.settings.ma,methodName:t.wa,Aa:n},e.s,e.serializer,e.ignoreUndefinedProperties)}var Ur=function(t){function e(e){var n=this;return(n=t.call(this)||this).wa=e,n}return r.__extends(e,t),e.prototype.Ta=function(t){return new Ne(t.path,new Ie)},e.prototype.isEqual=function(t){return t instanceof e},e}(Br),Vr=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).wa=e,i.Ra=n,i}return r.__extends(e,t),e.prototype.Ta=function(t){var e=jr(this,t,!0),n=this.Ra.map((function(t){return oo(t,e)})),i=new Se(n);return new Ne(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(Br),$r=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).wa=e,i.Ra=n,i}return r.__extends(e,t),e.prototype.Ta=function(t){var e=jr(this,t,!0),n=this.Ra.map((function(t){return oo(t,e)})),i=new Oe(n);return new Ne(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(Br),Wr=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).wa=e,i.Pa=n,i}return r.__extends(e,t),e.prototype.Ta=function(t){var e=new De(t.serializer,Xt(t.serializer,this.Pa));return new Ne(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Br),Hr=function(t){function e(){return t.call(this)||this}return r.__extends(e,t),e.delete=function(){return dr("FieldValue.delete",arguments),new qr(new Fr("FieldValue.delete"))},e.serverTimestamp=function(){return dr("FieldValue.serverTimestamp",arguments),new qr(new Ur("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return pr("FieldValue.arrayUnion",arguments,1),new qr(new Vr("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return pr("FieldValue.arrayRemove",arguments,1),new qr(new $r("FieldValue.arrayRemove",t))},e.increment=function(t){return gr("FieldValue.increment","number",1,t),fr("FieldValue.increment",arguments,1),new qr(new Wr("FieldValue.increment",t))},e}(Br),qr=function(t){function e(e){var n=this;return(n=t.call(this)||this).da=e,n.wa=e.wa,n}return r.__extends(e,t),e.prototype.Ta=function(t){return this.da.Ta(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.da.isEqual(t.da)},e}(Hr),zr=function(){function t(t,e){if(fr("GeoPoint",arguments,2),gr("GeoPoint","number",1,t),gr("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new D(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new D(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Va=t,this.ga=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.Va},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.ga},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.Va===t.Va&&this.ga===t.ga},t.prototype.T=function(t){return w(this.Va,t.Va)||w(this.ga,t.ga)},t}();function Kr(t){return new Kt(t,!0)}var Qr=/^__.*__$/,Gr=function(t,e,n){this.ya=t,this.pa=e,this.ba=n},Xr=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.va=function(t,e){var n=[];return null!==this.Le?n.push(new ze(t,this.data,this.Le,e)):n.push(new qe(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Qe(t,this.fieldTransforms)),n},t}(),Yr=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.va=function(t,e){var n=[new ze(t,this.data,this.Le,e)];return this.fieldTransforms.length>0&&n.push(new Qe(t,this.fieldTransforms)),n},t}();function Jr(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}var Zr=function(){function t(t,e,n,i,r,o){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Sa(),this.fieldTransforms=r||[],this.Le=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ea",{get:function(){return this.settings.Ea},enumerable:!1,configurable:!0}),t.prototype.Da=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Le)},t.prototype.Ca=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Da({path:n,Aa:!1});return i.Fa(t),i},t.prototype.Na=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Da({path:n,Aa:!1});return i.Sa(),i},t.prototype.$a=function(t){return this.Da({path:void 0,Aa:!0})},t.prototype.Ia=function(t){return ho(t,this.settings.methodName,this.settings.ka||!1,this.path,this.settings.ma)},t.prototype.contains=function(t){return void 0!==this.Le.find((function(e){return t.D(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.D(e.field)}))},t.prototype.Sa=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fa(this.path.get(t))},t.prototype.Fa=function(t){if(0===t.length)throw this.Ia("Document fields must not be empty");if(Jr(this.Ea)&&Qr.test(t))throw this.Ia('Document fields cannot begin and end with "__"')},t}(),to=function(){function t(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||Kr(t)}return t.prototype.xa=function(t,e,n,i){return void 0===i&&(i=!1),new Zr({Ea:t,methodName:e,ma:n,path:B.k(),Aa:!1,ka:i},this.s,this.serializer,this.ignoreUndefinedProperties)},t}();function eo(t,e,n,i,r,o){void 0===o&&(o={});var s=t.xa(o.merge||o.mergeFields?2:0,e,n,r);uo("Data must be an object, but it was:",s,i);var a,u,l=so(i,s);if(o.merge)a=new Le(s.Le),u=s.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,d=o.mergeFields;h<d.length;h++){var f=d[h],p=void 0;if(f instanceof Lr)p=f.fa;else{if("string"!=typeof f)throw g();p=co(e,f,n)}if(!s.contains(p))throw new D(A.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");fo(c,p)||c.push(p)}a=new Le(c),u=s.fieldTransforms.filter((function(t){return a.Ke(t.field)}))}else a=null,u=s.fieldTransforms;return new Xr(new Ze(l),a,u)}function no(t,e,n,i){var r=t.xa(1,e,n);uo("Data must be an object, but it was:",r,i);var o=[],s=new tn;S(i,(function(t,i){var a=co(e,t,n),u=r.Na(a);if(i instanceof Br&&i.da instanceof Fr)o.push(a);else{var l=oo(i,u);null!=l&&(o.push(a),s.set(a,l))}}));var a=new Le(o);return new Yr(s.ze(),a,r.fieldTransforms)}function io(t,e,n,i,r,o){var s=t.xa(1,e,n),a=[lo(e,i,n)],u=[r];if(o.length%2!=0)throw new D(A.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)a.push(lo(e,o[l])),u.push(o[l+1]);for(var c=[],h=new tn,d=a.length-1;d>=0;--d)if(!fo(c,a[d])){var f=a[d],p=u[d],v=s.Na(f);if(p instanceof Br&&p.da instanceof Fr)c.push(f);else{var g=oo(p,v);null!=g&&(c.push(f),h.set(f,g))}}var y=new Le(c);return new Yr(h.ze(),y,s.fieldTransforms)}function ro(t,e,n,i){return void 0===i&&(i=!1),oo(n,t.xa(i?4:3,e))}function oo(t,e){if(ao(t))return uo("Unsupported field value:",e,t),so(t,e);if(t instanceof Br)return function(t,e){if(!Jr(e.Ea))throw e.Ia(t.wa+"() can only be used with update() and set()");if(!e.path)throw e.Ia(t.wa+"() is not currently supported inside arrays");var n=t.Ta(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Le.push(e.path),t instanceof Array){if(e.settings.Aa&&4!==e.Ea)throw e.Ia("Nested arrays are not supported");return function(t,e){for(var n=[],i=0,r=0,o=t;r<o.length;r++){var s=oo(o[r],e.$a(i));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Xt(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=M.fromDate(t);return{timestampValue:Yt(e.serializer,n)}}if(t instanceof M){var i=new M(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yt(e.serializer,i)}}if(t instanceof zr)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Pr)return{bytesValue:Jt(e.serializer,t)};if(t instanceof Gr){var r=e.s,o=t.ya;if(!o.isEqual(r))throw e.Ia("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+r.projectId+"/"+r.database);return{referenceValue:ee(t.ya||e.s,t.pa.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.Ia("Unsupported field value: "+Cr(t))}(t,e)}function so(t,e){var n={};return x(t)?e.path&&e.path.length>0&&e.Le.push(e.path):S(t,(function(t,i){var r=oo(i,e.Ca(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function ao(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof M||t instanceof zr||t instanceof Pr||t instanceof Gr||t instanceof Br)}function uo(t,e,n){if(!ao(n)||!kr(n)){var i=Cr(n);throw"an object"===i?e.Ia(t+" a custom object"):e.Ia(t+" "+i)}}function lo(t,e,n){if(e instanceof Lr)return e.fa;if("string"==typeof e)return co(t,e);throw ho("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function co(t,e,n){try{return function(t){if(t.search(Rr)>=0)throw new D(A.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Nr.bind.apply(Nr,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new D(A.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).fa}catch(e){throw ho((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function ho(t,e,n,i,r){var o=i&&!i._(),s=void 0!==r,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+i),s&&(u+=" in document "+r),u+=")"),new D(A.INVALID_ARGUMENT,(a+=". ")+t+u)}function fo(t,e){return t.some((function(t){return t.isEqual(e)}))}var po=function(){function t(t){this.uid=t}return t.prototype.Yr=function(){return null!=this.uid},t.prototype.Ma=function(){return this.Yr()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();po.UNAUTHENTICATED=new po(null),po.Oa=new po("google-credentials-uid"),po.La=new po("first-party-uid");var vo=function(t,e){this.user=e,this.type="OAuth",this.Ba={},this.Ba.Authorization="Bearer "+t},go=function(){function t(){this.qa=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.Ua=function(){},t.prototype.Qa=function(t){this.qa=t,t(po.UNAUTHENTICATED)},t.prototype.Wa=function(){this.qa=null},t}(),yo=function(){function t(t){var e=this;this.ja=null,this.currentUser=po.UNAUTHENTICATED,this.Ka=!1,this.Ga=0,this.qa=null,this.forceRefresh=!1,this.ja=function(){e.Ga++,e.currentUser=e.za(),e.Ka=!0,e.qa&&e.qa(e.currentUser)},this.Ga=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ja):(this.ja(null),t.get().then((function(t){e.auth=t,e.ja&&e.auth.addAuthTokenListener(e.ja)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.Ga,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.Ga!==e?(f("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(y("string"==typeof n.accessToken),new vo(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.Ua=function(){this.forceRefresh=!0},t.prototype.Qa=function(t){this.qa=t,this.Ka&&t(this.currentUser)},t.prototype.Wa=function(){this.auth&&this.auth.removeAuthTokenListener(this.ja),this.ja=null,this.qa=null},t.prototype.za=function(){var t=this.auth&&this.auth.getUid();return y(null===t||"string"==typeof t),new po(t)},t}(),mo=function(){function t(t,e){this.Ha=t,this.Ya=e,this.type="FirstParty",this.user=po.La}return Object.defineProperty(t.prototype,"Ba",{get:function(){var t={"X-Goog-AuthUser":this.Ya},e=this.Ha.auth.Ja([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),_o=function(){function t(t,e){this.Ha=t,this.Ya=e}return t.prototype.getToken=function(){return Promise.resolve(new mo(this.Ha,this.Ya))},t.prototype.Qa=function(t){t(po.La)},t.prototype.Wa=function(){},t.prototype.Ua=function(){},t}(),bo=function(){function t(t,e,n,i,r,o){this.bs=t,this.Xa=n,this.Za=i,this.tu=r,this.listener=o,this.state=0,this.eu=0,this.nu=null,this.stream=null,this.xo=new Rn(t,e)}return t.prototype.su=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.iu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ru()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.su()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.ou=function(){this.state=0,this.xo.reset()},t.prototype.hu=function(){var t=this;this.iu()&&null===this.nu&&(this.nu=this.bs.Os(this.Xa,6e4,(function(){return t.au()})))},t.prototype.uu=function(t){this.cu(),this.stream.send(t)},t.prototype.au=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.iu()?[2,this.close(0)]:[2]}))}))},t.prototype.cu=function(){this.nu&&(this.nu.cancel(),this.nu=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.cu(),this.xo.cancel(),this.eu++,3!==t?this.xo.reset():e&&e.code===A.RESOURCE_EXHAUSTED?(p(e.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.xo.ks()):e&&e.code===A.UNAUTHENTICATED&&this.tu.Ua(),null!==this.stream&&(this.lu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener._u(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.lu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.fu(this.eu),n=this.eu;this.tu.getToken().then((function(e){t.eu===n&&t.du(e)}),(function(n){e((function(){var e=new D(A.UNKNOWN,"Fetching auth token failed: "+n.message);return t.wu(e)}))}))},t.prototype.du=function(t){var e=this,n=this.fu(this.eu);this.stream=this.Tu(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream._u((function(t){n((function(){return e.wu(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.ru=function(){var t=this;this.state=4,this.xo.xs((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.wu=function(t){return f("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.fu=function(t){var e=this;return function(n){e.bs.lr((function(){return e.eu===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),wo=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,o)||this).serializer=r,s}return r.__extends(e,t),e.prototype.Tu=function(t){return this.Za.Iu("Listen",t)},e.prototype.onMessage=function(t){this.xo.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:g()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(t,e){return t.Oe?(y(void 0===e||"string"==typeof e),K.fromBase64String(e||"")):(y(void 0===e||e instanceof Uint8Array),K.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?A.UNKNOWN:Z(t.code);return new D(e,t.message||"")}(s);n=new Et(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;var u=e.documentChange;u.document,u.document.name,u.document.updateTime;var l=re(t,u.document.name),c=te(u.document.updateTime),h=new Ze({mapValue:{fields:u.document.fields}}),d=new rn(l,c,h,{}),f=u.targetIds||[],p=u.removedTargetIds||[];n=new bt(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;var v=e.documentDelete;v.document;var m=re(t,v.document),_=v.readTime?te(v.readTime):P.min(),b=new on(m,_),w=v.removedTargetIds||[];n=new bt([],w,b.key,b)}else if("documentRemove"in e){e.documentRemove;var E=e.documentRemove;E.document;var k=re(t,E.document),C=E.removedTargetIds||[];n=new bt([],C,k,null)}else{if(!("filter"in e))return g();e.filter;var T=e.filter;T.targetId;var I=T.count||0,S=new Y(I),x=T.targetId;n=new wt(x,S)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return P.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?P.min():e.readTime?te(e.readTime):P.min()}(t);return this.listener.mu(e,n)},e.prototype.Au=function(t){var e={};e.database=ae(this.serializer),e.addTarget=function(t,e){var n,i=e.target;return(n=z(i)?{documents:de(t,i)}:{query:fe(t,i)}).targetId=e.targetId,e.resumeToken.H()>0&&(n.resumeToken=Jt(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return g()}}(0,e.J);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.uu(e)},e.prototype.Ru=function(t){var e={};e.database=ae(this.serializer),e.removeTarget=t,this.uu(e)},e}(bo),Eo=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,o)||this).serializer=r,s.Pu=!1,s}return r.__extends(e,t),Object.defineProperty(e.prototype,"Vu",{get:function(){return this.Pu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Pu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.lu=function(){this.Pu&&this.gu([])},e.prototype.Tu=function(t){return this.Za.Iu("Write",t)},e.prototype.onMessage=function(t){if(y(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Pu){this.xo.reset();var e=function(t,e){return t&&t.length>0?(y(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?te(t.updateTime):te(e);n.isEqual(P.min())&&(n=te(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults),new Re(n,i)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=te(t.commitTime);return this.listener.yu(n,e)}return y(!t.writeResults||0===t.writeResults.length),this.Pu=!0,this.listener.pu()},e.prototype.bu=function(){var t={};t.database=ae(this.serializer),this.uu(t)},e.prototype.gu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return ce(e.serializer,t)}))};this.uu(n)},e}(bo),ko=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Za=e,r.credentials=n,r.serializer=i,r.vu=!1,r}return r.__extends(e,t),e.prototype.Su=function(){if(this.vu)throw new D(A.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Du=function(t,e){var n=this;return this.Su(),this.credentials.getToken().then((function(i){return n.Za.Du(t,e,i)})).catch((function(t){throw t.code===A.UNAUTHENTICATED&&n.credentials.Ua(),t}))},e.prototype.Cu=function(t,e){var n=this;return this.Su(),this.credentials.getToken().then((function(i){return n.Za.Cu(t,e,i)})).catch((function(t){throw t.code===A.UNAUTHENTICATED&&n.credentials.Ua(),t}))},e}((function(){this.je=void 0})),Co=function(){function t(t){this.Fu=t,this.Nu=new Map,this.mutations=[],this.$u=!1,this.ku=null,this.xu=new Set}return t.prototype.Mu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.Ou(),this.mutations.length>0)throw new D(A.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return n=m(t),i={database:ae(n.serializer),documents:e.map((function(t){return ie(n.serializer,t)}))},[4,n.Cu("BatchGetDocuments",i)];case 1:return o=r.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){y(!!e.found),e.found.name,e.found.updateTime;var n=re(t,e.found.name),i=te(e.found.updateTime),r=new Ze({mapValue:{fields:e.found.fields}});return new rn(n,i,r,{})}(t,e):"missing"in e?function(t,e){y(!!e.missing),y(!!e.readTime);var n=re(t,e.missing),i=te(e.readTime);return new on(n,i)}(t,e):g()}(n.serializer,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());y(!!e),a.push(e)})),a)]}}))}))}(this.Fu,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof on||t instanceof rn?n.Lu(t):g()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.va(t,this.Ue(t))),this.xu.add(t)},t.prototype.update=function(t,e){try{this.write(e.va(t,this.Bu(t)))}catch(t){this.ku=t}this.xu.add(t)},t.prototype.delete=function(t){this.write([new Ye(t,this.Ue(t))]),this.xu.add(t)},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.Ou(),this.ku)throw this.ku;return t=this.Nu,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var i=new F(N.$(n));e.mutations.push(new Je(i,e.Ue(i)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return n=m(t),i={database:ae(n.serializer),writes:e.map((function(t){return ce(n.serializer,t)}))},[4,n.Du("Commit",i)];case 1:return r.sent(),[2]}}))}))}(this.Fu,this.mutations)];case 1:return n.sent(),this.$u=!0,[2]}}))}))},t.prototype.Lu=function(t){var e;if(t instanceof rn)e=t.version;else{if(!(t instanceof on))throw g();e=P.min()}var n=this.Nu.get(t.key.toString());if(n){if(!e.isEqual(n))throw new D(A.ABORTED,"Document version changed between two reads.")}else this.Nu.set(t.key.toString(),e)},t.prototype.Ue=function(t){var e=this.Nu.get(t.toString());return!this.xu.has(t)&&e?Be.updateTime(e):Be.Qe()},t.prototype.Bu=function(t){var e=this.Nu.get(t.toString());if(!this.xu.has(t)&&e){if(e.isEqual(P.min()))throw new D(A.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Be.updateTime(e)}return Be.exists(!0)},t.prototype.write=function(t){this.Ou(),this.mutations=this.mutations.concat(t)},t.prototype.Ou=function(){},t}(),To=function(){function t(t,e){this.Ro=t,this.qu=e,this.state="Unknown",this.Uu=0,this.Qu=null,this.Wu=!0}return t.prototype.ju=function(){var t=this;0===this.Uu&&(this.Ku("Unknown"),this.Qu=this.Ro.Os("online_state_timeout",1e4,(function(){return t.Qu=null,t.Gu("Backend didn't respond within 10 seconds."),t.Ku("Offline"),Promise.resolve()})))},t.prototype.zu=function(t){"Online"===this.state?this.Ku("Unknown"):(this.Uu++,this.Uu>=1&&(this.Hu(),this.Gu("Connection failed 1 times. Most recent error: "+t.toString()),this.Ku("Offline")))},t.prototype.set=function(t){this.Hu(),this.Uu=0,"Online"===t&&(this.Wu=!1),this.Ku(t)},t.prototype.Ku=function(t){t!==this.state&&(this.state=t,this.qu(t))},t.prototype.Gu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Wu?(p(e),this.Wu=!1):f("OnlineStateTracker",e)},t.prototype.Hu=function(){null!==this.Qu&&(this.Qu.cancel(),this.Qu=null)},t}(),Io=function(){function t(t,e,n,i,o){var s=this;this.Yu=t,this.Fu=e,this.Ro=n,this.Ju=[],this.Xu=new Map,this.Zu=null,this.tc=new Set,this.ec=o,this.ec.nc((function(t){n.lr((function(){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.sc()?(f("RemoteStore","Restarting streams for network reachability change."),[4,this.ic()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.rc=new To(n,i),this.oc=function(t,e,n){var i=m(t);return new wo(e,i.Za,i.credentials,i.serializer,n)}(this.Fu,n,{Eu:this.hc.bind(this),_u:this.ac.bind(this),mu:this.uc.bind(this)}),this.cc=function(t,e,n){var i=m(t);return new Eo(e,i.Za,i.credentials,i.serializer,n)}(this.Fu,n,{Eu:this.lc.bind(this),_u:this._c.bind(this),pu:this.fc.bind(this),yu:this.yu.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.tc.delete(0),this.dc()},t.prototype.dc=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.sc()?(this.wc()?this.Tc():this.rc.set("Unknown"),[4,this.Ec()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.disableNetwork=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.tc.add(0),[4,this.Ic()];case 1:return t.sent(),this.rc.set("Offline"),[2]}}))}))},t.prototype.Ic=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.cc.stop()];case 1:return t.sent(),[4,this.oc.stop()];case 2:return t.sent(),this.Ju.length>0&&(f("RemoteStore","Stopping write stream with "+this.Ju.length+" pending writes"),this.Ju=[]),this.mc(),[2]}}))}))},t.prototype.yr=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return f("RemoteStore","RemoteStore shutting down."),this.tc.add(5),[4,this.Ic()];case 1:return t.sent(),this.ec.yr(),this.rc.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.Xu.has(t.targetId)||(this.Xu.set(t.targetId,t),this.wc()?this.Tc():this.oc.iu()&&this.Ac(t))},t.prototype.Rc=function(t){this.Xu.delete(t),this.oc.iu()&&this.Pc(t),0===this.Xu.size&&(this.oc.iu()?this.oc.hu():this.sc()&&this.rc.set("Unknown"))},t.prototype.Me=function(t){return this.Xu.get(t)||null},t.prototype.xe=function(t){return this.Vc.xe(t)},t.prototype.Ac=function(t){this.Zu.de(t.targetId),this.oc.Au(t)},t.prototype.Pc=function(t){this.Zu.de(t),this.oc.Ru(t)},t.prototype.Tc=function(){this.Zu=new Ct(this),this.oc.start(),this.rc.ju()},t.prototype.wc=function(){return this.sc()&&!this.oc.su()&&this.Xu.size>0},t.prototype.sc=function(){return 0===this.tc.size},t.prototype.mc=function(){this.Zu=null},t.prototype.hc=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){return this.Xu.forEach((function(e,n){t.Ac(e)})),[2]}))}))},t.prototype.ac=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.mc(),this.wc()?(this.rc.zu(t),this.Tc()):this.rc.set("Unknown"),[2]}))}))},t.prototype.uc=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:if(this.rc.set("Online"),!(t instanceof Et&&2===t.state&&t.cause))return[3,6];r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this.gc(t)];case 2:return r.sent(),[3,5];case 3:return n=r.sent(),f("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.yc(n)];case 4:return r.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof bt?this.Zu.Pe(t):t instanceof wt?this.Zu.De(t):this.Zu.ye(t),e.isEqual(P.min()))return[3,13];r.label=7;case 7:return r.trys.push([7,11,,13]),[4,this.Yu.mi()];case 8:return i=r.sent(),e.o(i)>=0?[4,this.pc(e)]:[3,10];case 9:r.sent(),r.label=10;case 10:return[3,13];case 11:return f("RemoteStore","Failed to raise snapshot:",o=r.sent()),[4,this.yc(o)];case 12:return r.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.yc=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(!qi(t))throw t;return this.tc.add(1),[4,this.Ic()];case 1:return i.sent(),this.rc.set("Offline"),e||(e=function(){return n.Yu.mi()}),this.Ro.dr((function(){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return f("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.tc.delete(1),[4,this.dc()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.bc=function(t){var e=this;return t().catch((function(n){return e.yc(n,t)}))},t.prototype.pc=function(t){var e=this,n=this.Zu.Ne(t);return n.Qt.forEach((function(n,i){if(n.resumeToken.H()>0){var r=e.Xu.get(i);r&&e.Xu.set(i,r.tt(n.resumeToken,t))}})),n.Wt.forEach((function(t){var n=e.Xu.get(t);if(n){e.Xu.set(t,n.tt(K.Y,n.X)),e.Pc(t);var i=new X(n.target,t,1,n.sequenceNumber);e.Ac(i)}})),this.Vc.qh(n)},t.prototype.gc=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:e=t.cause,n=0,i=t.targetIds,r.label=1;case 1:return n<i.length?(o=i[n],this.Xu.has(o)?[4,this.Vc.vc(o,e)]:[3,3]):[3,5];case 2:r.sent(),this.Xu.delete(o),this.Zu.removeTarget(o),r.label=3;case 3:r.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.Ec=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n;return r.__generator(this,(function(i){switch(i.label){case 0:t=this.Ju.length>0?this.Ju[this.Ju.length-1].batchId:-1,i.label=1;case 1:if(!this.Sc())return[3,7];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,this.Yu.jh(t)];case 3:return null===(e=i.sent())?(0===this.Ju.length&&this.cc.hu(),[3,7]):(t=e.batchId,this.Dc(e),[3,6]);case 4:return n=i.sent(),[4,this.yc(n)];case 5:return i.sent(),[3,6];case 6:return[3,1];case 7:return this.Cc()&&this.Fc(),[2]}}))}))},t.prototype.Sc=function(){return this.sc()&&this.Ju.length<10},t.prototype.Nc=function(){return this.Ju.length},t.prototype.Dc=function(t){this.Ju.push(t),this.cc.iu()&&this.cc.Vu&&this.cc.gu(t.mutations)},t.prototype.Cc=function(){return this.sc()&&!this.cc.su()&&this.Ju.length>0},t.prototype.Fc=function(){this.cc.start()},t.prototype.lc=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.cc.bu(),[2]}))}))},t.prototype.fc=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n;return r.__generator(this,(function(i){for(t=0,e=this.Ju;t<e.length;t++)n=e[t],this.cc.gu(n.mutations);return[2]}))}))},t.prototype.yu=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:return n=this.Ju.shift(),i=Sn.from(n,t,e),[4,this.bc((function(){return o.Vc.$c(i)}))];case 1:return r.sent(),[4,this.Ec()];case 2:return r.sent(),[2]}}))}))},t.prototype._c=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return t&&this.cc.Vu?[4,this.kc(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Cc()&&this.Fc(),[2]}}))}))},t.prototype.kc=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return J(n=t.code)&&n!==A.ABORTED?(e=this.Ju.shift(),this.cc.ou(),[4,this.bc((function(){return i.Vc.xc(e.batchId,t)}))]):[3,3];case 1:return r.sent(),[4,this.Ec()];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.Mc=function(){return new Co(this.Fu)},t.prototype.ic=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.tc.add(4),[4,this.Ic()];case 1:return t.sent(),this.rc.set("Unknown"),this.tc.delete(4),[4,this.dc()];case 2:return t.sent(),[2]}}))}))},t.prototype.Oc=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Ro.Ko(),f("RemoteStore","RemoteStore received new credentials"),this.tc.add(3),[4,this.Ic()];case 1:return e.sent(),this.rc.set("Unknown"),[4,this.Vc.Oc(t)];case 2:return e.sent(),this.tc.delete(3),[4,this.dc()];case 3:return e.sent(),[2]}}))}))},t.prototype.Lc=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return t?(this.tc.delete(2),[4,this.dc()]):[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:(this.tc.add(2),[4,this.Ic()]);case 3:e.sent(),this.rc.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function So(t,e){return"firestore_clients_"+t+"_"+e}function xo(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.Yr()&&(i+="_"+e.uid),i}function Oo(t,e){return"firestore_targets_"+t+"_"+e}var Ao=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.Bc=function(e,n,i){var r=JSON.parse(i),o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new D(r.error.code,r.error.message)),o?new t(e,n,r.state,s):(p("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.qc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Do=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Bc=function(e,n){var i=JSON.parse(n),r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new D(i.error.code,i.error.message)),r?new t(e,i.state,o):(p("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.qc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Mo=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Bc=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,o=pt(),s=0;r&&s<i.activeTargetIds.length;++s)r=V(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new t(e,o):(p("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Po=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Bc=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(p("SharedClientState","Failed to parse online state: "+e),null)},t}(),Lo=function(){function t(){this.activeTargetIds=pt()}return t.prototype.Uc=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Qc=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.qc=function(){var t={activeTargetIds:this.activeTargetIds.F(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),No=function(){function t(t,e,n,i,r){this.window=t,this.bs=e,this.persistenceKey=n,this.Wc=i,this.Vc=null,this.qu=null,this.Ps=null,this.jc=this.Kc.bind(this),this.Gc=new tt(w),this.hr=!1,this.zc=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.Hc=So(this.persistenceKey,this.Wc),this.Yc=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Gc=this.Gc.nt(this.Wc,new Lo),this.Jc=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Xc=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Zc=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.tl=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.jc)}return t.Hi=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,s,a,u,l,c,h,d=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.Vc.Dr()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Wc&&(o=this.getItem(So(this.persistenceKey,i)))&&(s=Mo.Bc(i,o))&&(this.Gc=this.Gc.nt(s.clientId,s));for(this.el(),(a=this.storage.getItem(this.tl))&&(u=this.nl(a))&&this.sl(u),l=0,c=this.zc;l<c.length;l++)h=c[l],this.Kc(h);return this.zc=[],this.window.addEventListener("unload",(function(){return d.yr()})),this.hr=!0,[2]}}))}))},t.prototype.ys=function(t){this.setItem(this.Yc,JSON.stringify(t))},t.prototype.il=function(){return this.rl(this.Gc)},t.prototype.ol=function(t){var e=!1;return this.Gc.forEach((function(n,i){i.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.hl=function(t){this.al(t,"pending")},t.prototype.ul=function(t,e,n){this.al(t,e,n),this.cl(t)},t.prototype.ll=function(t){var e="not-current";if(this.ol(t)){var n=this.storage.getItem(Oo(this.persistenceKey,t));if(n){var i=Do.Bc(t,n);i&&(e=i.state)}}return this._l.Uc(t),this.el(),e},t.prototype.fl=function(t){this._l.Qc(t),this.el()},t.prototype.dl=function(t){return this._l.activeTargetIds.has(t)},t.prototype.wl=function(t){this.removeItem(Oo(this.persistenceKey,t))},t.prototype.Tl=function(t,e,n){this.El(t,e,n)},t.prototype.Nh=function(t,e,n){var i=this;e.forEach((function(t){i.cl(t)})),this.currentUser=t,n.forEach((function(t){i.hl(t)}))},t.prototype.Il=function(t){this.ml(t)},t.prototype.yr=function(){this.hr&&(this.window.removeEventListener("storage",this.jc),this.removeItem(this.Hc),this.hr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){f("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Kc=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(f("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Hc)return void p("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bs.dr((function(){return r.__awaiter(e,void 0,void 0,(function(){var t,e,i,o,s,a;return r.__generator(this,(function(r){if(this.hr){if(null!==n.key)if(this.Jc.test(n.key)){if(null==n.newValue)return t=this.Al(n.key),[2,this.Rl(t,null)];if(e=this.Pl(n.key,n.newValue))return[2,this.Rl(e.clientId,e)]}else if(this.Xc.test(n.key)){if(null!==n.newValue&&(i=this.Vl(n.key,n.newValue)))return[2,this.gl(i)]}else if(this.Zc.test(n.key)){if(null!==n.newValue&&(o=this.yl(n.key,n.newValue)))return[2,this.pl(o)]}else if(n.key===this.tl){if(null!==n.newValue&&(s=this.nl(n.newValue)))return[2,this.sl(s)]}else n.key===this.Yc&&(a=function(t){var e=Ln.ps;if(null!=t)try{var n=JSON.parse(t);y("number"==typeof n),e=n}catch(t){p("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ln.ps&&this.Ps(a)}else this.zc.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"_l",{get:function(){return this.Gc.get(this.Wc)},enumerable:!1,configurable:!0}),t.prototype.el=function(){this.setItem(this.Hc,this._l.qc())},t.prototype.al=function(t,e,n){var i=new Ao(this.currentUser,t,e,n),r=xo(this.persistenceKey,this.currentUser,t);this.setItem(r,i.qc())},t.prototype.cl=function(t){var e=xo(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ml=function(t){var e={clientId:this.Wc,onlineState:t};this.storage.setItem(this.tl,JSON.stringify(e))},t.prototype.El=function(t,e,n){var i=Oo(this.persistenceKey,t),r=new Do(t,e,n);this.setItem(i,r.qc())},t.prototype.Al=function(t){var e=this.Jc.exec(t);return e?e[1]:null},t.prototype.Pl=function(t,e){var n=this.Al(t);return Mo.Bc(n,e)},t.prototype.Vl=function(t,e){var n=this.Xc.exec(t),i=Number(n[1]),r=void 0!==n[2]?n[2]:null;return Ao.Bc(new po(r),i,e)},t.prototype.yl=function(t,e){var n=this.Zc.exec(t),i=Number(n[1]);return Do.Bc(i,e)},t.prototype.nl=function(t){return Po.Bc(t)},t.prototype.gl=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.Vc.bl(t.batchId,t.state,t.error)]:(f("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.pl=function(t){return this.Vc.vl(t.targetId,t.state,t.error)},t.prototype.Rl=function(t,e){var n=this,i=e?this.Gc.nt(t,e):this.Gc.remove(t),r=this.rl(this.Gc),o=this.rl(i),s=[],a=[];return o.forEach((function(t){r.has(t)||s.push(t)})),r.forEach((function(t){o.has(t)||a.push(t)})),this.Vc.Sl(s,a).then((function(){n.Gc=i}))},t.prototype.sl=function(t){this.Gc.get(t.clientId)&&this.qu(t.onlineState)},t.prototype.rl=function(t){var e=pt();return t.forEach((function(t,n){e=e.Ct(n.activeTargetIds)})),e},t}(),Ro=function(){function t(){this.Dl=new Lo,this.Cl={},this.Vc=null,this.qu=null,this.Ps=null}return t.prototype.hl=function(t){},t.prototype.ul=function(t,e,n){},t.prototype.ll=function(t){return this.Dl.Uc(t),this.Cl[t]||"not-current"},t.prototype.Tl=function(t,e,n){this.Cl[t]=e},t.prototype.fl=function(t){this.Dl.Qc(t)},t.prototype.dl=function(t){return this.Dl.activeTargetIds.has(t)},t.prototype.wl=function(t){delete this.Cl[t]},t.prototype.il=function(){return this.Dl.activeTargetIds},t.prototype.ol=function(t){return this.Dl.activeTargetIds.has(t)},t.prototype.start=function(){return this.Dl=new Lo,Promise.resolve()},t.prototype.Nh=function(t,e,n){},t.prototype.Il=function(t){},t.prototype.yr=function(){},t.prototype.ys=function(t){},t}(),Bo=function(t){this.key=t},Fo=function(t){this.key=t},jo=function(){function t(t,e){this.query=t,this.Fl=e,this.Nl=null,this.Ht=!1,this.$l=dt(),this.Lt=dt(),this.kl=dn(t),this.xl=new vt(this.kl)}return Object.defineProperty(t.prototype,"Ml",{get:function(){return this.Fl},enumerable:!1,configurable:!0}),t.prototype.Ol=function(t,e){var n=this,i=e?e.Ll:new gt,r=e?e.xl:this.xl,o=e?e.Lt:this.Lt,s=r,a=!1,u=this.query.In()&&r.size===this.query.limit?r.last():null,l=this.query.mn()&&r.size===this.query.limit?r.first():null;if(t.ot((function(t,e){var c=r.get(t),h=e instanceof rn?e:null;h&&(h=hn(n.query,h)?h:null);var d=!!c&&n.Lt.has(c.key),f=!!h&&(h.Ge||n.Lt.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?d!==f&&(i.track({type:3,doc:h}),p=!0):n.Bl(c,h)||(i.track({type:2,doc:h}),p=!0,(u&&n.kl(h,u)>0||l&&n.kl(h,l)<0)&&(a=!0)):!c&&h?(i.track({type:0,doc:h}),p=!0):c&&!h&&(i.track({type:1,doc:c}),p=!0,(u||l)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.In()||this.query.mn())for(;s.size>this.query.limit;){var c=this.query.In()?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),i.track({type:1,doc:c})}return{xl:s,Ll:i,ql:a,Lt:o}},t.prototype.Bl=function(t,e){return t.Ge&&e.hasCommittedMutations&&!e.Ge},t.prototype.Jn=function(t,e,n){var i=this,r=this.xl;this.xl=t.xl,this.Lt=t.Lt;var o=t.Ll.Mt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g()}};return n(t)-n(e)}(t.type,e.type)||i.kl(t.doc,e.doc)})),this.Ul(n);var s=e?this.Ql():[],a=0===this.$l.size&&this.Ht?1:0,u=a!==this.Nl;return this.Nl=a,0!==o.length||u?{snapshot:new yt(this.query,t.xl,r,o,t.Lt,0===a,u,!1),Wl:s}:{Wl:s}},t.prototype.jl=function(t){return this.Ht&&"Offline"===t?(this.Ht=!1,this.Jn({xl:this.xl,Ll:new gt,Lt:this.Lt,ql:!1},!1)):{Wl:[]}},t.prototype.Kl=function(t){return!this.Fl.has(t)&&!!this.xl.has(t)&&!this.xl.get(t).Ge},t.prototype.Ul=function(t){var e=this;t&&(t.Yt.forEach((function(t){return e.Fl=e.Fl.add(t)})),t.Jt.forEach((function(t){})),t.Xt.forEach((function(t){return e.Fl=e.Fl.delete(t)})),this.Ht=t.Ht)},t.prototype.Ql=function(){var t=this;if(!this.Ht)return[];var e=this.$l;this.$l=dt(),this.xl.forEach((function(e){t.Kl(e.key)&&(t.$l=t.$l.add(e.key))}));var n=[];return e.forEach((function(e){t.$l.has(e)||n.push(new Fo(e))})),this.$l.forEach((function(t){e.has(t)||n.push(new Bo(t))})),n},t.prototype.Gl=function(t){this.Fl=t.Yh,this.$l=dt();var e=this.Ol(t.documents);return this.Jn(e,!0)},t.prototype.zl=function(){return yt.Ut(this.query,this.xl,this.Lt,0===this.Nl)},t}(),Uo=function(){function t(t,e,n,i){this.Ro=t,this.Fu=e,this.updateFunction=n,this.yo=i,this.Hl=5,this.xo=new Rn(this.Ro,"transaction_retry")}return t.prototype.run=function(){this.Yl()},t.prototype.Yl=function(){var t=this;this.xo.xs((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(i){return t=new Co(this.Fu),(e=this.Jl(t))&&e.then((function(e){n.Ro.lr((function(){return t.commit().then((function(){n.yo.resolve(e)})).catch((function(t){n.Xl(t)}))}))})).catch((function(t){n.Xl(t)})),[2]}))}))}))},t.prototype.Jl=function(t){try{var e=this.updateFunction(t);return!j(e)&&e.catch&&e.then?e:(this.yo.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.yo.reject(t),null}},t.prototype.Xl=function(t){var e=this;this.Hl>0&&this.Zl(t)?(this.Hl-=1,this.Ro.lr((function(){return e.Yl(),Promise.resolve()}))):this.yo.reject(t)},t.prototype.Zl=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!J(e)}return!1},t}(),Vo=function(t,e,n){this.query=t,this.targetId=e,this.view=n},$o=function(t){this.key=t,this.t_=!1},Wo=function(){function t(t,e,n,i,r,o){this.Yu=t,this.e_=e,this.Fu=n,this.n_=i,this.currentUser=r,this.s_=o,this.i_=null,this.r_=new O((function(t){return ln(t)}),un),this.o_=new Map,this.h_=[],this.a_=new tt(F.P),this.u_=new Map,this.c_=new cr,this.l_={},this.__=new Map,this.f_=si.di(),this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"d_",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.i_=t},t.prototype.listen=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return this.w_("listen()"),(i=this.r_.get(t))?(e=i.targetId,this.n_.ll(e),n=i.view.zl(),[3,4]):[3,1];case 1:return[4,this.Yu.Gh(t.We())];case 2:return o=r.sent(),s=this.n_.ll(o.targetId),e=o.targetId,[4,this.T_(t,e,"current"===s)];case 3:n=r.sent(),this.d_&&this.e_.listen(o),r.label=4;case 4:return[2,n]}}))}))},t.prototype.T_=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,l;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.Yu.Hh(t,!0)];case 1:return i=r.sent(),o=new jo(t,i.Yh),s=o.Ol(i.documents),a=_t.zt(e,n&&"Offline"!==this.onlineState),u=o.Jn(s,this.d_,a),this.E_(e,u.Wl),l=new Vo(t,e,o),[2,(this.r_.set(t,l),this.o_.has(e)?this.o_.get(e).push(t):this.o_.set(e,[t]),u.snapshot)]}}))}))},t.prototype.Rc=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.w_("unlisten()"),e=this.r_.get(t),(n=this.o_.get(e.targetId)).length>1?[2,(this.o_.set(e.targetId,n.filter((function(e){return!un(e,t)}))),void this.r_.delete(t))]:this.d_?(this.n_.fl(e.targetId),this.n_.ol(e.targetId)?[3,2]:[4,this.Yu.zh(e.targetId,!1).then((function(){i.n_.wl(e.targetId),i.e_.Rc(e.targetId),i.I_(e.targetId)})).catch(lr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.I_(e.targetId),[4,this.Yu.zh(e.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:this.w_("write()"),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,this.Yu.Mh(t)];case 2:return n=r.sent(),this.n_.hl(n.batchId),this.m_(n.batchId,e),[4,this.A_(n.Un)];case 3:return r.sent(),[4,this.e_.Ec()];case 4:return r.sent(),[3,6];case 5:return i=r.sent(),o=tr(i,"Failed to persist write"),e.reject(o),[3,6];case 6:return[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new Uo(t,this.Fu,e,n).run()},t.prototype.qh=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:this.w_("applyRemoteEvent()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.Yu.qh(t)];case 2:return e=i.sent(),t.Qt.forEach((function(t,e){var i=n.u_.get(e);i&&(y(t.Yt.size+t.Jt.size+t.Xt.size<=1),t.Yt.size>0?i.t_=!0:t.Jt.size>0?y(i.t_):t.Xt.size>0&&(y(i.t_),i.t_=!1))})),[4,this.A_(e,t)];case 3:return i.sent(),[3,6];case 4:return[4,lr(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.jl=function(t,e){this.w_("applyOnlineStateChange()");var n=[];this.r_.forEach((function(e,i){var r=i.view.jl(t);r.snapshot&&n.push(r.snapshot)})),this.i_.R_(t),this.i_.mu(n),this.onlineState=t},t.prototype.vc=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.w_("rejectListens()"),this.n_.Tl(t,"rejected",e),n=this.u_.get(t),(i=n&&n.key)?(o=(o=new tt(F.P)).nt(i,new on(i,P.min())),s=dt().add(i),a=new mt(P.min(),new Map,new it(w),o,s),[4,this.qh(a)]):[3,2];case 1:return r.sent(),this.a_=this.a_.remove(i),this.u_.delete(t),this.P_(),[3,4];case 2:return[4,this.Yu.zh(t,!1).then((function(){return u.I_(t,e)})).catch(lr)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},t.prototype.$c=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(i){switch(i.label){case 0:this.w_("applySuccessfulWrite()"),e=t.batch.batchId,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.Yu.Oh(t)];case 2:return n=i.sent(),this.V_(e,null),this.g_(e),this.n_.ul(e,"acknowledged"),[4,this.A_(n)];case 3:return i.sent(),[3,6];case 4:return[4,lr(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.xc=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(i){switch(i.label){case 0:this.w_("rejectFailedWrite()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.Yu.Bh(t)];case 2:return n=i.sent(),this.V_(t,e),this.g_(t),this.n_.ul(t,"rejected",e),[4,this.A_(n)];case 3:return i.sent(),[3,6];case 4:return[4,lr(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.y_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:this.e_.sc()||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.Yu.no()];case 2:return-1===(e=r.sent())?[2,void t.resolve()]:((n=this.__.get(e)||[]).push(t),this.__.set(e,n),[3,4]);case 3:return i=r.sent(),o=tr(i,"Initialization of waitForPendingWrites() operation failed"),t.reject(o),[3,4];case 4:return[2]}}))}))},t.prototype.g_=function(t){(this.__.get(t)||[]).forEach((function(t){t.resolve()})),this.__.delete(t)},t.prototype.p_=function(t){this.__.forEach((function(e){e.forEach((function(e){e.reject(new D(A.CANCELLED,t))}))})),this.__.clear()},t.prototype.m_=function(t,e){var n=this.l_[this.currentUser.Ma()];n||(n=new tt(w)),n=n.nt(t,e),this.l_[this.currentUser.Ma()]=n},t.prototype.V_=function(t,e){var n=this.l_[this.currentUser.Ma()];if(n){var i=n.get(t);i&&(e?i.reject(e):i.resolve(),n=n.remove(t)),this.l_[this.currentUser.Ma()]=n}},t.prototype.I_=function(t,e){var n=this;void 0===e&&(e=null),this.n_.fl(t);for(var i=0,r=this.o_.get(t);i<r.length;i++){var o=r[i];this.r_.delete(o),e&&this.i_.b_(o,e)}this.o_.delete(t),this.d_&&this.c_.aa(t).forEach((function(t){n.c_.Mi(t)||n.v_(t)}))},t.prototype.v_=function(t){var e=this.a_.get(t);null!==e&&(this.e_.Rc(e),this.a_=this.a_.remove(t),this.u_.delete(e),this.P_())},t.prototype.E_=function(t,e){for(var n=0,i=e;n<i.length;n++){var r=i[n];r instanceof Bo?(this.c_.Fi(r.key,t),this.S_(r)):r instanceof Fo?(f("SyncEngine","Document no longer in limbo: "+r.key),this.c_.$i(r.key,t),this.c_.Mi(r.key)||this.v_(r.key)):g()}},t.prototype.S_=function(t){var e=t.key;this.a_.get(e)||(f("SyncEngine","New document in limbo: "+e),this.h_.push(e),this.P_())},t.prototype.P_=function(){for(;this.h_.length>0&&this.a_.size<this.s_;){var t=this.h_.shift(),e=this.f_.next();this.u_.set(e,new $o(t)),this.a_=this.a_.nt(t,e),this.e_.listen(new X(an.hn(t.path).We(),e,2,Ln.ps))}},t.prototype.D_=function(){return this.a_},t.prototype.C_=function(){return this.h_},t.prototype.A_=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s=this;return r.__generator(this,(function(r){switch(r.label){case 0:return n=[],i=[],o=[],this.r_.forEach((function(r,a){o.push(Promise.resolve().then((function(){var e=a.view.Ol(t);return e.ql?s.Yu.Hh(a.query,!1).then((function(t){var n=t.documents;return a.view.Ol(n,e)})):e})).then((function(t){var r=e&&e.Qt.get(a.targetId),o=a.view.Jn(t,s.d_,r);if(s.E_(a.targetId,o.Wl),o.snapshot){s.d_&&s.n_.Tl(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=Pn.Rs(a.targetId,o.snapshot);i.push(u)}})))})),[4,Promise.all(o)];case 1:return r.sent(),this.i_.mu(n),[4,this.Yu.Wh(i)];case 2:return r.sent(),[2]}}))}))},t.prototype.w_=function(t){},t.prototype.Oc=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(f("SyncEngine","User change. New user:",t.Ma()),[4,this.Yu.Nh(t)]);case 1:return e=n.sent(),this.currentUser=t,this.p_("'waitForPendingWrites' promise is rejected due to a user change."),this.n_.Nh(t,e.kh,e.xh),[4,this.A_(e.$h)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.e_.enableNetwork()},t.prototype.disableNetwork=function(){return this.e_.disableNetwork()},t.prototype.xe=function(t){var e=this.u_.get(t);if(e&&e.t_)return dt().add(e.key);var n=dt(),i=this.o_.get(t);if(!i)return n;for(var r=0,o=i;r<o.length;r++){var s=o[r],a=this.r_.get(s);n=n.Ct(a.view.Ml)}return n},t}(),Ho=function(t){function e(e,n,i,r,o,s){var a=this;return(a=t.call(this,e,n,i,r,o,s)||this).Yu=e,a.F_=void 0,a}return r.__extends(e,t),Object.defineProperty(e.prototype,"d_",{get:function(){return!0===this.F_},enumerable:!1,configurable:!0}),e.prototype.enableNetwork=function(){return this.Yu.cr(!0),t.prototype.enableNetwork.call(this)},e.prototype.disableNetwork=function(){return this.Yu.cr(!1),t.prototype.disableNetwork.call(this)},e.prototype.N_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(i){switch(i.label){case 0:return[4,this.Yu.Hh(t.query,!0)];case 1:return e=i.sent(),n=t.view.Gl(e),[2,(this.F_&&this.E_(t.targetId,n.Wl),n)]}}))}))},e.prototype.jl=function(e,n){this.d_&&0===n&&(t.prototype.jl.call(this,e,n),this.n_.Il(e)),this.d_||1!==n||t.prototype.jl.call(this,e,n)},e.prototype.bl=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i;return r.__generator(this,(function(r){switch(r.label){case 0:return this.w_("applyBatchState()"),[4,this.Yu.Xh(t)];case 1:return null===(i=r.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.e_.Ec()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.V_(t,n||null),this.Yu.Zh(t)):g(),r.label=4;case 4:return[4,this.A_(i)];case 5:return r.sent(),[3,7];case 6:f("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))},e.prototype.Lc=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a,u,l=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!0!==t||!0===this.F_?[3,3]:(e=this.n_.il(),[4,this.k_(e.F(),!0)]);case 1:return n=r.sent(),this.F_=!0,[4,this.e_.Lc(!0)];case 2:for(r.sent(),i=0,o=n;i<o.length;i++)s=o[i],this.e_.listen(s);return[3,7];case 3:return!1!==t||!1===this.F_?[3,7]:(a=[],u=Promise.resolve(),this.o_.forEach((function(t,e){l.n_.dl(e)?a.push(e):u=u.then((function(){return l.I_(e),l.Yu.zh(e,!0)})),l.e_.Rc(e)})),[4,u]);case 4:return r.sent(),[4,this.k_(a,!1)];case 5:return r.sent(),this.x_(),this.F_=!1,[4,this.e_.Lc(!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))},e.prototype.x_=function(){var t=this;this.u_.forEach((function(e,n){t.e_.Rc(n)})),this.c_.ua(),this.u_=new Map,this.a_=new tt(F.P)},e.prototype.k_=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a,u,l,c,h,d,f,p;return r.__generator(this,(function(r){switch(r.label){case 0:e=[],n=[],i=0,o=t,r.label=1;case 1:return i<o.length?(s=o[i],a=void 0,(u=this.o_.get(s))&&0!==u.length?[4,this.Yu.Gh(u[0].We())]:[3,7]):[3,13];case 2:a=r.sent(),l=0,c=u,r.label=3;case 3:return l<c.length?(h=c[l],d=this.r_.get(h),[4,this.N_(d)]):[3,6];case 4:(f=r.sent()).snapshot&&n.push(f.snapshot),r.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,this.Yu.ta(s)];case 8:return p=r.sent(),[4,this.Yu.Gh(p)];case 9:return a=r.sent(),[4,this.T_(this.M_(p),s,!1)];case 10:r.sent(),r.label=11;case 11:e.push(a),r.label=12;case 12:return i++,[3,1];case 13:return[2,(this.i_.mu(n),e)]}}))}))},e.prototype.M_=function(t){return new an(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},e.prototype.Dr=function(){return this.Yu.Dr()},e.prototype.vl=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return this.F_?(f("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.o_.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.Yu.si()];case 3:return i=r.sent(),o=mt.Gt(t,"current"===e),[4,this.A_(i,o)];case 4:return r.sent(),[3,8];case 5:return[4,this.Yu.zh(t,!0)];case 6:return r.sent(),this.I_(t,n),[3,8];case 7:g(),r.label=8;case 8:return[2]}}))}))},e.prototype.Sl=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,l,c,h,d,p=this;return r.__generator(this,(function(v){switch(v.label){case 0:if(!this.F_)return[3,10];n=0,i=t,v.label=1;case 1:return n<i.length?(o=i[n],this.o_.has(o)?(f("SyncEngine","Adding an already active target "+o),[3,5]):[4,this.Yu.ta(o)]):[3,6];case 2:return s=v.sent(),[4,this.Yu.Gh(s)];case 3:return a=v.sent(),[4,this.T_(this.M_(s),a.targetId,!1)];case 4:v.sent(),this.e_.listen(a),v.label=5;case 5:return n++,[3,1];case 6:u=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return l.o_.has(t)?[4,l.Yu.zh(t,!1).then((function(){p.e_.Rc(t),p.I_(t)})).catch(lr)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=this,c=0,h=e,v.label=7;case 7:return c<h.length?(d=h[c],[5,u(d)]):[3,10];case 8:v.sent(),v.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))},e}(Wo),qo=function(){this.O_=void 0,this.listeners=[]},zo=function(){function t(t){this.Vc=t,this.L_=new O((function(t){return ln(t)}),un),this.onlineState="Unknown",this.B_=new Set,this.Vc.subscribe(this)}return t.prototype.listen=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:if(e=t.query,n=!1,(i=this.L_.get(e))||(n=!0,i=new qo),!n)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),o=i,[4,this.Vc.listen(e)];case 2:return o.O_=r.sent(),[3,4];case 3:return s=r.sent(),a=tr(s,"Initialization of query '"+cn(t.query)+"' failed"),[2,void t.onError(a)];case 4:return this.L_.set(e,i),i.listeners.push(t),t.jl(this.onlineState),i.O_&&t.q_(i.O_)&&this.U_(),[2]}}))}))},t.prototype.Rc=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){return e=t.query,n=!1,(i=this.L_.get(e))&&(o=i.listeners.indexOf(t))>=0&&(i.listeners.splice(o,1),n=0===i.listeners.length),n?[2,(this.L_.delete(e),this.Vc.Rc(e))]:[2]}))}))},t.prototype.mu=function(t){for(var e=!1,n=0,i=t;n<i.length;n++){var r=i[n],o=r.query,s=this.L_.get(o);if(s){for(var a=0,u=s.listeners;a<u.length;a++)u[a].q_(r)&&(e=!0);s.O_=r}}e&&this.U_()},t.prototype.b_=function(t,e){var n=this.L_.get(t);if(n)for(var i=0,r=n.listeners;i<r.length;i++)r[i].onError(e);this.L_.delete(t)},t.prototype.R_=function(t){this.onlineState=t;var e=!1;this.L_.forEach((function(n,i){for(var r=0,o=i.listeners;r<o.length;r++)o[r].jl(t)&&(e=!0)})),e&&this.U_()},t.prototype.Q_=function(t){this.B_.add(t),t.next()},t.prototype.W_=function(t){this.B_.delete(t)},t.prototype.U_=function(){this.B_.forEach((function(t){t.next()}))},t}(),Ko=function(){function t(t,e,n){this.query=t,this.j_=e,this.K_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.q_=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new yt(t.query,t.docs,t.Ot,e,t.Lt,t.fromCache,t.Bt,!0)}var o=!1;return this.K_?this.z_(t)&&(this.j_.next(t),o=!0):this.H_(t,this.onlineState)&&(this.Y_(t),o=!0),this.G_=t,o},t.prototype.onError=function(t){this.j_.error(t)},t.prototype.jl=function(t){this.onlineState=t;var e=!1;return this.G_&&!this.K_&&this.H_(this.G_,t)&&(this.Y_(this.G_),e=!0),e},t.prototype.H_=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.J_&&n||t.docs._()&&"Offline"!==e)},t.prototype.z_=function(t){if(t.docChanges.length>0)return!0;var e=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.Bt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Y_=function(t){t=yt.Ut(t.query,t.docs,t.Lt,t.fromCache),this.K_=!0,this.j_.next(t)},t}(),Qo=function(){function t(){}return t.prototype.Fh=function(t){this.X_=t},t.prototype._s=function(t,e,n,i){var r=this;return e.En()||n.isEqual(P.min())?this.Z_(t,e):this.X_.us(t,i).next((function(o){var a=r.tf(e,o);return(e.In()||e.mn())&&r.ql(e.nn,a,i,n)?r.Z_(t,e):(d()<=s.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),cn(e)),r.X_._s(t,e,n).next((function(t){return a.forEach((function(e){t=t.nt(e.key,e)})),t})))}))},t.prototype.tf=function(t,e){var n=new it(dn(t));return e.forEach((function(e,i){i instanceof rn&&hn(t,i)&&(n=n.add(i))})),n},t.prototype.ql=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.o(i)>0)},t.prototype.Z_=function(t,e){return d()<=s.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Using full collection scan to execute query:",cn(e)),this.X_._s(t,e,P.min())},t}(),Go=function(){function t(t,e){this.ss=t,this.wi=e,this.ns=[],this.ef=1,this.nf=new it(hr.na)}return t.prototype.Jr=function(t){return xn.resolve(0===this.ns.length)},t.prototype.Xr=function(t,e,n,i){var r=this.ef;this.ef++,this.ns.length>0&&this.ns[this.ns.length-1];var o=new In(r,e,n,i);this.ns.push(o);for(var s=0,a=i;s<a.length;s++){var u=a[s];this.nf=this.nf.add(new hr(u.key,r)),this.ss.Us(t,u.key.path.p())}return xn.resolve(o)},t.prototype.Zr=function(t,e){return xn.resolve(this.sf(e))},t.prototype.eo=function(t,e){var n=e+1,i=this.if(n),r=i<0?0:i;return xn.resolve(this.ns.length>r?this.ns[r]:null)},t.prototype.no=function(){return xn.resolve(0===this.ns.length?-1:this.ef-1)},t.prototype.so=function(t){return xn.resolve(this.ns.slice())},t.prototype.os=function(t,e){var n=this,i=new hr(e,0),r=new hr(e,Number.POSITIVE_INFINITY),o=[];return this.nf.vt([i,r],(function(t){var e=n.sf(t.la);o.push(e)})),xn.resolve(o)},t.prototype.ls=function(t,e){var n=this,i=new it(w);return e.forEach((function(t){var e=new hr(t,0),r=new hr(t,Number.POSITIVE_INFINITY);n.nf.vt([e,r],(function(t){i=i.add(t.la)}))})),xn.resolve(this.rf(i))},t.prototype.Es=function(t,e){var n=e.path,i=n.length+1,r=n;F.W(r)||(r=r.child(""));var o=new hr(new F(r),0),s=new it(w);return this.nf.St((function(t){var e=t.key.path;return!!n.D(e)&&(e.length===i&&(s=s.add(t.la)),!0)}),o),xn.resolve(this.rf(s))},t.prototype.rf=function(t){var e=this,n=[];return t.forEach((function(t){var i=e.sf(t);null!==i&&n.push(i)})),n},t.prototype.ro=function(t,e){var n=this;y(0===this.hf(e.batchId,"removed")),this.ns.shift();var i=this.nf;return xn.forEach(e.mutations,(function(r){var o=new hr(r.key,e.batchId);return i=i.delete(o),n.wi.Qr(t,r.key)})).next((function(){n.nf=i}))},t.prototype.oo=function(t){},t.prototype.Mi=function(t,e){var n=new hr(e,0),i=this.nf.Dt(n);return xn.resolve(e.isEqual(i&&i.key))},t.prototype.ho=function(t){return this.ns.length,xn.resolve()},t.prototype.hf=function(t,e){return this.if(t)},t.prototype.if=function(t){return 0===this.ns.length?0:t-this.ns[0].batchId},t.prototype.sf=function(t){var e=this.if(t);return e<0||e>=this.ns.length?null:this.ns[e]},t}(),Xo=function(){function t(t,e){this.ss=t,this.af=e,this.docs=new tt(F.P),this.size=0}return t.prototype.jn=function(t,e,n){var i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.af(e);return this.docs=this.docs.nt(i,{Ys:e,size:s,readTime:n}),this.size+=s-o,this.ss.Us(t,i.path.p())},t.prototype.Gn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.zn=function(t,e){var n=this.docs.get(e);return xn.resolve(n?n.Ys:null)},t.prototype.getEntries=function(t,e){var n=this,i=at();return e.forEach((function(t){var e=n.docs.get(t);i=i.nt(t,e?e.Ys:null)})),xn.resolve(i)},t.prototype._s=function(t,e,n){for(var i=lt(),r=new F(e.path.child("")),o=this.docs.ut(r);o.wt();){var s=o.dt(),a=s.key,u=s.value,l=u.Ys,c=u.readTime;if(!e.path.D(a.path))break;c.o(n)<=0||l instanceof rn&&hn(e,l)&&(i=i.nt(l.key,l))}return xn.resolve(i)},t.prototype.uf=function(t,e){return xn.forEach(this.docs,(function(t){return e(t)}))},t.prototype.oi=function(e){return new t.hi(this)},t.prototype.ui=function(t){return xn.resolve(this.size)},t}();Xo.hi=function(t){function e(e){var n=this;return(n=t.call(this)||this).ci=e,n}return r.__extends(e,t),e.prototype.Jn=function(t){var e=this,n=[];return this.Un.forEach((function(i,r){r?n.push(e.ci.jn(t,r,e.readTime)):e.ci.Gn(i)})),xn.Bn(n)},e.prototype.Hn=function(t,e){return this.ci.zn(t,e)},e.prototype.Yn=function(t,e){return this.ci.getEntries(t,e)},e}(On);var Yo=function(){function t(t){this.persistence=t,this.cf=new O((function(t){return H(t)}),q),this.lastRemoteSnapshotVersion=P.min(),this.highestTargetId=0,this.lf=0,this._f=new cr,this.targetCount=0,this.ff=si.fi()}return t.prototype.pe=function(t,e){return this.cf.forEach((function(t,n){return e(n)})),xn.resolve()},t.prototype.mi=function(t){return xn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ai=function(t){return xn.resolve(this.lf)},t.prototype.Ti=function(t){return this.highestTargetId=this.ff.next(),xn.resolve(this.highestTargetId)},t.prototype.Ri=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.lf&&(this.lf=e),xn.resolve()},t.prototype.Vi=function(t){this.cf.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ff=new si(e),this.highestTargetId=e),t.sequenceNumber>this.lf&&(this.lf=t.sequenceNumber)},t.prototype.Pi=function(t,e){return this.Vi(e),this.targetCount+=1,xn.resolve()},t.prototype.yi=function(t,e){return this.Vi(e),xn.resolve()},t.prototype.pi=function(t,e){return this.cf.delete(e.target),this._f.aa(e.targetId),this.targetCount-=1,xn.resolve()},t.prototype.vi=function(t,e,n){var i=this,r=0,o=[];return this.cf.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i.cf.delete(s),o.push(i.bi(t,a.targetId)),r++)})),xn.Bn(o).next((function(){return r}))},t.prototype.Si=function(t){return xn.resolve(this.targetCount)},t.prototype.Di=function(t,e){var n=this.cf.get(e)||null;return xn.resolve(n)},t.prototype.Ci=function(t,e,n){return this._f.ra(e,n),xn.resolve()},t.prototype.Ni=function(t,e,n){this._f.ha(e,n);var i=this.persistence.wi,r=[];return i&&e.forEach((function(e){r.push(i.Qr(t,e))})),xn.Bn(r)},t.prototype.bi=function(t,e){return this._f.aa(e),xn.resolve()},t.prototype.ki=function(t,e){var n=this._f.ca(e);return xn.resolve(n)},t.prototype.Mi=function(t,e){return xn.resolve(this._f.Mi(e))},t}(),Jo=function(){function t(t){var e=this;this.df={},this.Ui=new Ln(0),this.Qi=!1,this.Qi=!0,this.wi=t(this),this.Xi=new Yo(this),this.ss=new Vn,this.es=new Xo(this.ss,(function(t){return e.wi.wf(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.yr=function(){return this.Qi=!1,Promise.resolve()},Object.defineProperty(t.prototype,"hr",{get:function(){return this.Qi},enumerable:!1,configurable:!0}),t.prototype.ar=function(){},t.prototype.kr=function(){return this.ss},t.prototype.Cr=function(t){var e=this.df[t.Ma()];return e||(e=new Go(this.ss,this.wi),this.df[t.Ma()]=e),e},t.prototype.Nr=function(){return this.Xi},t.prototype.$r=function(){return this.es},t.prototype.runTransaction=function(t,e,n){var i=this;f("MemoryPersistence","Starting transaction:",t);var r=new Zo(this.Ui.next());return this.wi.Tf(),n(r).next((function(t){return i.wi.Ef(r).next((function(){return t}))})).On().then((function(t){return r.ts(),t}))},t.prototype.If=function(t,e){return xn.qn(Object.values(this.df).map((function(n){return function(){return n.Mi(t,e)}})))},t}(),Zo=function(t){function e(e){var n=this;return(n=t.call(this)||this).Li=e,n}return r.__extends(e,t),e}(Dn),ts=function(){function t(t){this.persistence=t,this.mf=new cr,this.Af=null}return t.Rf=function(e){return new t(e)},Object.defineProperty(t.prototype,"Pf",{get:function(){if(this.Af)return this.Af;throw g()},enumerable:!1,configurable:!0}),t.prototype.Fi=function(t,e,n){return this.mf.Fi(n,e),this.Pf.delete(n),xn.resolve()},t.prototype.$i=function(t,e,n){return this.mf.$i(n,e),this.Pf.add(n),xn.resolve()},t.prototype.Qr=function(t,e){return this.Pf.add(e),xn.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.mf.aa(e.targetId).forEach((function(t){return n.Pf.add(t)}));var i=this.persistence.Nr();return i.ki(t,e.targetId).next((function(t){t.forEach((function(t){return n.Pf.add(t)}))})).next((function(){return i.pi(t,e)}))},t.prototype.Tf=function(){this.Af=new Set},t.prototype.Ef=function(t){var e=this,n=this.persistence.$r().oi();return xn.forEach(this.Pf,(function(i){return e.Vf(t,i).next((function(t){t||n.Gn(i)}))})).next((function(){return e.Af=null,n.apply(t)}))},t.prototype.Gr=function(t,e){var n=this;return this.Vf(t,e).next((function(t){t?n.Pf.delete(e):n.Pf.add(e)}))},t.prototype.wf=function(t){return 0},t.prototype.Vf=function(t,e){var n=this;return xn.qn([function(){return xn.resolve(n.mf.Mi(e))},function(){return n.persistence.Nr().Mi(t,e)},function(){return n.persistence.If(t,e)}])},t}(),es=function(){function t(t){this.gf=t.gf,this.yf=t.yf}return t.prototype.Eu=function(t){this.pf=t},t.prototype._u=function(t){this.bf=t},t.prototype.onMessage=function(t){this.vf=t},t.prototype.close=function(){this.yf()},t.prototype.send=function(t){this.gf(t)},t.prototype.Sf=function(){this.pf()},t.prototype.Df=function(t){this.bf(t)},t.prototype.Cf=function(t){this.vf(t)},t}(),ns={BatchGetDocuments:"batchGet",Commit:"commit"},is="gl-js/ fire/"+c,rs=function(){function t(t){this.s=t.s;var e=t.ssl?"https":"http";this.Ff=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.Nf=function(t,e){if(e)for(var n in e.Ba)e.Ba.hasOwnProperty(n)&&(t[n]=e.Ba[n]);t["X-Goog-Api-Client"]=is},t.prototype.Du=function(t,e,n){var i=this,r=this.$f(t);return new Promise((function(o,s){var a=new u.XhrIo;a.listenOnce(u.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=a.getResponseJson();f("Connection","XHR received:",JSON.stringify(e)),o(e);break;case u.ErrorCode.TIMEOUT:f("Connection",'RPC "'+t+'" timed out'),s(new D(A.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(f("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var i=a.getResponseJson().error;if(i&&i.status&&i.message){var r=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(A).indexOf(e)>=0?e:A.UNKNOWN}(i.status);s(new D(r,i.message))}else s(new D(A.UNKNOWN,"Server responded with status "+a.getStatus()))}else f("Connection",'RPC "'+t+'" failed'),s(new D(A.UNAVAILABLE,"Connection failed."));break;default:g()}}finally{f("Connection",'RPC "'+t+'" completed.')}}));var l=Object.assign({},e);delete l.database;var c=JSON.stringify(l);f("Connection","XHR sending: ",r+" "+c);var h={"Content-Type":"text/plain"};i.Nf(h,n),a.send(r,"POST",c,h,15)}))},t.prototype.Cu=function(t,e,n){return this.Du(t,e,n)},t.prototype.Iu=function(t,e){var n=[this.Ff,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=u.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Nf(o.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(o.httpHeadersOverwriteParam="$httpHeaders");var l=n.join("");f("Connection","Creating WebChannel: "+l+" "+o);var d=i.createWebChannel(l,o),p=!1,g=!1,m=new es({gf:function(t){g?f("Connection","Not sending because WebChannel is closed:",t):(p||(f("Connection","Opening WebChannel transport."),d.open(),p=!0),f("Connection","WebChannel sending:",t),d.send(t))},yf:function(){return d.close()}}),_=function(t,e){d.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return _(u.WebChannel.EventType.OPEN,(function(){g||f("Connection","WebChannel transport opened.")})),_(u.WebChannel.EventType.CLOSE,(function(){g||(g=!0,f("Connection","WebChannel transport closed"),m.Df())})),_(u.WebChannel.EventType.ERROR,(function(t){g||(g=!0,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=s.LogLevel.WARN){var i=e.map(v);h.warn.apply(h,r.__spreadArrays(["Firestore ("+c+"): "+t],i))}}("Connection","WebChannel transport errored:",t),m.Df(new D(A.UNAVAILABLE,"The operation could not be completed")))})),_(u.WebChannel.EventType.MESSAGE,(function(t){var e;if(!g){var n=t.data[0];y(!!n);var i=n,r=i.error||(null===(e=i[0])||void 0===e?void 0:e.error);if(r){f("Connection","WebChannel received error:",r);var o=r.status,s=function(t){var e=Q[t];if(void 0!==e)return Z(e)}(o),a=r.message;void 0===s&&(s=A.INTERNAL,a="Unknown error status: "+o+" with message "+r.message),g=!0,m.Df(new D(s,a)),d.close()}else f("Connection","WebChannel received:",n),m.Cf(n)}})),setTimeout((function(){m.Sf()}),0),m},t.prototype.$f=function(t){var e=ns[t];return this.Ff+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+e},t}(),os=function(){function t(){var t=this;this.kf=function(){return t.xf()},this.Mf=function(){return t.Of()},this.Lf=[],this.Bf()}return t.prototype.nc=function(t){this.Lf.push(t)},t.prototype.yr=function(){window.removeEventListener("online",this.kf),window.removeEventListener("offline",this.Mf)},t.prototype.Bf=function(){window.addEventListener("online",this.kf),window.addEventListener("offline",this.Mf)},t.prototype.xf=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Lf;t<e.length;t++)(0,e[t])(0)},t.prototype.Of=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Lf;t<e.length;t++)(0,e[t])(1)},t.Hi=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ss=function(){function t(){}return t.prototype.nc=function(t){},t.prototype.yr=function(){},t}(),as="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",us=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return this.n_=this.qf(t),this.persistence=this.Uf(t),[4,this.persistence.start()];case 1:return n.sent(),this.Qf=this.Wf(t),this.Yu=this.jf(t),this.e_=this.Kf(t),this.Vc=this.Gf(t),this.zf=this.Hf(t),this.n_.qu=function(t){return e.Vc.jl(t,1)},this.e_.Vc=this.Vc,[4,this.Yu.start()];case 2:return n.sent(),[4,this.n_.start()];case 3:return n.sent(),[4,this.e_.start()];case 4:return n.sent(),[4,this.e_.Lc(this.Vc.d_)];case 5:return n.sent(),[2]}}))}))},t.prototype.Hf=function(t){return new zo(this.Vc)},t.prototype.Wf=function(t){return null},t.prototype.jf=function(t){return e=this.persistence,n=new Qo,i=t.Yf,new ar(e,n,i);var e,n,i},t.prototype.Uf=function(t){if(t.Xf.Jf)throw new D(A.FAILED_PRECONDITION,as);return new Jo(ts.Rf)},t.prototype.Kf=function(t){var e=this;return new Io(this.Yu,t.Fu,t.Ro,(function(t){return e.Vc.jl(t,0)}),os.Hi()?new os:new ss)},t.prototype.qf=function(t){return new Ro},t.prototype.Gf=function(t){return e=this.Yu,n=this.e_,i=t.Fu,r=this.n_,o=t.Yf,s=t.s_,new Wo(e,n,i,r,o,s);var e,n,i,r,o,s},t.prototype.clearPersistence=function(t){throw new D(A.FAILED_PRECONDITION,as)},t}(),ls=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),[4,this.persistence.or((function(t){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this.Vc.Lc(t)];case 1:return e.sent(),this.Qf&&(t&&!this.Qf.hr?this.Qf.start(this.Yu):t||this.Qf.stop()),[2]}}))}))}))];case 2:return i.sent(),[2]}}))}))},e.prototype.jf=function(t){return e=this.persistence,n=new Qo,i=t.Yf,new ur(e,n,i);var e,n,i},e.prototype.Gf=function(t){var e,n,i,r,o,s,a=(e=this.Yu,n=this.e_,i=t.Fu,r=this.n_,o=t.Yf,s=t.s_,new Ho(e,n,i,r,o,s));return this.n_ instanceof No&&(this.n_.Vc=a),a},e.prototype.Wf=function(t){var e=this.persistence.wi.Or;return new or(e,t.Ro)},e.prototype.Uf=function(t){var e=fi.Mr(t.Zf),n=Kr(t.Zf.s);return new fi(t.Xf.synchronizeTabs,e,t.clientId,rr.ah(t.Xf.cacheSizeBytes),t.Ro,Yi(),"undefined"!=typeof document?document:null,n,this.n_,t.Xf.qi)},e.prototype.qf=function(t){if(t.Xf.Jf&&t.Xf.synchronizeTabs){var e=Yi();if(!No.Hi(e))throw new D(A.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=fi.Mr(t.Zf);return new No(e,t.Ro,n,t.clientId,t.Yf)}return new Ro},e.prototype.clearPersistence=function(t){var e=fi.Mr(t);return fi.clearPersistence(e)},e}(us),cs=function(){function t(t,e){this.credentials=t,this.Ro=e,this.clientId=b.t()}return t.prototype.start=function(t,e,n){var i=this;this.Su(),this.Zf=t;var r=new Nn,o=new Nn,s=!1;return this.credentials.Qa((function(t){if(!s)return s=!0,f("FirestoreClient","Initializing. user=",t.uid),i.td(e,n,t,o).then(r.resolve,r.reject);i.Ro.dr((function(){return i.e_.Oc(t)}))})),this.Ro.lr((function(){return r.promise})),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.Su(),this.Ro.enqueue((function(){return t.Vc.enableNetwork()}))},t.prototype.td=function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a,u,l,c=this;return r.__generator(this,(function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),[4,(l=this.Zf,Promise.resolve(new rs(l)))];case 1:return o=h.sent(),s=Kr(this.Zf.s),a=function(t,e,n){return new ko(t,e,n)}(o,this.credentials,s),[4,t.initialize({Ro:this.Ro,Zf:this.Zf,Fu:a,clientId:this.clientId,Yf:n,s_:100,Xf:e})];case 2:return h.sent(),this.persistence=t.persistence,this.n_=t.n_,this.Yu=t.Yu,this.e_=t.e_,this.Vc=t.Vc,this.Qf=t.Qf,this.ed=t.zf,this.persistence.ar((function(){return r.__awaiter(c,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),i.resolve(),[3,4];case 3:if(u=h.sent(),i.reject(u),!this.nd(u))throw u;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),this.td(new us,{Jf:!1},n,i))];case 4:return[2]}}))}))},t.prototype.nd=function(t){return"FirebaseError"===t.name?t.code===A.FAILED_PRECONDITION||t.code===A.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Su=function(){if(this.Ro.Oo)throw new D(A.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.Su(),this.Ro.enqueue((function(){return t.Vc.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Ro.Qo((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Qf&&this.Qf.stop(),[4,this.e_.yr()];case 1:return t.sent(),[4,this.n_.yr()];case 2:return t.sent(),[4,this.persistence.yr()];case 3:return t.sent(),this.credentials.Wa(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.Su();var e=new Nn;return this.Ro.lr((function(){return t.Vc.y_(e)})),e.promise},t.prototype.listen=function(t,e,n){var i=this;this.Su();var r=new Ko(t,e,n);return this.Ro.lr((function(){return i.ed.listen(r)})),r},t.prototype.Rc=function(t){var e=this;this.sd||this.Ro.lr((function(){return e.ed.Rc(t)}))},t.prototype.rd=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.Su(),e=new Nn,[4,this.Ro.enqueue((function(){return r.__awaiter(n,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.Yu.Kh(t)];case 1:return(n=r.sent())instanceof rn?e.resolve(n):n instanceof on?e.resolve(null):e.reject(new D(A.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=r.sent(),o=tr(i,"Failed to get document '"+t+" from cache"),e.reject(o),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(i.sent(),e.promise)]}}))}))},t.prototype.od=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.Su(),e=new Nn,[4,this.Ro.enqueue((function(){return r.__awaiter(n,void 0,void 0,(function(){var n,i,o,s,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.Yu.Hh(t,!0)];case 1:return n=r.sent(),i=new jo(t,n.Yh),o=i.Ol(n.documents),s=i.Jn(o,!1),e.resolve(s.snapshot),[3,3];case 2:return a=r.sent(),u=tr(a,"Failed to execute query '"+t+" against cache"),e.reject(u),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(i.sent(),e.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.Su();var n=new Nn;return this.Ro.lr((function(){return e.Vc.write(t,n)})),n.promise},t.prototype.s=function(){return this.Zf.s},t.prototype.Q_=function(t){var e=this;this.Su(),this.Ro.lr((function(){return e.ed.Q_(t),Promise.resolve()}))},t.prototype.W_=function(t){var e=this;this.sd||this.Ro.lr((function(){return e.ed.W_(t),Promise.resolve()}))},Object.defineProperty(t.prototype,"sd",{get:function(){return this.Ro.Oo},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Su();var n=new Nn;return this.Ro.lr((function(){return e.Vc.runTransaction(e.Ro,t,n),Promise.resolve()})),n.promise},t}(),hs=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.hd(this.observer.next,t)},t.prototype.error=function(t){this.hd(this.observer.error,t)},t.prototype.ad=function(){this.muted=!0},t.prototype.hd=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function ds(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var fs=function(){function t(t,e,n,i){this.s=t,this.timestampsInSnapshots=e,this.ud=n,this.ld=i}return t.prototype._d=function(t){switch(At(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bt(t.integerValue||t.doubleValue);case 3:return this.fd(t.timestampValue);case 4:return this.dd(t);case 5:return t.stringValue;case 6:return new Pr(Ft(t.bytesValue));case 7:return this.wd(t.referenceValue);case 8:return this.Td(t.geoPointValue);case 9:return this.Ed(t.arrayValue);case 10:return this.Id(t.mapValue);default:throw g()}},t.prototype.Id=function(t){var e=this,n={};return S(t.fields||{},(function(t,i){n[t]=e._d(i)})),n},t.prototype.Td=function(t){return new zr(Bt(t.latitude),Bt(t.longitude))},t.prototype.Ed=function(t){var e=this;return(t.values||[]).map((function(t){return e._d(t)}))},t.prototype.dd=function(t){switch(this.ud){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return St(n)?t(n):n}(t);return null==e?null:this._d(e);case"estimate":return this.fd(xt(t));default:return null}},t.prototype.fd=function(t){var e=Rt(t),n=new M(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.wd=function(t){var e=N.$(t);y(we(e));var n=new T(e.get(1),e.get(3)),i=new F(e.g(5));return n.isEqual(this.s)||p("Document "+i+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.ld(i)},t}(),ps=rr._h,vs=function(){function t(t){var e,n,i,r;if(void 0===t.host){if(void 0!==t.ssl)throw new D(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else mr("settings","non-empty string","host",t.host),this.host=t.host,_r("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Ir("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),_r("settings","object","credentials",t.credentials),this.credentials=t.credentials,_r("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),_r("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?p("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&p("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(i=t.ignoreUndefinedProperties)&&void 0!==i&&i,_r("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=rr.dh;else{if(t.cacheSizeBytes!==ps&&t.cacheSizeBytes<rr.fh)throw new D(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+rr.fh);this.cacheSizeBytes=t.cacheSizeBytes}_r("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(r=t.experimentalForceLongPolling)&&void 0!==r&&r}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),gs=function(){function t(e,n,i){var o=this;if(void 0===i&&(i=new us),this.md=null,this.Ad=new Zi,this.INTERNAL={delete:function(){return r.__awaiter(o,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Rd(),[4,this.Pd.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.md=s,this.ya=t.Vd(s),this.gd=s.name,this.yd=new yo(n)}else{var a=e;if(!a.projectId)throw new D(A.INVALID_ARGUMENT,"Must provide projectId");this.ya=new T(a.projectId,a.database),this.gd="[DEFAULT]",this.yd=new go}this.pd=i,this.bd=new vs({})}return Object.defineProperty(t.prototype,"vd",{get:function(){return this.Sd||(this.Sd=new to(this.ya,this.bd.ignoreUndefinedProperties)),this.Sd},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){fr("Firestore.settings",arguments,1),gr("Firestore.settings","object",1,t);var e=new vs(t);if(this.Pd&&!this.bd.isEqual(e))throw new D(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.bd=e,void 0!==e.credentials&&(this.yd=function(t){if(!t)return new go;switch(t.type){case"gapi":var e=t.Dd;return y(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new _o(e,t.Ya||"0");case"provider":return t.Dd;default:throw new D(A.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.Rd(),this.Pd.enableNetwork()},t.prototype.disableNetwork=function(){return this.Rd(),this.Pd.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.Pd)throw new D(A.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var i=!1,r=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&p("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),i=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,r=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,i&&r))throw new D(A.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Cd(this.pd,{Jf:!0,cacheSizeBytes:this.bd.cacheSizeBytes,synchronizeTabs:i,qi:r})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.Pd&&!this.Pd.sd)throw new D(A.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new Nn,[2,(this.Ad.Lo((function(){return r.__awaiter(e,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=this.Fd(),[4,this.pd.clearPersistence(e)];case 1:return i.sent(),t.resolve(),[3,3];case 2:return n=i.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Nd",{get:function(){return this.Rd(),this.Pd.sd},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.Rd(),this.Pd.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.Rd(),ds(t))return ys(this.Pd,t);gr("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return ys(this.Pd,e)},t.prototype.Rd=function(){return this.Pd||this.Cd(new us,{Jf:!1}),this.Pd},t.prototype.Fd=function(){return new C(this.ya,this.gd,this.bd.host,this.bd.ssl,this.bd.forceLongPolling)},t.prototype.Cd=function(t,e){var n=this.Fd();return this.Pd=new cs(this.yd,this.Ad),this.Pd.start(n,t,e)},t.Vd=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new D(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;if(!n||"string"!=typeof n)throw new D(A.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new T(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.md)throw new D(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return fr("Firestore.collection",arguments,1),gr("Firestore.collection","non-empty string",1,t),this.Rd(),new Os(N.$(t),this,null)},t.prototype.doc=function(t){return fr("Firestore.doc",arguments,1),gr("Firestore.doc","non-empty string",1,t),this.Rd(),bs.$d(N.$(t),this,null)},t.prototype.collectionGroup=function(t){if(fr("Firestore.collectionGroup",arguments,1),gr("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new D(A.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.Rd(),new Is(new an(N.k(),t),this,null)},t.prototype.runTransaction=function(t){var e=this;return fr("Firestore.runTransaction",arguments,1),gr("Firestore.runTransaction","function",1,t),this.Rd().transaction((function(n){return t(new ms(e,n))}))},t.prototype.batch=function(){return this.Rd(),new _s(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.ERROR:return"error";case s.LogLevel.SILENT:return"silent";case s.LogLevel.WARN:return"warn";case s.LogLevel.INFO:return"info";case s.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){var e;fr("Firestore.setLogLevel",arguments,1),wr("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,h.setLogLevel(e)},t.prototype.kd=function(){return this.bd.timestampsInSnapshots},t}();function ys(t,e){var n=new hs({next:function(){e.next&&e.next()},error:function(t){throw g()}});return t.Q_(n),function(){n.ad(),t.W_(n)}}var ms=function(){function t(t,e){this.xd=t,this.Md=e}return t.prototype.get=function(t){var e=this;fr("Transaction.get",arguments,1);var n=Ps("Transaction.get",t,this.xd);return this.Md.Mu([n.pa]).then((function(t){if(!t||1!==t.length)return g();var i=t[0];if(i instanceof on)return new ks(e.xd,n.pa,null,!1,!1,n.ba);if(i instanceof rn)return new ks(e.xd,n.pa,i,!1,!1,n.ba);throw g()}))},t.prototype.set=function(t,e,n){vr("Transaction.set",arguments,2,3);var i=Ps("Transaction.set",t,this.xd);n=As("Transaction.set",n);var r=Ns(i.ba,e,n),o=eo(this.xd.vd,"Transaction.set",i.pa,r,null!==i.ba,n);return this.Md.set(i.pa,o),this},t.prototype.update=function(t,e,n){for(var i,r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Nr?(pr("Transaction.update",arguments,3),i=Ps("Transaction.update",t,this.xd),r=io(this.xd.vd,"Transaction.update",i.pa,e,n,o)):(fr("Transaction.update",arguments,2),i=Ps("Transaction.update",t,this.xd),r=no(this.xd.vd,"Transaction.update",i.pa,e)),this.Md.update(i.pa,r),this},t.prototype.delete=function(t){fr("Transaction.delete",arguments,1);var e=Ps("Transaction.delete",t,this.xd);return this.Md.delete(e.pa),this},t}(),_s=function(){function t(t){this.xd=t,this.Od=[],this.Ld=!1}return t.prototype.set=function(t,e,n){vr("WriteBatch.set",arguments,2,3),this.Bd();var i=Ps("WriteBatch.set",t,this.xd);n=As("WriteBatch.set",n);var r=Ns(i.ba,e,n),o=eo(this.xd.vd,"WriteBatch.set",i.pa,r,null!==i.ba,n);return this.Od=this.Od.concat(o.va(i.pa,Be.Qe())),this},t.prototype.update=function(t,e,n){for(var i,r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Bd(),"string"==typeof e||e instanceof Nr?(pr("WriteBatch.update",arguments,3),i=Ps("WriteBatch.update",t,this.xd),r=io(this.xd.vd,"WriteBatch.update",i.pa,e,n,o)):(fr("WriteBatch.update",arguments,2),i=Ps("WriteBatch.update",t,this.xd),r=no(this.xd.vd,"WriteBatch.update",i.pa,e)),this.Od=this.Od.concat(r.va(i.pa,Be.exists(!0))),this},t.prototype.delete=function(t){fr("WriteBatch.delete",arguments,1),this.Bd();var e=Ps("WriteBatch.delete",t,this.xd);return this.Od=this.Od.concat(new Ye(e.pa,Be.Qe())),this},t.prototype.commit=function(){return this.Bd(),this.Ld=!0,this.Od.length>0?this.xd.Rd().write(this.Od):Promise.resolve()},t.prototype.Bd=function(){if(this.Ld)throw new D(A.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),bs=function(t){function e(e,n,i){var r=this;return(r=t.call(this,n.ya,e,i)||this).pa=e,r.firestore=n,r.ba=i,r.Pd=r.firestore.Rd(),r}return r.__extends(e,t),e.$d=function(t,n,i){if(t.length%2!=0)throw new D(A.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.N()+" has "+t.length);return new e(new F(t),n,i)},Object.defineProperty(e.prototype,"id",{get:function(){return this.pa.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Os(this.pa.path.p(),this.firestore,this.ba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.pa.path.N()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(fr("DocumentReference.collection",arguments,1),gr("DocumentReference.collection","non-empty string",1,t),!t)throw new D(A.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=N.$(t);return new Os(this.pa.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Sr("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.pa.isEqual(t.pa)&&this.ba===t.ba},e.prototype.set=function(t,e){vr("DocumentReference.set",arguments,1,2),e=As("DocumentReference.set",e);var n=Ns(this.ba,t,e),i=eo(this.firestore.vd,"DocumentReference.set",this.pa,n,null!==this.ba,e);return this.Pd.write(i.va(this.pa,Be.Qe()))},e.prototype.update=function(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return"string"==typeof t||t instanceof Nr?(pr("DocumentReference.update",arguments,2),n=io(this.firestore.vd,"DocumentReference.update",this.pa,t,e,i)):(fr("DocumentReference.update",arguments,1),n=no(this.firestore.vd,"DocumentReference.update",this.pa,t)),this.Pd.write(n.va(this.pa,Be.exists(!0)))},e.prototype.delete=function(){return fr("DocumentReference.delete",arguments,0),this.Pd.write([new Ye(this.pa,Be.Qe())])},e.prototype.onSnapshot=function(){for(var t,e,n,i=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];vr("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof r[a]||ds(r[a])||(Ir("DocumentReference.onSnapshot",s=r[a],["includeMetadataChanges"]),_r("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(ds(r[a])){var l=r[a];r[a]=null===(t=l.next)||void 0===t?void 0:t.bind(l),r[a+1]=null===(e=l.error)||void 0===e?void 0:e.bind(l),r[a+2]=null===(n=l.complete)||void 0===n?void 0:n.bind(l)}else gr("DocumentReference.onSnapshot","function",a,r[a]),yr("DocumentReference.onSnapshot","function",a+1,r[a+1]),yr("DocumentReference.onSnapshot","function",a+2,r[a+2]);var c={next:function(t){r[a]&&r[a](i.qd(t))},error:r[a+1],complete:r[a+2]};return ws(this.Pd,this.pa,u,c)},e.prototype.get=function(t){var e=this;return vr("DocumentReference.get",arguments,0,1),Ms("DocumentReference.get",t),t&&"cache"===t.source?this.firestore.Rd().rd(this.pa).then((function(t){return new ks(e.firestore,e.pa,t,!0,t instanceof rn&&t.Ge,e.ba)})):function(t,e,n){var i=new Nn,r=ws(t,e,{includeMetadataChanges:!0,J_:!0},{next:function(t){r();var o=t.docs.has(e);!o&&t.fromCache?i.reject(new D(A.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&t.fromCache&&n&&"server"===n.source?i.reject(new D(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.Pd,this.pa,t).then((function(t){return e.qd(t)}))},e.prototype.withConverter=function(t){return new e(this.pa,this.firestore,t)},e.prototype.qd=function(t){var e=t.docs.get(this.pa);return new ks(this.firestore,this.pa,e,t.fromCache,t.hasPendingWrites,this.ba)},e}(Gr);function ws(t,e,n,i){var r=function(t){console.error("Uncaught Error in onSnapshot:",t)};i.error&&(r=i.error.bind(i));var o=new hs({next:function(t){i.next&&i.next(t)},error:r}),s=t.listen(an.hn(e.path),o,n);return function(){o.ad(),t.Rc(s)}}var Es=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ks=function(){function t(t,e,n,i,r,o){this.xd=t,this.pa=e,this.Ud=n,this.Qd=i,this.Wd=r,this.ba=o}return t.prototype.data=function(t){var e=this;if(vr("DocumentSnapshot.data",arguments,0,1),t=Ds("DocumentSnapshot.data",t),this.Ud){if(this.ba){var n=new Cs(this.xd,this.pa,this.Ud,this.Qd,this.Wd,null);return this.ba.fromFirestore(n,t)}return new fs(this.xd.ya,this.xd.kd(),t.serverTimestamps||"none",(function(t){return new bs(t,e.xd,null)}))._d(this.Ud.tn())}},t.prototype.get=function(t,e){var n=this;if(vr("DocumentSnapshot.get",arguments,1,2),e=Ds("DocumentSnapshot.get",e),this.Ud){var i=this.Ud.data().field(lo("DocumentSnapshot.get",t,this.pa));if(null!==i)return new fs(this.xd.ya,this.xd.kd(),e.serverTimestamps||"none",(function(t){return new bs(t,n.xd,n.ba)}))._d(i)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.pa.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new bs(this.pa,this.xd,this.ba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Ud},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Es(this.Wd,this.Qd)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Sr("isEqual","DocumentSnapshot",1,e);return this.xd===e.xd&&this.Qd===e.Qd&&this.pa.isEqual(e.pa)&&(null===this.Ud?null===e.Ud:this.Ud.isEqual(e.Ud))&&this.ba===e.ba},t}(),Cs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(ks);function Ts(t){if(t.mn()&&0===t.en.length)throw new D(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Is=function(t){function e(e,n,i){var r=this;return(r=t.call(this,n.ya,n.vd,e)||this).jd=e,r.firestore=n,r.ba=i,r}return r.__extends(e,t),e.prototype.where=function(t,n,i){fr("Query.where",arguments,3),Tr("Query.where",3,i);var r=wr("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n),o=lo("Query.where",t),s=this.Kd(o,r,i);return new e(this.jd.cn(s),this.firestore,this.ba)},e.prototype.orderBy=function(t,n){var i;if(vr("Query.orderBy",arguments,1,2),yr("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)i="asc";else{if("desc"!==n)throw new D(A.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");i="desc"}var r=lo("Query.orderBy",t),o=this.Yd(r,i);return new e(this.jd.ln(o),this.firestore,this.ba)},e.prototype.limit=function(t){return fr("Query.limit",arguments,1),gr("Query.limit","number",1,t),xr("Query.limit",1,t),new e(this.jd._n(t),this.firestore,this.ba)},e.prototype.limitToLast=function(t){return fr("Query.limitToLast",arguments,1),gr("Query.limitToLast","number",1,t),xr("Query.limitToLast",1,t),new e(this.jd.fn(t),this.firestore,this.ba)},e.prototype.startAt=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];pr("Query.startAt",arguments,1);var r=this.ew("Query.startAt",t,n,!0);return new e(this.jd.dn(r),this.firestore,this.ba)},e.prototype.startAfter=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];pr("Query.startAfter",arguments,1);var r=this.ew("Query.startAfter",t,n,!1);return new e(this.jd.dn(r),this.firestore,this.ba)},e.prototype.endBefore=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];pr("Query.endBefore",arguments,1);var r=this.ew("Query.endBefore",t,n,!0);return new e(this.jd.wn(r),this.firestore,this.ba)},e.prototype.endAt=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];pr("Query.endAt",arguments,1);var r=this.ew("Query.endAt",t,n,!1);return new e(this.jd.wn(r),this.firestore,this.ba)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Sr("isEqual","Query",1,t);return this.firestore===t.firestore&&un(this.jd,t.jd)&&this.ba===t.ba},e.prototype.withConverter=function(t){return new e(this.jd,this.firestore,t)},e.prototype.ew=function(t,e,n,i){if(Tr(t,1,e),e instanceof ks)return fr(t,r.__spreadArrays([e],n),1),this.Xd(t,e.Ud,i);var o=[e].concat(n);return this.Zd(t,o,i)},e.prototype.onSnapshot=function(){for(var t,e,n,i=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];vr("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof r[a]||ds(r[a])||(Ir("Query.onSnapshot",s=r[a],["includeMetadataChanges"]),_r("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),ds(r[a])){var u=r[a];r[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),r[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),r[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else gr("Query.onSnapshot","function",a,r[a]),yr("Query.onSnapshot","function",a+1,r[a+1]),yr("Query.onSnapshot","function",a+2,r[a+2]);var l={next:function(t){r[a]&&r[a](new xs(i.firestore,i.jd,t,i.ba))},error:r[a+1],complete:r[a+2]};return Ts(this.jd),Ss(this.firestore.Rd(),this.jd,s,l)},e.prototype.get=function(t){var e=this;vr("Query.get",arguments,0,1),Ms("Query.get",t),Ts(this.jd);var n=this.firestore.Rd();return(t&&"cache"===t.source?n.od(this.jd):function(t,e,n){var i=new Nn,r=Ss(t,e,{includeMetadataChanges:!0,J_:!0},{next:function(t){r(),t.fromCache&&n&&"server"===n.source?i.reject(new D(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(n,this.jd,t)).then((function(t){return new xs(e.firestore,e.jd,t,e.ba)}))},e}(function(){function t(t,e,n){this.ya=t,this.vd=e,this.jd=n}return t.prototype.Kd=function(t,e,n){var i;if(t.O()){if("array-contains"===e||"array-contains-any"===e)throw new D(A.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+e+"' queries on FieldPath.documentId().");if("in"===e){this.Gd(n,e);for(var r=[],o=0,s=n;o<s.length;o++){var a=s[o];r.push(this.zd(a))}i={arrayValue:{values:r}}}else i=this.zd(n)}else"in"!==e&&"array-contains-any"!==e||this.Gd(n,e),i=ro(this.vd,"Query.where",n,"in"===e);var u=fn.create(t,e,i);return this.Hd(u),u},t.prototype.Yd=function(t,e){if(null!==this.jd.startAt)throw new D(A.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.jd.endAt)throw new D(A.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var n=new kn(t,e);return this.Jd(n),n},t.prototype.Xd=function(t,e,n){if(!e)throw new D(A.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var i=[],r=0,o=this.jd.orderBy;r<o.length;r++){var s=o[r];if(s.field.O())i.push(jt(this.ya,e.key));else{var a=e.field(s.field);if(St(a))throw new D(A.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var u=s.field.N();throw new D(A.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}i.push(a)}}return new _n(i,n)},t.prototype.Zd=function(t,e,n){var i=this.jd.en;if(e.length>i.length)throw new D(A.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],o=0;o<e.length;o++){var s=e[o];if(i[o].field.O()){if("string"!=typeof s)throw new D(A.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.jd.Vn()&&-1!==s.indexOf("/"))throw new D(A.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.jd.path.child(N.$(s));if(!F.W(a))throw new D(A.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new F(a);r.push(jt(this.ya,u))}else{var l=ro(this.vd,t,s);r.push(l)}}return new _n(r,n)},t.prototype.zd=function(t){if("string"==typeof t){if(""===t)throw new D(A.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.jd.Vn()&&-1!==t.indexOf("/"))throw new D(A.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.jd.path.child(N.$(t));if(!F.W(e))throw new D(A.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return jt(this.ya,new F(e))}if(t instanceof Gr)return jt(this.ya,t.pa);throw new D(A.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Cr(t)+".")},t.prototype.Gd=function(t,e){if(!Array.isArray(t)||0===t.length)throw new D(A.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new D(A.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new D(A.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new D(A.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.Hd=function(t){if(t instanceof fn){var e=["array-contains","array-contains-any"],n=["in","array-contains-any"],i=e.indexOf(t.op)>=0,r=n.indexOf(t.op)>=0;if(t.An()){var o=this.jd.an();if(null!==o&&!o.isEqual(t.field))throw new D(A.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.jd.un();null!==s&&this.tw(t.field,s)}else if(r||i){var a=null;if(r&&(a=this.jd.Rn(n)),null===a&&i&&(a=this.jd.Rn(e)),null!==a)throw a===t.op?new D(A.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new D(A.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.Jd=function(t){if(null===this.jd.un()){var e=this.jd.an();null!==e&&this.tw(e,t.field)}},t.prototype.tw=function(t,e){if(!e.isEqual(t))throw new D(A.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}());function Ss(t,e,n,i){var r=function(t){console.error("Uncaught Error in onSnapshot:",t)};i.error&&(r=i.error.bind(i));var o=new hs({next:function(t){i.next&&i.next(t)},error:r}),s=t.listen(e,o,n);return function(){o.ad(),t.Rc(s)}}var xs=function(){function t(t,e,n,i){this.xd=t,this.nw=e,this.sw=n,this.ba=i,this.iw=null,this.rw=null,this.metadata=new Es(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.sw.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.sw.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;vr("QuerySnapshot.forEach",arguments,1,2),gr("QuerySnapshot.forEach","function",1,t),this.sw.docs.forEach((function(i){t.call(e,n.ow(i,n.metadata.fromCache,n.sw.Lt.has(i.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Is(this.nw,this.xd,this.ba)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(Ir("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),_r("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.sw.qt)throw new D(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.iw&&this.rw===e||(this.iw=function(t,e,n){if(t.Ot._()){var i=0;return t.docChanges.map((function(e){var r=n(e.doc,t.fromCache,t.Lt.has(e.doc.key));return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:i++}}))}var r=t.Ot;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=n(e.doc,t.fromCache,t.Lt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Ls(e.type),doc:i,oldIndex:o,newIndex:s}}))}(this.sw,e,this.ow.bind(this)),this.rw=e),this.iw},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Sr("isEqual","QuerySnapshot",1,e);return this.xd===e.xd&&un(this.nw,e.nw)&&this.sw.isEqual(e.sw)&&this.ba===e.ba},t.prototype.ow=function(t,e,n){return new Cs(this.xd,t.key,t,e,n,this.ba)},t}(),Os=function(t){function e(e,n,i){var r=this;if((r=t.call(this,an.hn(e),n,i)||this).hw=e,e.length%2!=1)throw new D(A.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.N()+" has "+e.length);return r}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.jd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.jd.path.p();return t._()?null:new bs(new F(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.jd.path.N()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){vr("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=b.t()),gr("CollectionReference.doc","non-empty string",1,t);var e=N.$(t);return bs.$d(this.jd.path.child(e),this.firestore,this.ba)},e.prototype.add=function(t){fr("CollectionReference.add",arguments,1),gr("CollectionReference.add","object",1,this.ba?this.ba.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.hw,this.firestore,t)},e}(Is);function As(t,e){if(void 0===e)return{merge:!1};if(Ir(t,e,["merge","mergeFields"]),_r(t,"boolean","merge",e.merge),function(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){if(!(i instanceof Array))throw new D(A.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Cr(i));for(var o=0;o<i.length;++o)if(!r(i[o]))throw new D(A.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+Cr(i[o]))}(t,"mergeFields",0,i,(function(t){return"string"==typeof t||t instanceof Nr}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new D(A.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ds(t,e){return void 0===e?{}:(Ir(t,e,["serverTimestamps"]),br(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Ms(t,e){yr(t,"object",1,e),e&&(Ir(t,e,["source"]),br(t,0,"source",e.source,["default","server","cache"]))}function Ps(t,e,n){if(e instanceof Gr){if(e.firestore!==n)throw new D(A.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Sr(t,"DocumentReference",1,e)}function Ls(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g()}}function Ns(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Rs={Firestore:gs,GeoPoint:zr,Timestamp:M,Blob:Pr,Transaction:ms,WriteBatch:_s,DocumentReference:bs,DocumentSnapshot:ks,Query:Is,QueryDocumentSnapshot:Cs,QuerySnapshot:xs,CollectionReference:Os,FieldPath:Nr,FieldValue:Hr,setLogLevel:gs.setLogLevel,CACHE_SIZE_UNLIMITED:ps};function Bs(t){!function(t,e){t.INTERNAL.registerComponent(new l.Component("firestore",(function(t){return function(t,e){return new gs(t,e,new ls)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Rs)))}(t),t.registerVersion("@firebase/firestore","1.16.0")}Bs(o),e.__PRIVATE_registerFirestore=Bs}).call(this,n(26))},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=n(36)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var i=n(25),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function u(t){return i.isMemo(t)?s:a[t.$$typeof]||r}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=s;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,i){if("string"!==typeof n){if(p){var r=f(n);r&&r!==p&&t(e,r,i)}var s=c(n);h&&(s=s.concat(h(n)));for(var a=u(e),v=u(n),g=0;g<s.length;++g){var y=s[g];if(!o[y]&&(!i||!i[y])&&(!v||!v[y])&&(!a||!a[y])){var m=d(n,y);try{l(e,y,m)}catch(_){}}}}return e}},function(t,e,n){"use strict";function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return function(){var e,n=i(t);if(r()){var o=i(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return s(this,e)}}n.d(e,"a",(function(){return a}))},function(t,e,n){"use strict";function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";var i=n(24),r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||m}function w(){}function E(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=b.prototype;var k=E.prototype=new w;k.constructor=E,i(k,b.prototype),k.isPureReactComponent=!0;var C={current:null},T=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var i,r={},s=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)T.call(e,i)&&!I.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in u=t.defaultProps)void 0===r[i]&&(r[i]=u[i]);return{$$typeof:o,type:t,key:s,ref:a,props:r,_owner:C.current}}function x(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var O=/\/+/g,A=[];function D(t,e,n,i){if(A.length){var r=A.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function M(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>A.length&&A.push(t)}function P(t,e,n){return null==t?0:function t(e,n,i,r){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case s:u=!0}}if(u)return i(r,e,""===n?"."+L(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+L(a=e[l],l);u+=t(a,c,i,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=g&&e[g]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(a=e.next()).done;)u+=t(a=a.value,c=n+L(a,l++),i,r);else if("object"===a)throw i=""+e,Error(y(31,"[object Object]"===i?"object with keys {"+Object.keys(e).join(", ")+"}":i,""));return u}(t,"",e,n)}function L(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function N(t,e){t.func.call(t.context,e,t.count++)}function R(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?B(t,i,n,(function(t){return t})):null!=t&&(x(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(O,"$&/")+"/")+n)),i.push(t))}function B(t,e,n,i,r){var o="";null!=n&&(o=(""+n).replace(O,"$&/")+"/"),P(t,R,e=D(e,o,i,r)),M(e)}var F={current:null};function j(){var t=F.current;if(null===t)throw Error(y(321));return t}var U={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:i};e.Children={map:function(t,e,n){if(null==t)return t;var i=[];return B(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;P(t,N,e=D(null,null,e,n)),M(e)},count:function(t){return P(t,(function(){return null}),null)},toArray:function(t){var e=[];return B(t,e,null,(function(t){return t})),e},only:function(t){if(!x(t))throw Error(y(143));return t}},e.Component=b,e.Fragment=a,e.Profiler=l,e.PureComponent=E,e.StrictMode=u,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(y(267,t));var r=i({},t.props),s=t.key,a=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,u=C.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)T.call(e,c)&&!I.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:o,type:t.type,key:s,ref:a,props:r,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:d,render:t}},e.isValidElement=x,e.lazy=function(t){return{$$typeof:v,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return j().useCallback(t,e)},e.useContext=function(t,e){return j().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return j().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return j().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return j().useLayoutEffect(t,e)},e.useMemo=function(t,e){return j().useMemo(t,e)},e.useReducer=function(t,e,n){return j().useReducer(t,e,n)},e.useRef=function(t){return j().useRef(t)},e.useState=function(t){return j().useState(t)},e.version="16.13.1"},function(t,e,n){"use strict";var i=n(1),r=n(24),o=n(37);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(s(227));function a(t,e,n,i,r,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var u=!1,l=null,c=!1,h=null,d={onError:function(t){u=!0,l=t}};function f(t,e,n,i,r,o,s,c,h){u=!1,l=null,a.apply(d,arguments)}var p=null,v=null,g=null;function y(t,e,n){var i=t.type||"unknown-event";t.currentTarget=g(n),function(t,e,n,i,r,o,a,d,p){if(f.apply(this,arguments),u){if(!u)throw Error(s(198));var v=l;u=!1,l=null,c||(c=!0,h=v)}}(i,e,void 0,t),t.currentTarget=null}var m=null,_={};function b(){if(m)for(var t in _){var e=_[t],n=m.indexOf(t);if(!(-1<n))throw Error(s(96,t));if(!E[n]){if(!e.extractEvents)throw Error(s(97,t));for(var i in E[n]=e,n=e.eventTypes){var r=void 0,o=n[i],a=e,u=i;if(k.hasOwnProperty(u))throw Error(s(99,u));k[u]=o;var l=o.phasedRegistrationNames;if(l){for(r in l)l.hasOwnProperty(r)&&w(l[r],a,u);r=!0}else o.registrationName?(w(o.registrationName,a,u),r=!0):r=!1;if(!r)throw Error(s(98,i,t))}}}}function w(t,e,n){if(C[t])throw Error(s(100,t));C[t]=e,T[t]=e.eventTypes[n].dependencies}var E=[],k={},C={},T={};function I(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];if(!_.hasOwnProperty(e)||_[e]!==i){if(_[e])throw Error(s(102,e));_[e]=i,n=!0}}n&&b()}var S=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),x=null,O=null,A=null;function D(t){if(t=v(t)){if("function"!==typeof x)throw Error(s(280));var e=t.stateNode;e&&(e=p(e),x(t.stateNode,t.type,e))}}function M(t){O?A?A.push(t):A=[t]:O=t}function P(){if(O){var t=O,e=A;if(A=O=null,D(t),e)for(t=0;t<e.length;t++)D(e[t])}}function L(t,e){return t(e)}function N(t,e,n,i,r){return t(e,n,i,r)}function R(){}var B=L,F=!1,j=!1;function U(){null===O&&null===A||(R(),P())}function V(t,e,n){if(j)return t(e,n);j=!0;try{return B(t,e,n)}finally{j=!1,U()}}var $=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,H={},q={};function z(t,e,n,i,r,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){K[t]=new z(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];K[e]=new z(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){K[t]=new z(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){K[t]=new z(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){K[t]=new z(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){K[t]=new z(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){K[t]=new z(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){K[t]=new z(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){K[t]=new z(t,5,!1,t.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function G(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(Q,G);K[e]=new z(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(Q,G);K[e]=new z(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(Q,G);K[e]=new z(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){K[t]=new z(t,1,!1,t.toLowerCase(),null,!1)})),K.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){K[t]=new z(t,1,!1,t.toLowerCase(),null,!0)}));var X=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Y(t,e,n,i){var r=K.hasOwnProperty(e)?K[e]:null;(null!==r?0===r.type:!i&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!W.call(q,t)||!W.call(H,t)&&($.test(t)?q[t]=!0:(H[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,tt=Z?Symbol.for("react.element"):60103,et=Z?Symbol.for("react.portal"):60106,nt=Z?Symbol.for("react.fragment"):60107,it=Z?Symbol.for("react.strict_mode"):60108,rt=Z?Symbol.for("react.profiler"):60114,ot=Z?Symbol.for("react.provider"):60109,st=Z?Symbol.for("react.context"):60110,at=Z?Symbol.for("react.concurrent_mode"):60111,ut=Z?Symbol.for("react.forward_ref"):60112,lt=Z?Symbol.for("react.suspense"):60113,ct=Z?Symbol.for("react.suspense_list"):60120,ht=Z?Symbol.for("react.memo"):60115,dt=Z?Symbol.for("react.lazy"):60116,ft=Z?Symbol.for("react.block"):60121,pt="function"===typeof Symbol&&Symbol.iterator;function vt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=pt&&t[pt]||t["@@iterator"])?t:null}function gt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case rt:return"Profiler";case it:return"StrictMode";case lt:return"Suspense";case ct:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case st:return"Context.Consumer";case ot:return"Context.Provider";case ut:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ht:return gt(t.type);case ft:return gt(t.render);case dt:if(t=1===t._status?t._result:null)return gt(t)}return null}function yt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var i=t._debugOwner,r=t._debugSource,o=gt(t.type);n=null,i&&(n=gt(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(J,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}e+=n,t=t.return}while(t);return e}function mt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function _t(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function bt(t){t._valueTracker||(t._valueTracker=function(t){var e=_t(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function wt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=_t(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function Et(t,e){var n=e.checked;return r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function kt(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=mt(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ct(t,e){null!=(e=e.checked)&&Y(t,"checked",e,!1)}function Tt(t,e){Ct(t,e);var n=mt(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?St(t,e.type,n):e.hasOwnProperty("defaultValue")&&St(t,e.type,mt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function It(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function St(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function xt(t,e){return t=r({children:void 0},e),(e=function(t){var e="";return i.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Ot(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+mt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function At(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:mt(n)}}function Mt(t,e){var n=mt(e.value),i=mt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function Pt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Lt="http://www.w3.org/1999/xhtml",Nt="http://www.w3.org/2000/svg";function Rt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Rt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Ft,jt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==Nt||"innerHTML"in t)t.innerHTML=e;else{for((Ft=Ft||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ft.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Ut(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Vt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $t={animationend:Vt("Animation","AnimationEnd"),animationiteration:Vt("Animation","AnimationIteration"),animationstart:Vt("Animation","AnimationStart"),transitionend:Vt("Transition","TransitionEnd")},Wt={},Ht={};function qt(t){if(Wt[t])return Wt[t];if(!$t[t])return t;var e,n=$t[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ht)return Wt[t]=n[e];return t}S&&(Ht=document.createElement("div").style,"AnimationEvent"in window||(delete $t.animationend.animation,delete $t.animationiteration.animation,delete $t.animationstart.animation),"TransitionEvent"in window||delete $t.transitionend.transition);var zt=qt("animationend"),Kt=qt("animationiteration"),Qt=qt("animationstart"),Gt=qt("transitionend"),Xt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yt=new("function"===typeof WeakMap?WeakMap:Map);function Jt(t){var e=Yt.get(t);return void 0===e&&(e=new Map,Yt.set(t,e)),e}function Zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Zt(t)!==t)throw Error(s(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return ee(r),t;if(o===i)return ee(r),e;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,u=r.child;u;){if(u===n){a=!0,n=r,i=o;break}if(u===i){a=!0,i=r,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,i=r;break}if(u===i){a=!0,i=o,n=r;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ie(t,e){if(null==e)throw Error(s(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function re(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var oe=null;function se(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var i=0;i<e.length&&!t.isPropagationStopped();i++)y(t,e[i],n[i]);else e&&y(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function ae(t){if(null!==t&&(oe=ie(oe,t)),t=oe,oe=null,t){if(re(t,se),oe)throw Error(s(95));if(c)throw t=h,c=!1,h=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function le(t){if(!S)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var ce=[];function he(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ce.length&&ce.push(t)}function de(t,e,n,i){if(ce.length){var r=ce.pop();return r.topLevelType=t,r.eventSystemFlags=i,r.nativeEvent=e,r.targetInst=n,r}return{topLevelType:t,eventSystemFlags:i,nativeEvent:e,targetInst:n,ancestors:[]}}function fe(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Sn(i)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var r=ue(t.nativeEvent);i=t.topLevelType;var o=t.nativeEvent,s=t.eventSystemFlags;0===n&&(s|=64);for(var a=null,u=0;u<E.length;u++){var l=E[u];l&&(l=l.extractEvents(i,e,o,r,s))&&(a=ie(a,l))}ae(a)}}function pe(t,e,n){if(!n.has(t)){switch(t){case"scroll":Qe(e,"scroll",!0);break;case"focus":case"blur":Qe(e,"focus",!0),Qe(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":le(t)&&Qe(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xt.indexOf(t)&&Ke(t,e)}n.set(t,null)}}var ve,ge,ye,me=!1,_e=[],be=null,we=null,Ee=null,ke=new Map,Ce=new Map,Te=[],Ie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Se="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function xe(t,e,n,i,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:r,container:i}}function Oe(t,e){switch(t){case"focus":case"blur":be=null;break;case"dragenter":case"dragleave":we=null;break;case"mouseover":case"mouseout":Ee=null;break;case"pointerover":case"pointerout":ke.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ce.delete(e.pointerId)}}function Ae(t,e,n,i,r,o){return null===t||t.nativeEvent!==o?(t=xe(e,n,i,r,o),null!==e&&(null!==(e=xn(e))&&ge(e)),t):(t.eventSystemFlags|=i,t)}function De(t){var e=Sn(t.target);if(null!==e){var n=Zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){ye(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Me(t){if(null!==t.blockedOn)return!1;var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=xn(e);return null!==n&&ge(n),t.blockedOn=e,!1}return!0}function Pe(t,e,n){Me(t)&&n.delete(e)}function Le(){for(me=!1;0<_e.length;){var t=_e[0];if(null!==t.blockedOn){null!==(t=xn(t.blockedOn))&&ve(t);break}var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:_e.shift()}null!==be&&Me(be)&&(be=null),null!==we&&Me(we)&&(we=null),null!==Ee&&Me(Ee)&&(Ee=null),ke.forEach(Pe),Ce.forEach(Pe)}function Ne(t,e){t.blockedOn===e&&(t.blockedOn=null,me||(me=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Le)))}function Re(t){function e(e){return Ne(e,t)}if(0<_e.length){Ne(_e[0],t);for(var n=1;n<_e.length;n++){var i=_e[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==be&&Ne(be,t),null!==we&&Ne(we,t),null!==Ee&&Ne(Ee,t),ke.forEach(e),Ce.forEach(e),n=0;n<Te.length;n++)(i=Te[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Te.length&&null===(n=Te[0]).blockedOn;)De(n),null===n.blockedOn&&Te.shift()}var Be={},Fe=new Map,je=new Map,Ue=["abort","abort",zt,"animationEnd",Kt,"animationIteration",Qt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Gt,"transitionEnd","waiting","waiting"];function Ve(t,e){for(var n=0;n<t.length;n+=2){var i=t[n],r=t[n+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[i],eventPriority:e},je.set(i,e),Fe.set(i,o),Be[r]=o}}Ve("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ve("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ve(Ue,2);for(var $e="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<$e.length;We++)je.set($e[We],0);var He=o.unstable_UserBlockingPriority,qe=o.unstable_runWithPriority,ze=!0;function Ke(t,e){Qe(e,t,!1)}function Qe(t,e,n){var i=je.get(e);switch(void 0===i?2:i){case 0:i=Ge.bind(null,e,1,t);break;case 1:i=Xe.bind(null,e,1,t);break;default:i=Ye.bind(null,e,1,t)}n?t.addEventListener(e,i,!0):t.addEventListener(e,i,!1)}function Ge(t,e,n,i){F||R();var r=Ye,o=F;F=!0;try{N(r,t,e,n,i)}finally{(F=o)||U()}}function Xe(t,e,n,i){qe(He,Ye.bind(null,t,e,n,i))}function Ye(t,e,n,i){if(ze)if(0<_e.length&&-1<Ie.indexOf(t))t=xe(null,t,e,n,i),_e.push(t);else{var r=Je(t,e,n,i);if(null===r)Oe(t,i);else if(-1<Ie.indexOf(t))t=xe(r,t,e,n,i),_e.push(t);else if(!function(t,e,n,i,r){switch(e){case"focus":return be=Ae(be,t,e,n,i,r),!0;case"dragenter":return we=Ae(we,t,e,n,i,r),!0;case"mouseover":return Ee=Ae(Ee,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return ke.set(o,Ae(ke.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Ce.set(o,Ae(Ce.get(o)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i)){Oe(t,i),t=de(t,i,null,e);try{V(fe,t)}finally{he(t)}}}}function Je(t,e,n,i){if(null!==(n=Sn(n=ue(i)))){var r=Zt(n);if(null===r)n=null;else{var o=r.tag;if(13===o){if(null!==(n=te(r)))return n;n=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}t=de(t,i,n,e);try{V(fe,t)}finally{he(t)}return null}var Ze={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function en(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Ze.hasOwnProperty(t)&&Ze[t]?(""+e).trim():e+"px"}function nn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=en(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(Ze).forEach((function(t){tn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ze[e]=Ze[t]}))}));var rn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(t,e){if(e){if(rn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62,""))}}function sn(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var an=Lt;function un(t,e){var n=Jt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=T[e];for(var i=0;i<e.length;i++)pe(e[i],t,n)}function ln(){}function cn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dn(t,e){var n,i=hn(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=hn(i)}}function fn(){for(var t=window,e=cn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=cn((t=e.contentWindow).document)}return e}function pn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var vn=null,gn=null;function yn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function mn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var _n="function"===typeof setTimeout?setTimeout:void 0,bn="function"===typeof clearTimeout?clearTimeout:void 0;function wn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function En(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var kn=Math.random().toString(36).slice(2),Cn="__reactInternalInstance$"+kn,Tn="__reactEventHandlers$"+kn,In="__reactContainere$"+kn;function Sn(t){var e=t[Cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[In]||n[Cn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=En(t);null!==t;){if(n=t[Cn])return n;t=En(t)}return e}n=(t=n).parentNode}return null}function xn(t){return!(t=t[Cn]||t[In])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function On(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function An(t){return t[Tn]||null}function Dn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Mn(t,e){var n=t.stateNode;if(!n)return null;var i=p(n);if(!i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}function Pn(t,e,n){(e=Mn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=ie(n._dispatchListeners,e),n._dispatchInstances=ie(n._dispatchInstances,t))}function Ln(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Dn(e);for(e=n.length;0<e--;)Pn(n[e],"captured",t);for(e=0;e<n.length;e++)Pn(n[e],"bubbled",t)}}function Nn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Mn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=ie(n._dispatchListeners,e),n._dispatchInstances=ie(n._dispatchInstances,t))}function Rn(t){t&&t.dispatchConfig.registrationName&&Nn(t._targetInst,null,t)}function Bn(t){re(t,Ln)}var Fn=null,jn=null,Un=null;function Vn(){if(Un)return Un;var t,e,n=jn,i=n.length,r="value"in Fn?Fn.value:Fn.textContent,o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[o-e];e++);return Un=r.slice(t,1<e?1-e:void 0)}function $n(){return!0}function Wn(){return!1}function Hn(t,e,n,i){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?$n:Wn,this.isPropagationStopped=Wn,this}function qn(t,e,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,n,i),r}return new this(t,e,n,i)}function zn(t){if(!(t instanceof this))throw Error(s(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Kn(t){t.eventPool=[],t.getPooled=qn,t.release=zn}r(Hn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){this.isPersistent=$n},isPersistent:Wn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Wn,this._dispatchInstances=this._dispatchListeners=null}}),Hn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Hn.extend=function(t){function e(){}function n(){return i.apply(this,arguments)}var i=this;e.prototype=i.prototype;var o=new e;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,t),n.extend=i.extend,Kn(n),n},Kn(Hn);var Qn=Hn.extend({data:null}),Gn=Hn.extend({data:null}),Xn=[9,13,27,32],Yn=S&&"CompositionEvent"in window,Jn=null;S&&"documentMode"in document&&(Jn=document.documentMode);var Zn=S&&"TextEvent"in window&&!Jn,ti=S&&(!Yn||Jn&&8<Jn&&11>=Jn),ei=String.fromCharCode(32),ni={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ii=!1;function ri(t,e){switch(t){case"keyup":return-1!==Xn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function oi(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var si=!1;var ai={eventTypes:ni,extractEvents:function(t,e,n,i){var r;if(Yn)t:{switch(t){case"compositionstart":var o=ni.compositionStart;break t;case"compositionend":o=ni.compositionEnd;break t;case"compositionupdate":o=ni.compositionUpdate;break t}o=void 0}else si?ri(t,n)&&(o=ni.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=ni.compositionStart);return o?(ti&&"ko"!==n.locale&&(si||o!==ni.compositionStart?o===ni.compositionEnd&&si&&(r=Vn()):(jn="value"in(Fn=i)?Fn.value:Fn.textContent,si=!0)),o=Qn.getPooled(o,e,n,i),r?o.data=r:null!==(r=oi(n))&&(o.data=r),Bn(o),r=o):r=null,(t=Zn?function(t,e){switch(t){case"compositionend":return oi(e);case"keypress":return 32!==e.which?null:(ii=!0,ei);case"textInput":return(t=e.data)===ei&&ii?null:t;default:return null}}(t,n):function(t,e){if(si)return"compositionend"===t||!Yn&&ri(t,e)?(t=Vn(),Un=jn=Fn=null,si=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ti&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Gn.getPooled(ni.beforeInput,e,n,i)).data=t,Bn(e)):e=null,null===r?e:null===e?r:[r,e]}},ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function li(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!ui[t.type]:"textarea"===e}var ci={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hi(t,e,n){return(t=Hn.getPooled(ci.change,t,e,n)).type="change",M(n),Bn(t),t}var di=null,fi=null;function pi(t){ae(t)}function vi(t){if(wt(On(t)))return t}function gi(t,e){if("change"===t)return e}var yi=!1;function mi(){di&&(di.detachEvent("onpropertychange",_i),fi=di=null)}function _i(t){if("value"===t.propertyName&&vi(fi))if(t=hi(fi,t,ue(t)),F)ae(t);else{F=!0;try{L(pi,t)}finally{F=!1,U()}}}function bi(t,e,n){"focus"===t?(mi(),fi=n,(di=e).attachEvent("onpropertychange",_i)):"blur"===t&&mi()}function wi(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return vi(fi)}function Ei(t,e){if("click"===t)return vi(e)}function ki(t,e){if("input"===t||"change"===t)return vi(e)}S&&(yi=le("input")&&(!document.documentMode||9<document.documentMode));var Ci={eventTypes:ci,_isInputEventSupported:yi,extractEvents:function(t,e,n,i){var r=e?On(e):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var s=gi;else if(li(r))if(yi)s=ki;else{s=wi;var a=bi}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(s=Ei);if(s&&(s=s(t,e)))return hi(s,n,i);a&&a(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&St(r,"number",r.value)}},Ti=Hn.extend({view:null,detail:null}),Ii={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Si(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ii[t])&&!!e[t]}function xi(){return Si}var Oi=0,Ai=0,Di=!1,Mi=!1,Pi=Ti.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:xi,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Oi;return Oi=t.screenX,Di?"mousemove"===t.type?t.screenX-e:0:(Di=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Ai;return Ai=t.screenY,Mi?"mousemove"===t.type?t.screenY-e:0:(Mi=!0,0)}}),Li=Pi.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ni={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ri={eventTypes:Ni,extractEvents:function(t,e,n,i,r){var o="mouseover"===t||"pointerover"===t,s="mouseout"===t||"pointerout"===t;if(o&&0===(32&r)&&(n.relatedTarget||n.fromElement)||!s&&!o)return null;(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,s)?(s=e,null!==(e=(e=n.relatedTarget||n.toElement)?Sn(e):null)&&(e!==Zt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):s=null;if(s===e)return null;if("mouseout"===t||"mouseover"===t)var a=Pi,u=Ni.mouseLeave,l=Ni.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(a=Li,u=Ni.pointerLeave,l=Ni.pointerEnter,c="pointer");if(t=null==s?o:On(s),o=null==e?o:On(e),(u=a.getPooled(u,s,n,i)).type=c+"leave",u.target=t,u.relatedTarget=o,(n=a.getPooled(l,e,n,i)).type=c+"enter",n.target=o,n.relatedTarget=t,c=e,(i=s)&&c)t:{for(l=c,s=0,t=a=i;t;t=Dn(t))s++;for(t=0,e=l;e;e=Dn(e))t++;for(;0<s-t;)a=Dn(a),s--;for(;0<t-s;)l=Dn(l),t--;for(;s--;){if(a===l||a===l.alternate)break t;a=Dn(a),l=Dn(l)}a=null}else a=null;for(l=a,a=[];i&&i!==l&&(null===(s=i.alternate)||s!==l);)a.push(i),i=Dn(i);for(i=[];c&&c!==l&&(null===(s=c.alternate)||s!==l);)i.push(c),c=Dn(c);for(c=0;c<a.length;c++)Nn(a[c],"bubbled",u);for(c=i.length;0<c--;)Nn(i[c],"captured",n);return 0===(64&r)?[u]:[u,n]}};var Bi="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Fi=Object.prototype.hasOwnProperty;function ji(t,e){if(Bi(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Fi.call(e,n[i])||!Bi(t[n[i]],e[n[i]]))return!1;return!0}var Ui=S&&"documentMode"in document&&11>=document.documentMode,Vi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},$i=null,Wi=null,Hi=null,qi=!1;function zi(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return qi||null==$i||$i!==cn(n)?null:("selectionStart"in(n=$i)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hi&&ji(Hi,n)?null:(Hi=n,(t=Hn.getPooled(Vi.select,Wi,t,e)).type="select",t.target=$i,Bn(t),t))}var Ki={eventTypes:Vi,extractEvents:function(t,e,n,i,r,o){if(!(o=!(r=o||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){t:{r=Jt(r),o=T.onSelect;for(var s=0;s<o.length;s++)if(!r.has(o[s])){r=!1;break t}r=!0}o=!r}if(o)return null;switch(r=e?On(e):window,t){case"focus":(li(r)||"true"===r.contentEditable)&&($i=r,Wi=e,Hi=null);break;case"blur":Hi=Wi=$i=null;break;case"mousedown":qi=!0;break;case"contextmenu":case"mouseup":case"dragend":return qi=!1,zi(n,i);case"selectionchange":if(Ui)break;case"keydown":case"keyup":return zi(n,i)}return null}},Qi=Hn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Gi=Hn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xi=Ti.extend({relatedTarget:null});function Yi(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tr=Ti.extend({key:function(t){if(t.key){var e=Ji[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Yi(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Zi[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:xi,charCode:function(t){return"keypress"===t.type?Yi(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Yi(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),er=Pi.extend({dataTransfer:null}),nr=Ti.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:xi}),ir=Hn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rr=Pi.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),or={eventTypes:Be,extractEvents:function(t,e,n,i){var r=Fe.get(t);if(!r)return null;switch(t){case"keypress":if(0===Yi(n))return null;case"keydown":case"keyup":t=tr;break;case"blur":case"focus":t=Xi;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=er;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=nr;break;case zt:case Kt:case Qt:t=Qi;break;case Gt:t=ir;break;case"scroll":t=Ti;break;case"wheel":t=rr;break;case"copy":case"cut":case"paste":t=Gi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Li;break;default:t=Hn}return Bn(e=t.getPooled(r,e,n,i)),e}};if(m)throw Error(s(101));m=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),p=An,v=xn,g=On,I({SimpleEventPlugin:or,EnterLeaveEventPlugin:Ri,ChangeEventPlugin:Ci,SelectEventPlugin:Ki,BeforeInputEventPlugin:ai});var sr=[],ar=-1;function ur(t){0>ar||(t.current=sr[ar],sr[ar]=null,ar--)}function lr(t,e){ar++,sr[ar]=t.current,t.current=e}var cr={},hr={current:cr},dr={current:!1},fr=cr;function pr(t,e){var n=t.type.contextTypes;if(!n)return cr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function vr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function gr(){ur(dr),ur(hr)}function yr(t,e,n){if(hr.current!==cr)throw Error(s(168));lr(hr,e),lr(dr,n)}function mr(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in t))throw Error(s(108,gt(e)||"Unknown",o));return r({},n,{},i)}function _r(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cr,fr=hr.current,lr(hr,t),lr(dr,dr.current),!0}function br(t,e,n){var i=t.stateNode;if(!i)throw Error(s(169));n?(t=mr(t,e,fr),i.__reactInternalMemoizedMergedChildContext=t,ur(dr),ur(hr),lr(hr,t)):ur(dr),lr(dr,n)}var wr=o.unstable_runWithPriority,Er=o.unstable_scheduleCallback,kr=o.unstable_cancelCallback,Cr=o.unstable_requestPaint,Tr=o.unstable_now,Ir=o.unstable_getCurrentPriorityLevel,Sr=o.unstable_ImmediatePriority,xr=o.unstable_UserBlockingPriority,Or=o.unstable_NormalPriority,Ar=o.unstable_LowPriority,Dr=o.unstable_IdlePriority,Mr={},Pr=o.unstable_shouldYield,Lr=void 0!==Cr?Cr:function(){},Nr=null,Rr=null,Br=!1,Fr=Tr(),jr=1e4>Fr?Tr:function(){return Tr()-Fr};function Ur(){switch(Ir()){case Sr:return 99;case xr:return 98;case Or:return 97;case Ar:return 96;case Dr:return 95;default:throw Error(s(332))}}function Vr(t){switch(t){case 99:return Sr;case 98:return xr;case 97:return Or;case 96:return Ar;case 95:return Dr;default:throw Error(s(332))}}function $r(t,e){return t=Vr(t),wr(t,e)}function Wr(t,e,n){return t=Vr(t),Er(t,e,n)}function Hr(t){return null===Nr?(Nr=[t],Rr=Er(Sr,zr)):Nr.push(t),Mr}function qr(){if(null!==Rr){var t=Rr;Rr=null,kr(t)}zr()}function zr(){if(!Br&&null!==Nr){Br=!0;var t=0;try{var e=Nr;$r(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Nr=null}catch(n){throw null!==Nr&&(Nr=Nr.slice(t+1)),Er(Sr,qr),n}finally{Br=!1}}}function Kr(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Qr(t,e){if(t&&t.defaultProps)for(var n in e=r({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Gr={current:null},Xr=null,Yr=null,Jr=null;function Zr(){Jr=Yr=Xr=null}function to(t){var e=Gr.current;ur(Gr),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function no(t,e){Xr=t,Jr=Yr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(As=!0),t.firstContext=null)}function io(t,e){if(Jr!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Jr=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Yr){if(null===Xr)throw Error(s(308));Yr=e,Xr.dependencies={expirationTime:0,firstContext:e,responders:null}}else Yr=Yr.next=e;return t._currentValue}var ro=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function so(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function ao(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function uo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function lo(t,e){var n=t.alternate;null!==n&&so(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function co(t,e,n,i){var o=t.updateQueue;ro=!1;var s=o.baseQueue,a=o.shared.pending;if(null!==a){if(null!==s){var u=s.next;s.next=a.next,a.next=u}s=a,o.shared.pending=null,null!==(u=t.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=a))}if(null!==s){u=s.next;var l=o.baseState,c=0,h=null,d=null,f=null;if(null!==u)for(var p=u;;){if((a=p.expirationTime)<i){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=v,h=l):f=f.next=v,a>c&&(c=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ou(a,p.suspenseConfig);t:{var g=t,y=p;switch(a=e,v=n,y.tag){case 1:if("function"===typeof(g=y.payload)){l=g.call(v,l,a);break t}l=g;break t;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(a="function"===typeof(g=y.payload)?g.call(v,l,a):g)||void 0===a)break t;l=r({},l,a);break t;case 2:ro=!0}}null!==p.callback&&(t.effectTag|=32,null===(a=o.effects)?o.effects=[p]:a.push(p))}if(null===(p=p.next)||p===u){if(null===(a=o.shared.pending))break;p=s.next=a.next,a.next=u,o.baseQueue=s=a,o.shared.pending=null}}null===f?h=l:f.next=d,o.baseState=h,o.baseQueue=f,su(c),t.expirationTime=c,t.memoizedState=l}}function ho(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var fo=X.ReactCurrentBatchConfig,po=(new i.Component).refs;function vo(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:r({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var go={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var i=za(),r=fo.suspense;(r=ao(i=Ka(i,t,r),r)).payload=e,void 0!==n&&null!==n&&(r.callback=n),uo(t,r),Qa(t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var i=za(),r=fo.suspense;(r=ao(i=Ka(i,t,r),r)).tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),uo(t,r),Qa(t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=za(),i=fo.suspense;(i=ao(n=Ka(n,t,i),i)).tag=2,void 0!==e&&null!==e&&(i.callback=e),uo(t,i),Qa(t,n)}};function yo(t,e,n,i,r,o,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,o,s):!e.prototype||!e.prototype.isPureReactComponent||(!ji(n,i)||!ji(r,o))}function mo(t,e,n){var i=!1,r=cr,o=e.contextType;return"object"===typeof o&&null!==o?o=io(o):(r=vr(e)?fr:hr.current,o=(i=null!==(i=e.contextTypes)&&void 0!==i)?pr(t,r):cr),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=go,t.stateNode=e,e._reactInternalFiber=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function _o(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&go.enqueueReplaceState(e,e.state,null)}function bo(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=po,oo(t);var o=e.contextType;"object"===typeof o&&null!==o?r.context=io(o):(o=vr(e)?fr:hr.current,r.context=pr(t,o)),co(t,n,r,i),r.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(vo(t,e,o,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&go.enqueueReplaceState(r,r.state,null),co(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.effectTag|=4)}var wo=Array.isArray;function Eo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,t));var r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:((e=function(t){var e=i.refs;e===po&&(e=i.refs={}),null===t?delete e[r]:e[r]=t})._stringRef=r,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function ko(t,e){if("textarea"!==t.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Co(t){function e(e,n){if(t){var i=e.lastEffect;null!==i?(i.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Iu(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.effectTag=2,n):i:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,i){return null===e||6!==e.tag?((e=Ou(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function l(t,e,n,i){return null!==e&&e.elementType===n.type?((i=r(e,n.props)).ref=Eo(t,e,n),i.return=t,i):((i=Su(n.type,n.key,n.props,null,t.mode,i)).ref=Eo(t,e,n),i.return=t,i)}function c(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Au(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,o){return null===e||7!==e.tag?((e=xu(n,t.mode,i,o)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Ou(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=Su(e.type,e.key,e.props,null,t.mode,n)).ref=Eo(t,null,e),n.return=t,n;case et:return(e=Au(e,t.mode,n)).return=t,e}if(wo(e)||vt(e))return(e=xu(e,t.mode,n,null)).return=t,e;ko(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:u(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===r?n.type===nt?h(t,e,n.props.children,i,r):l(t,e,n,i):null;case et:return n.key===r?c(t,e,n,i):null}if(wo(n)||vt(n))return null!==r?null:h(t,e,n,i,null);ko(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i||"number"===typeof i)return u(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case tt:return t=t.get(null===i.key?n:i.key)||null,i.type===nt?h(e,t,i.props.children,r,i.key):l(e,t,i,r);case et:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r)}if(wo(i)||vt(i))return h(e,t=t.get(n)||null,i,r,null);ko(e,i)}return null}function v(r,s,a,u){for(var l=null,c=null,h=s,v=s=0,g=null;null!==h&&v<a.length;v++){h.index>v?(g=h,h=null):g=h.sibling;var y=f(r,h,a[v],u);if(null===y){null===h&&(h=g);break}t&&h&&null===y.alternate&&e(r,h),s=o(y,s,v),null===c?l=y:c.sibling=y,c=y,h=g}if(v===a.length)return n(r,h),l;if(null===h){for(;v<a.length;v++)null!==(h=d(r,a[v],u))&&(s=o(h,s,v),null===c?l=h:c.sibling=h,c=h);return l}for(h=i(r,h);v<a.length;v++)null!==(g=p(h,r,v,a[v],u))&&(t&&null!==g.alternate&&h.delete(null===g.key?v:g.key),s=o(g,s,v),null===c?l=g:c.sibling=g,c=g);return t&&h.forEach((function(t){return e(r,t)})),l}function g(r,a,u,l){var c=vt(u);if("function"!==typeof c)throw Error(s(150));if(null==(u=c.call(u)))throw Error(s(151));for(var h=c=null,v=a,g=a=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var _=f(r,v,m.value,l);if(null===_){null===v&&(v=y);break}t&&v&&null===_.alternate&&e(r,v),a=o(_,a,g),null===h?c=_:h.sibling=_,h=_,v=y}if(m.done)return n(r,v),c;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=d(r,m.value,l))&&(a=o(m,a,g),null===h?c=m:h.sibling=m,h=m);return c}for(v=i(r,v);!m.done;g++,m=u.next())null!==(m=p(v,r,g,m.value,l))&&(t&&null!==m.alternate&&v.delete(null===m.key?g:m.key),a=o(m,a,g),null===h?c=m:h.sibling=m,h=m);return t&&v.forEach((function(t){return e(r,t)})),c}return function(t,i,o,u){var l="object"===typeof o&&null!==o&&o.type===nt&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case tt:t:{for(c=o.key,l=i;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===nt){n(t,l.sibling),(i=r(l,o.props.children)).return=t,t=i;break t}break;default:if(l.elementType===o.type){n(t,l.sibling),(i=r(l,o.props)).ref=Eo(t,l,o),i.return=t,t=i;break t}}n(t,l);break}e(t,l),l=l.sibling}o.type===nt?((i=xu(o.props.children,t.mode,u,o.key)).return=t,t=i):((u=Su(o.type,o.key,o.props,null,t.mode,u)).ref=Eo(t,i,o),u.return=t,t=u)}return a(t);case et:t:{for(l=o.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(t,i.sibling),(i=r(i,o.children||[])).return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}(i=Au(o,t.mode,u)).return=t,t=i}return a(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(n(t,i.sibling),(i=r(i,o)).return=t,t=i):(n(t,i),(i=Ou(o,t.mode,u)).return=t,t=i),a(t);if(wo(o))return v(t,i,o,u);if(vt(o))return g(t,i,o,u);if(c&&ko(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 0:throw t=t.type,Error(s(152,t.displayName||t.name||"Component"))}return n(t,i)}}var To=Co(!0),Io=Co(!1),So={},xo={current:So},Oo={current:So},Ao={current:So};function Do(t){if(t===So)throw Error(s(174));return t}function Mo(t,e){switch(lr(Ao,e),lr(Oo,t),lr(xo,So),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bt(null,"");break;default:e=Bt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ur(xo),lr(xo,e)}function Po(){ur(xo),ur(Oo),ur(Ao)}function Lo(t){Do(Ao.current);var e=Do(xo.current),n=Bt(e,t.type);e!==n&&(lr(Oo,t),lr(xo,n))}function No(t){Oo.current===t&&(ur(xo),ur(Oo))}var Ro={current:0};function Bo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Fo(t,e){return{responder:t,props:e}}var jo=X.ReactCurrentDispatcher,Uo=X.ReactCurrentBatchConfig,Vo=0,$o=null,Wo=null,Ho=null,qo=!1;function zo(){throw Error(s(321))}function Ko(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bi(t[n],e[n]))return!1;return!0}function Qo(t,e,n,i,r,o){if(Vo=o,$o=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,jo.current=null===t||null===t.memoizedState?ys:ms,t=n(i,r),e.expirationTime===Vo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(s(301));o+=1,Ho=Wo=null,e.updateQueue=null,jo.current=_s,t=n(i,r)}while(e.expirationTime===Vo)}if(jo.current=gs,e=null!==Wo&&null!==Wo.next,Vo=0,Ho=Wo=$o=null,qo=!1,e)throw Error(s(300));return t}function Go(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ho?$o.memoizedState=Ho=t:Ho=Ho.next=t,Ho}function Xo(){if(null===Wo){var t=$o.alternate;t=null!==t?t.memoizedState:null}else t=Wo.next;var e=null===Ho?$o.memoizedState:Ho.next;if(null!==e)Ho=e,Wo=t;else{if(null===t)throw Error(s(310));t={memoizedState:(Wo=t).memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},null===Ho?$o.memoizedState=Ho=t:Ho=Ho.next=t}return Ho}function Yo(t,e){return"function"===typeof e?e(t):e}function Jo(t){var e=Xo(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=Wo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var u=a=o=null,l=r;do{var c=l.expirationTime;if(c<Vo){var h={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(a=u=h,o=i):u=u.next=h,c>$o.expirationTime&&($o.expirationTime=c,su(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),ou(c,l.suspenseConfig),i=l.eagerReducer===t?l.eagerState:t(i,l.action);l=l.next}while(null!==l&&l!==r);null===u?o=i:u.next=a,Bi(i,e.memoizedState)||(As=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=u,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function Zo(t){var e=Xo(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=t(o,a.action),a=a.next}while(a!==r);Bi(o,e.memoizedState)||(As=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function ts(t){var e=Go();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:t}).dispatch=vs.bind(null,$o,t),[e.memoizedState,t]}function es(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=$o.updateQueue)?(e={lastEffect:null},$o.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function ns(){return Xo().memoizedState}function is(t,e,n,i){var r=Go();$o.effectTag|=t,r.memoizedState=es(1|e,n,void 0,void 0===i?null:i)}function rs(t,e,n,i){var r=Xo();i=void 0===i?null:i;var o=void 0;if(null!==Wo){var s=Wo.memoizedState;if(o=s.destroy,null!==i&&Ko(i,s.deps))return void es(e,n,o,i)}$o.effectTag|=t,r.memoizedState=es(1|e,n,o,i)}function os(t,e){return is(516,4,t,e)}function ss(t,e){return rs(516,4,t,e)}function as(t,e){return rs(4,2,t,e)}function us(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ls(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,rs(4,2,us.bind(null,e,t),n)}function cs(){}function hs(t,e){return Go().memoizedState=[t,void 0===e?null:e],t}function ds(t,e){var n=Xo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Ko(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function fs(t,e){var n=Xo();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Ko(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function ps(t,e,n){var i=Ur();$r(98>i?98:i,(function(){t(!0)})),$r(97<i?97:i,(function(){var i=Uo.suspense;Uo.suspense=void 0===e?null:e;try{t(!1),n()}finally{Uo.suspense=i}}))}function vs(t,e,n){var i=za(),r=fo.suspense;r={expirationTime:i=Ka(i,t,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),e.pending=r,o=t.alternate,t===$o||null!==o&&o===$o)qo=!0,r.expirationTime=Vo,$o.expirationTime=Vo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=o(s,n);if(r.eagerReducer=o,r.eagerState=a,Bi(a,s))return}catch(u){}Qa(t,i)}}var gs={readContext:io,useCallback:zo,useContext:zo,useEffect:zo,useImperativeHandle:zo,useLayoutEffect:zo,useMemo:zo,useReducer:zo,useRef:zo,useState:zo,useDebugValue:zo,useResponder:zo,useDeferredValue:zo,useTransition:zo},ys={readContext:io,useCallback:hs,useContext:io,useEffect:os,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,is(4,2,us.bind(null,e,t),n)},useLayoutEffect:function(t,e){return is(4,2,t,e)},useMemo:function(t,e){var n=Go();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Go();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t=(t=i.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=vs.bind(null,$o,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},Go().memoizedState=t},useState:ts,useDebugValue:cs,useResponder:Fo,useDeferredValue:function(t,e){var n=ts(t),i=n[0],r=n[1];return os((function(){var n=Uo.suspense;Uo.suspense=void 0===e?null:e;try{r(t)}finally{Uo.suspense=n}}),[t,e]),i},useTransition:function(t){var e=ts(!1),n=e[0];return e=e[1],[hs(ps.bind(null,e,t),[e,t]),n]}},ms={readContext:io,useCallback:ds,useContext:io,useEffect:ss,useImperativeHandle:ls,useLayoutEffect:as,useMemo:fs,useReducer:Jo,useRef:ns,useState:function(){return Jo(Yo)},useDebugValue:cs,useResponder:Fo,useDeferredValue:function(t,e){var n=Jo(Yo),i=n[0],r=n[1];return ss((function(){var n=Uo.suspense;Uo.suspense=void 0===e?null:e;try{r(t)}finally{Uo.suspense=n}}),[t,e]),i},useTransition:function(t){var e=Jo(Yo),n=e[0];return e=e[1],[ds(ps.bind(null,e,t),[e,t]),n]}},_s={readContext:io,useCallback:ds,useContext:io,useEffect:ss,useImperativeHandle:ls,useLayoutEffect:as,useMemo:fs,useReducer:Zo,useRef:ns,useState:function(){return Zo(Yo)},useDebugValue:cs,useResponder:Fo,useDeferredValue:function(t,e){var n=Zo(Yo),i=n[0],r=n[1];return ss((function(){var n=Uo.suspense;Uo.suspense=void 0===e?null:e;try{r(t)}finally{Uo.suspense=n}}),[t,e]),i},useTransition:function(t){var e=Zo(Yo),n=e[0];return e=e[1],[ds(ps.bind(null,e,t),[e,t]),n]}},bs=null,ws=null,Es=!1;function ks(t,e){var n=Cu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Cs(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Ts(t){if(Es){var e=ws;if(e){var n=e;if(!Cs(t,e)){if(!(e=wn(n.nextSibling))||!Cs(t,e))return t.effectTag=-1025&t.effectTag|2,Es=!1,void(bs=t);ks(bs,n)}bs=t,ws=wn(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Es=!1,bs=t}}function Is(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;bs=t}function Ss(t){if(t!==bs)return!1;if(!Es)return Is(t),Es=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!mn(e,t.memoizedProps))for(e=ws;e;)ks(t,e),e=wn(e.nextSibling);if(Is(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ws=wn(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ws=null}}else ws=bs?wn(t.stateNode.nextSibling):null;return!0}function xs(){ws=bs=null,Es=!1}var Os=X.ReactCurrentOwner,As=!1;function Ds(t,e,n,i){e.child=null===t?Io(e,null,n,i):To(e,t.child,n,i)}function Ms(t,e,n,i,r){n=n.render;var o=e.ref;return no(e,r),i=Qo(t,e,n,i,o,r),null===t||As?(e.effectTag|=1,Ds(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),Qs(t,e,r))}function Ps(t,e,n,i,r,o){if(null===t){var s=n.type;return"function"!==typeof s||Tu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Su(n.type,null,i,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Ls(t,e,s,i,r,o))}return s=t.child,r<o&&(r=s.memoizedProps,(n=null!==(n=n.compare)?n:ji)(r,i)&&t.ref===e.ref)?Qs(t,e,o):(e.effectTag|=1,(t=Iu(s,i)).ref=e.ref,t.return=e,e.child=t)}function Ls(t,e,n,i,r,o){return null!==t&&ji(t.memoizedProps,i)&&t.ref===e.ref&&(As=!1,r<o)?(e.expirationTime=t.expirationTime,Qs(t,e,o)):Rs(t,e,n,i,o)}function Ns(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Rs(t,e,n,i,r){var o=vr(n)?fr:hr.current;return o=pr(e,o),no(e,r),n=Qo(t,e,n,i,o,r),null===t||As?(e.effectTag|=1,Ds(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),Qs(t,e,r))}function Bs(t,e,n,i,r){if(vr(n)){var o=!0;_r(e)}else o=!1;if(no(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),mo(e,n,i),bo(e,n,i,r),i=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=io(l):l=pr(e,l=vr(n)?fr:hr.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||u!==l)&&_o(e,s,i,l),ro=!1;var d=e.memoizedState;s.state=d,co(e,i,s,r),u=e.memoizedState,a!==i||d!==u||dr.current||ro?("function"===typeof c&&(vo(e,n,c,i),u=e.memoizedState),(a=ro||yo(e,n,a,i,d,u,l))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.effectTag|=4)):("function"===typeof s.componentDidMount&&(e.effectTag|=4),e.memoizedProps=i,e.memoizedState=u),s.props=i,s.state=u,s.context=l,i=a):("function"===typeof s.componentDidMount&&(e.effectTag|=4),i=!1)}else s=e.stateNode,so(t,e),a=e.memoizedProps,s.props=e.type===e.elementType?a:Qr(e.type,a),u=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=io(l):l=pr(e,l=vr(n)?fr:hr.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||u!==l)&&_o(e,s,i,l),ro=!1,u=e.memoizedState,s.state=u,co(e,i,s,r),d=e.memoizedState,a!==i||u!==d||dr.current||ro?("function"===typeof c&&(vo(e,n,c,i),d=e.memoizedState),(c=ro||yo(e,n,a,i,u,d,l))?(h||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,d,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,d,l)),"function"===typeof s.componentDidUpdate&&(e.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=i,e.memoizedState=d),s.props=i,s.state=d,s.context=l,i=c):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),i=!1);return Fs(t,e,n,i,o,r)}function Fs(t,e,n,i,r,o){Ns(t,e);var s=0!==(64&e.effectTag);if(!i&&!s)return r&&br(e,n,!1),Qs(t,e,o);i=e.stateNode,Os.current=e;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.effectTag|=1,null!==t&&s?(e.child=To(e,t.child,null,o),e.child=To(e,null,a,o)):Ds(t,e,a,o),e.memoizedState=i.state,r&&br(e,n,!0),e.child}function js(t){var e=t.stateNode;e.pendingContext?yr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&yr(0,e.context,!1),Mo(t,e.containerInfo)}var Us,Vs,$s,Ws={dehydrated:null,retryTime:0};function Hs(t,e,n){var i,r=e.mode,o=e.pendingProps,s=Ro.current,a=!1;if((i=0!==(64&e.effectTag))||(i=0!==(2&s)&&(null===t||null!==t.memoizedState)),i?(a=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),lr(Ro,1&s),null===t){if(void 0!==o.fallback&&Ts(e),a){if(a=o.fallback,(o=xu(null,r,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=xu(a,r,n,null)).return=e,o.sibling=n,e.memoizedState=Ws,e.child=o,n}return r=o.children,e.memoizedState=null,e.child=Io(e,null,r,n)}if(null!==t.memoizedState){if(r=(t=t.child).sibling,a){if(o=o.fallback,(n=Iu(t,t.pendingProps)).return=e,0===(2&e.mode)&&(a=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(r=Iu(r,o)).return=e,n.sibling=r,n.childExpirationTime=0,e.memoizedState=Ws,e.child=n,r}return n=To(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,a){if(a=o.fallback,(o=xu(null,r,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=xu(a,r,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=Ws,e.child=o,n}return e.memoizedState=null,e.child=To(e,t,o.children,n)}function qs(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),eo(t.return,e)}function zs(t,e,n,i,r,o){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailExpiration=0,s.tailMode=r,s.lastEffect=o)}function Ks(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Ds(t,e,i.children,n),0!==(2&(i=Ro.current)))i=1&i|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&qs(t,n);else if(19===t.tag)qs(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(lr(Ro,i),0===(2&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===Bo(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),zs(e,!1,r,n,o,e.lastEffect);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===Bo(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}zs(e,!0,n,null,o,e.lastEffect);break;case"together":zs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Qs(t,e,n){null!==t&&(e.dependencies=t.dependencies);var i=e.expirationTime;if(0!==i&&su(i),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Iu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Iu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Gs(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Xs(t,e,n){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vr(e.type)&&gr(),null;case 3:return Po(),ur(dr),ur(hr),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Ss(e)||(e.effectTag|=4),null;case 5:No(e),n=Do(Ao.current);var o=e.type;if(null!==t&&null!=e.stateNode)Vs(t,e,o,i,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!i){if(null===e.stateNode)throw Error(s(166));return null}if(t=Do(xo.current),Ss(e)){i=e.stateNode,o=e.type;var a=e.memoizedProps;switch(i[Cn]=e,i[Tn]=a,o){case"iframe":case"object":case"embed":Ke("load",i);break;case"video":case"audio":for(t=0;t<Xt.length;t++)Ke(Xt[t],i);break;case"source":Ke("error",i);break;case"img":case"image":case"link":Ke("error",i),Ke("load",i);break;case"form":Ke("reset",i),Ke("submit",i);break;case"details":Ke("toggle",i);break;case"input":kt(i,a),Ke("invalid",i),un(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Ke("invalid",i),un(n,"onChange");break;case"textarea":Dt(i,a),Ke("invalid",i),un(n,"onChange")}for(var u in on(o,a),t=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?i.textContent!==l&&(t=["children",l]):"number"===typeof l&&i.textContent!==""+l&&(t=["children",""+l]):C.hasOwnProperty(u)&&null!=l&&un(n,u)}switch(o){case"input":bt(i),It(i,a,!0);break;case"textarea":bt(i),Pt(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=ln)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,t===an&&(t=Rt(o)),t===an?"script"===o?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=u.createElement(o,{is:i.is}):(t=u.createElement(o),"select"===o&&(u=t,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):t=u.createElementNS(t,o),t[Cn]=e,t[Tn]=i,Us(t,e),e.stateNode=t,u=sn(o,i),o){case"iframe":case"object":case"embed":Ke("load",t),l=i;break;case"video":case"audio":for(l=0;l<Xt.length;l++)Ke(Xt[l],t);l=i;break;case"source":Ke("error",t),l=i;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),l=i;break;case"form":Ke("reset",t),Ke("submit",t),l=i;break;case"details":Ke("toggle",t),l=i;break;case"input":kt(t,i),l=Et(t,i),Ke("invalid",t),un(n,"onChange");break;case"option":l=xt(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},l=r({},i,{value:void 0}),Ke("invalid",t),un(n,"onChange");break;case"textarea":Dt(t,i),l=At(t,i),Ke("invalid",t),un(n,"onChange");break;default:l=i}on(o,l);var c=l;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?nn(t,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&jt(t,h):"children"===a?"string"===typeof h?("textarea"!==o||""!==h)&&Ut(t,h):"number"===typeof h&&Ut(t,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(C.hasOwnProperty(a)?null!=h&&un(n,a):null!=h&&Y(t,a,h,u))}switch(o){case"input":bt(t),It(t,i,!1);break;case"textarea":bt(t),Pt(t);break;case"option":null!=i.value&&t.setAttribute("value",""+mt(i.value));break;case"select":t.multiple=!!i.multiple,null!=(n=i.value)?Ot(t,!!i.multiple,n,!1):null!=i.defaultValue&&Ot(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof l.onClick&&(t.onclick=ln)}yn(o,i)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)$s(0,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));n=Do(Ao.current),Do(xo.current),Ss(e)?(n=e.stateNode,i=e.memoizedProps,n[Cn]=e,n.nodeValue!==i&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Cn]=e,e.stateNode=n)}return null;case 13:return ur(Ro),i=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==i,i=!1,null===t?void 0!==e.memoizedProps.fallback&&Ss(e):(i=null!==(o=t.memoizedState),n||null===o||null!==(o=t.child.sibling)&&(null!==(a=e.firstEffect)?(e.firstEffect=o,o.nextEffect=a):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!i&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Ro.current)?Sa===ba&&(Sa=wa):(Sa!==ba&&Sa!==wa||(Sa=Ea),0!==Ma&&null!==Ca&&(Pu(Ca,Ia),Lu(Ca,Ma)))),(n||i)&&(e.effectTag|=4),null);case 4:return Po(),null;case 10:return to(e),null;case 17:return vr(e.type)&&gr(),null;case 19:if(ur(Ro),null===(i=e.memoizedState))return null;if(o=0!==(64&e.effectTag),null===(a=i.rendering)){if(o)Gs(i,!1);else if(Sa!==ba||null!==t&&0!==(64&t.effectTag))for(a=e.child;null!==a;){if(null!==(t=Bo(a))){for(e.effectTag|=64,Gs(i,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===i.lastEffect&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=e.child;null!==i;)a=n,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,a=t.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),i=i.sibling;return lr(Ro,1&Ro.current|2),e.child}a=a.sibling}}else{if(!o)if(null!==(t=Bo(a))){if(e.effectTag|=64,o=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Gs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate)return null!==(e=e.lastEffect=i.lastEffect)&&(e.nextEffect=null),null}else 2*jr()-i.renderingStartTime>i.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,Gs(i,!1),e.expirationTime=e.childExpirationTime=n-1);i.isBackwards?(a.sibling=e.child,e.child=a):(null!==(n=i.last)?n.sibling=a:e.child=a,i.last=a)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=jr()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=jr(),n.sibling=null,e=Ro.current,lr(Ro,o?1&e|2:1&e),n):null}throw Error(s(156,e.tag))}function Ys(t){switch(t.tag){case 1:vr(t.type)&&gr();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Po(),ur(dr),ur(hr),0!==(64&(e=t.effectTag)))throw Error(s(285));return t.effectTag=-4097&e|64,t;case 5:return No(t),null;case 13:return ur(Ro),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return ur(Ro),null;case 4:return Po(),null;case 10:return to(t),null;default:return null}}function Js(t,e){return{value:t,source:e,stack:yt(e)}}Us=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Vs=function(t,e,n,i,o){var s=t.memoizedProps;if(s!==i){var a,u,l=e.stateNode;switch(Do(xo.current),t=null,n){case"input":s=Et(l,s),i=Et(l,i),t=[];break;case"option":s=xt(l,s),i=xt(l,i),t=[];break;case"select":s=r({},s,{value:void 0}),i=r({},i,{value:void 0}),t=[];break;case"textarea":s=At(l,s),i=At(l,i),t=[];break;default:"function"!==typeof s.onClick&&"function"===typeof i.onClick&&(l.onclick=ln)}for(a in on(n,i),n=null,s)if(!i.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(u in l=s[a])l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(C.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in i){var c=i[a];if(l=null!=s?s[a]:void 0,i.hasOwnProperty(a)&&c!==l&&(null!=c||null!=l))if("style"===a)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(t||(t=[]),t.push(a,n)),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(a,c)):"children"===a?l===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(C.hasOwnProperty(a)?(null!=c&&un(o,a),t||l===c||(t=[])):(t=t||[]).push(a,c))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},$s=function(t,e,n,i){n!==i&&(e.effectTag|=4)};var Zs="function"===typeof WeakSet?WeakSet:Set;function ta(t,e){var n=e.source,i=e.stack;null===i&&null!==n&&(i=yt(n)),null!==n&&gt(n.type),e=e.value,null!==t&&1===t.tag&&gt(t.type);try{console.error(e)}catch(r){setTimeout((function(){throw r}))}}function ea(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){mu(t,n)}else e.current=null}function na(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,i=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Qr(e.type,n),i),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(s(163))}function ia(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==e)}}function ra(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function oa(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ra(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var i=n.elementType===n.type?e.memoizedProps:Qr(n.type,e.memoizedProps);t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&ho(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}ho(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&yn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Re(n)))));case 19:case 17:case 20:case 21:return}throw Error(s(163))}function sa(t,e,n){switch("function"===typeof Eu&&Eu(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var i=t.next;$r(97<n?97:n,(function(){var t=i;do{var n=t.destroy;if(void 0!==n){var r=e;try{n()}catch(o){mu(r,o)}}t=t.next}while(t!==i)}))}break;case 1:ea(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){mu(t,n)}}(e,n);break;case 5:ea(e);break;case 4:ca(t,e,n)}}function aa(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&aa(e)}function ua(t){return 5===t.tag||3===t.tag||4===t.tag}function la(t){t:{for(var e=t.return;null!==e;){if(ua(e)){var n=e;break t}e=e.return}throw Error(s(160))}switch(e=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:e=e.containerInfo,i=!0;break;default:throw Error(s(161))}16&n.effectTag&&(Ut(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ua(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}i?function t(e,n,i){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(8===i.nodeType?(n=i.parentNode).insertBefore(e,i):(n=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==n.onclick||(n.onclick=ln));else if(4!==r&&null!==(e=e.child))for(t(e,n,i),e=e.sibling;null!==e;)t(e,n,i),e=e.sibling}(t,n,e):function t(e,n,i){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,n?i.insertBefore(e,n):i.appendChild(e);else if(4!==r&&null!==(e=e.child))for(t(e,n,i),e=e.sibling;null!==e;)t(e,n,i),e=e.sibling}(t,n,e)}function ca(t,e,n){for(var i,r,o=e,a=!1;;){if(!a){a=o.return;t:for(;;){if(null===a)throw Error(s(160));switch(i=a.stateNode,a.tag){case 5:r=!1;break t;case 3:case 4:i=i.containerInfo,r=!0;break t}a=a.return}a=!0}if(5===o.tag||6===o.tag){t:for(var u=t,l=o,c=n,h=l;;)if(sa(u,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break t;for(;null===h.sibling;){if(null===h.return||h.return===l)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r?(u=i,l=o.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(sa(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function ha(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void ia(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var i=e.memoizedProps,r=null!==t?t.memoizedProps:i;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Tn]=i,"input"===t&&"radio"===i.type&&null!=i.name&&Ct(n,i),sn(t,r),e=sn(t,i),r=0;r<o.length;r+=2){var a=o[r],u=o[r+1];"style"===a?nn(n,u):"dangerouslySetInnerHTML"===a?jt(n,u):"children"===a?Ut(n,u):Y(n,a,u,e)}switch(t){case"input":Tt(n,i);break;case"textarea":Mt(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(t=i.value)?Ot(n,!!i.multiple,t,!1):e!==!!i.multiple&&(null!=i.defaultValue?Ot(n,!!i.multiple,i.defaultValue,!0):Ot(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(s(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Re(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?i=!1:(i=!0,n=e.child,La=jr()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,i?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,r=void 0!==(r=t.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,o.style.display=en("display",r));else if(6===t.tag)t.stateNode.nodeValue=i?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void da(e);case 19:return void da(e);case 17:return}throw Error(s(163))}function da(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Zs),e.forEach((function(e){var i=bu.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(t,e,n){(n=ao(n,null)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Ra||(Ra=!0,Ba=i),ta(t,e)},n}function va(t,e,n){(n=ao(n,null)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return ta(t,e),i(r)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===Fa?Fa=new Set([this]):Fa.add(this),ta(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var ga,ya=Math.ceil,ma=X.ReactCurrentDispatcher,_a=X.ReactCurrentOwner,ba=0,wa=3,Ea=4,ka=0,Ca=null,Ta=null,Ia=0,Sa=ba,xa=null,Oa=1073741823,Aa=1073741823,Da=null,Ma=0,Pa=!1,La=0,Na=null,Ra=!1,Ba=null,Fa=null,ja=!1,Ua=null,Va=90,$a=null,Wa=0,Ha=null,qa=0;function za(){return 0!==(48&ka)?1073741821-(jr()/10|0):0!==qa?qa:qa=1073741821-(jr()/10|0)}function Ka(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var i=Ur();if(0===(4&e))return 99===i?1073741823:1073741822;if(0!==(16&ka))return Ia;if(null!==n)t=Kr(t,0|n.timeoutMs||5e3,250);else switch(i){case 99:t=1073741823;break;case 98:t=Kr(t,150,100);break;case 97:case 96:t=Kr(t,5e3,250);break;case 95:t=2;break;default:throw Error(s(326))}return null!==Ca&&t===Ia&&--t,t}function Qa(t,e){if(50<Wa)throw Wa=0,Ha=null,Error(s(185));if(null!==(t=Ga(t,e))){var n=Ur();1073741823===e?0!==(8&ka)&&0===(48&ka)?Za(t):(Ya(t),0===ka&&qr()):Ya(t),0===(4&ka)||98!==n&&99!==n||(null===$a?$a=new Map([[t,e]]):(void 0===(n=$a.get(t))||n>e)&&$a.set(t,e))}}function Ga(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var i=t.return,r=null;if(null===i&&3===t.tag)r=t.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<e&&(i.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(Ca===r&&(su(e),Sa===Ea&&Pu(r,Ia)),Lu(r,e)),r}function Xa(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Mu(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function Ya(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Hr(Za.bind(null,t));else{var e=Xa(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var i=za();if(1073741823===e?i=99:1===e||2===e?i=95:i=0>=(i=10*(1073741821-e)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=t.callbackPriority;if(t.callbackExpirationTime===e&&r>=i)return;n!==Mr&&kr(n)}t.callbackExpirationTime=e,t.callbackPriority=i,e=1073741823===e?Hr(Za.bind(null,t)):Wr(i,Ja.bind(null,t),{timeout:10*(1073741821-e)-jr()}),t.callbackNode=e}}}function Ja(t,e){if(qa=0,e)return Nu(t,e=za()),Ya(t),null;var n=Xa(t);if(0!==n){if(e=t.callbackNode,0!==(48&ka))throw Error(s(327));if(vu(),t===Ca&&n===Ia||nu(t,n),null!==Ta){var i=ka;ka|=16;for(var r=ru();;)try{uu();break}catch(u){iu(t,u)}if(Zr(),ka=i,ma.current=r,1===Sa)throw e=xa,nu(t,n),Pu(t,n),Ya(t),e;if(null===Ta)switch(r=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,i=Sa,Ca=null,i){case ba:case 1:throw Error(s(345));case 2:Nu(t,2<n?2:n);break;case wa:if(Pu(t,n),n===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hu(r)),1073741823===Oa&&10<(r=La+500-jr())){if(Pa){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,nu(t,n);break}}if(0!==(o=Xa(t))&&o!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}t.timeoutHandle=_n(du.bind(null,t),r);break}du(t);break;case Ea:if(Pu(t,n),n===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hu(r)),Pa&&(0===(r=t.lastPingedTime)||r>=n)){t.lastPingedTime=n,nu(t,n);break}if(0!==(r=Xa(t))&&r!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}if(1073741823!==Aa?i=10*(1073741821-Aa)-jr():1073741823===Oa?i=0:(i=10*(1073741821-Oa)-5e3,0>(i=(r=jr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ya(i/1960))-i)&&(i=n)),10<i){t.timeoutHandle=_n(du.bind(null,t),i);break}du(t);break;case 5:if(1073741823!==Oa&&null!==Da){o=Oa;var a=Da;if(0>=(i=0|a.busyMinDurationMs)?i=0:(r=0|a.busyDelayMs,i=(o=jr()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=r?0:r+i-o),10<i){Pu(t,n),t.timeoutHandle=_n(du.bind(null,t),i);break}}du(t);break;default:throw Error(s(329))}if(Ya(t),t.callbackNode===e)return Ja.bind(null,t)}}return null}function Za(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!==(48&ka))throw Error(s(327));if(vu(),t===Ca&&e===Ia||nu(t,e),null!==Ta){var n=ka;ka|=16;for(var i=ru();;)try{au();break}catch(r){iu(t,r)}if(Zr(),ka=n,ma.current=i,1===Sa)throw n=xa,nu(t,e),Pu(t,e),Ya(t),n;if(null!==Ta)throw Error(s(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ca=null,du(t),Ya(t)}return null}function tu(t,e){var n=ka;ka|=1;try{return t(e)}finally{0===(ka=n)&&qr()}}function eu(t,e){var n=ka;ka&=-2,ka|=8;try{return t(e)}finally{0===(ka=n)&&qr()}}function nu(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,bn(n)),null!==Ta)for(n=Ta.return;null!==n;){var i=n;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&gr();break;case 3:Po(),ur(dr),ur(hr);break;case 5:No(i);break;case 4:Po();break;case 13:case 19:ur(Ro);break;case 10:to(i)}n=n.return}Ca=t,Ta=Iu(t.current,null),Ia=e,Sa=ba,xa=null,Aa=Oa=1073741823,Da=null,Ma=0,Pa=!1}function iu(t,e){for(;;){try{if(Zr(),jo.current=gs,qo)for(var n=$o.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Vo=0,Ho=Wo=$o=null,qo=!1,null===Ta||null===Ta.return)return Sa=1,xa=e,Ta=null;t:{var r=t,o=Ta.return,s=Ta,a=e;if(e=Ia,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var u=a;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.expirationTime=l.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var c=0!==(1&Ro.current),h=o;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=h.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(d){var v=h.updateQueue;if(null===v){var g=new Set;g.add(u),h.updateQueue=g}else v.add(u);if(0===(2&h.mode)){if(h.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ao(1073741823,null);y.tag=2,uo(s,y)}s.expirationTime=1073741823;break t}a=void 0,s=e;var m=r.pingCache;if(null===m?(m=r.pingCache=new fa,a=new Set,m.set(u,a)):void 0===(a=m.get(u))&&(a=new Set,m.set(u,a)),!a.has(s)){a.add(s);var _=_u.bind(null,r,u,s);u.then(_,_)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);a=Error((gt(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+yt(s))}5!==Sa&&(Sa=2),a=Js(a,s),h=o;do{switch(h.tag){case 3:u=a,h.effectTag|=4096,h.expirationTime=e,lo(h,pa(h,u,e));break t;case 1:u=a;var b=h.type,w=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Fa||!Fa.has(w)))){h.effectTag|=4096,h.expirationTime=e,lo(h,va(h,u,e));break t}}h=h.return}while(null!==h)}Ta=cu(Ta)}catch(E){e=E;continue}break}}function ru(){var t=ma.current;return ma.current=gs,null===t?gs:t}function ou(t,e){t<Oa&&2<t&&(Oa=t),null!==e&&t<Aa&&2<t&&(Aa=t,Da=e)}function su(t){t>Ma&&(Ma=t)}function au(){for(;null!==Ta;)Ta=lu(Ta)}function uu(){for(;null!==Ta&&!Pr();)Ta=lu(Ta)}function lu(t){var e=ga(t.alternate,t,Ia);return t.memoizedProps=t.pendingProps,null===e&&(e=cu(t)),_a.current=null,e}function cu(t){Ta=t;do{var e=Ta.alternate;if(t=Ta.return,0===(2048&Ta.effectTag)){if(e=Xs(e,Ta,Ia),1===Ia||1!==Ta.childExpirationTime){for(var n=0,i=Ta.child;null!==i;){var r=i.expirationTime,o=i.childExpirationTime;r>n&&(n=r),o>n&&(n=o),i=i.sibling}Ta.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ta.firstEffect),null!==Ta.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ta.firstEffect),t.lastEffect=Ta.lastEffect),1<Ta.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ta:t.firstEffect=Ta,t.lastEffect=Ta))}else{if(null!==(e=Ys(Ta)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ta.sibling))return e;Ta=t}while(null!==Ta);return Sa===ba&&(Sa=5),null}function hu(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function du(t){var e=Ur();return $r(99,fu.bind(null,t,e)),null}function fu(t,e){do{vu()}while(null!==Ua);if(0!==(48&ka))throw Error(s(327));var n=t.finishedWork,i=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var r=hu(n);if(t.firstPendingTime=r,i<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:i<=t.firstSuspendedTime&&(t.firstSuspendedTime=i-1),i<=t.lastPingedTime&&(t.lastPingedTime=0),i<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ca&&(Ta=Ca=null,Ia=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var o=ka;ka|=32,_a.current=null,vn=ze;var a=fn();if(pn(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else t:{var l=(u=(u=a.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{u.nodeType,h.nodeType}catch(I){u=null;break t}var d=0,f=-1,p=-1,v=0,g=0,y=a,m=null;e:for(;;){for(var _;y!==u||0!==c&&3!==y.nodeType||(f=d+c),y!==h||0!==l&&3!==y.nodeType||(p=d+l),3===y.nodeType&&(d+=y.nodeValue.length),null!==(_=y.firstChild);)m=y,y=_;for(;;){if(y===a)break e;if(m===u&&++v===c&&(f=d),m===h&&++g===l&&(p=d),null!==(_=y.nextSibling))break;m=(y=m).parentNode}y=_}u=-1===f||-1===p?null:{start:f,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;gn={activeElementDetached:null,focusedElem:a,selectionRange:u},ze=!1,Na=r;do{try{pu()}catch(I){if(null===Na)throw Error(s(330));mu(Na,I),Na=Na.nextEffect}}while(null!==Na);Na=r;do{try{for(a=t,u=e;null!==Na;){var b=Na.effectTag;if(16&b&&Ut(Na.stateNode,""),128&b){var w=Na.alternate;if(null!==w){var E=w.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&b){case 2:la(Na),Na.effectTag&=-3;break;case 6:la(Na),Na.effectTag&=-3,ha(Na.alternate,Na);break;case 1024:Na.effectTag&=-1025;break;case 1028:Na.effectTag&=-1025,ha(Na.alternate,Na);break;case 4:ha(Na.alternate,Na);break;case 8:ca(a,c=Na,u),aa(c)}Na=Na.nextEffect}}catch(I){if(null===Na)throw Error(s(330));mu(Na,I),Na=Na.nextEffect}}while(null!==Na);if(E=gn,w=fn(),b=E.focusedElem,u=E.selectionRange,w!==b&&b&&b.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==u&&pn(b)&&(w=u.start,void 0===(E=u.end)&&(E=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(E,b.value.length)):(E=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),c=b.textContent.length,a=Math.min(u.start,c),u=void 0===u.end?a:Math.min(u.end,c),!E.extend&&a>u&&(c=u,u=a,a=c),c=dn(b,a),h=dn(b,u),c&&h&&(1!==E.rangeCount||E.anchorNode!==c.node||E.anchorOffset!==c.offset||E.focusNode!==h.node||E.focusOffset!==h.offset)&&((w=w.createRange()).setStart(c.node,c.offset),E.removeAllRanges(),a>u?(E.addRange(w),E.extend(h.node,h.offset)):(w.setEnd(h.node,h.offset),E.addRange(w))))),w=[];for(E=b;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(E=w[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}ze=!!vn,gn=vn=null,t.current=n,Na=r;do{try{for(b=t;null!==Na;){var k=Na.effectTag;if(36&k&&oa(b,Na.alternate,Na),128&k){w=void 0;var C=Na.ref;if(null!==C){var T=Na.stateNode;switch(Na.tag){case 5:w=T;break;default:w=T}"function"===typeof C?C(w):C.current=w}}Na=Na.nextEffect}}catch(I){if(null===Na)throw Error(s(330));mu(Na,I),Na=Na.nextEffect}}while(null!==Na);Na=null,Lr(),ka=o}else t.current=n;if(ja)ja=!1,Ua=t,Va=e;else for(Na=r;null!==Na;)e=Na.nextEffect,Na.nextEffect=null,Na=e;if(0===(e=t.firstPendingTime)&&(Fa=null),1073741823===e?t===Ha?Wa++:(Wa=0,Ha=t):Wa=0,"function"===typeof wu&&wu(n.stateNode,i),Ya(t),Ra)throw Ra=!1,t=Ba,Ba=null,t;return 0!==(8&ka)||qr(),null}function pu(){for(;null!==Na;){var t=Na.effectTag;0!==(256&t)&&na(Na.alternate,Na),0===(512&t)||ja||(ja=!0,Wr(97,(function(){return vu(),null}))),Na=Na.nextEffect}}function vu(){if(90!==Va){var t=97<Va?97:Va;return Va=90,$r(t,gu)}}function gu(){if(null===Ua)return!1;var t=Ua;if(Ua=null,0!==(48&ka))throw Error(s(331));var e=ka;for(ka|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ia(5,n),ra(5,n)}}catch(i){if(null===t)throw Error(s(330));mu(t,i)}n=t.nextEffect,t.nextEffect=null,t=n}return ka=e,qr(),!0}function yu(t,e,n){uo(t,e=pa(t,e=Js(n,e),1073741823)),null!==(t=Ga(t,1073741823))&&Ya(t)}function mu(t,e){if(3===t.tag)yu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){yu(n,t,e);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Fa||!Fa.has(i))){uo(n,t=va(n,t=Js(e,t),1073741823)),null!==(n=Ga(n,1073741823))&&Ya(n);break}}n=n.return}}function _u(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),Ca===t&&Ia===n?Sa===Ea||Sa===wa&&1073741823===Oa&&jr()-La<500?nu(t,Ia):Pa=!0:Mu(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Ya(t)))}function bu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Ka(e=za(),t,null)),null!==(t=Ga(t,e))&&Ya(t)}ga=function(t,e,n){var i=e.expirationTime;if(null!==t){var r=e.pendingProps;if(t.memoizedProps!==r||dr.current)As=!0;else{if(i<n){switch(As=!1,e.tag){case 3:js(e),xs();break;case 5:if(Lo(e),4&e.mode&&1!==n&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:vr(e.type)&&_r(e);break;case 4:Mo(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value,r=e.type._context,lr(Gr,r._currentValue),r._currentValue=i;break;case 13:if(null!==e.memoizedState)return 0!==(i=e.child.childExpirationTime)&&i>=n?Hs(t,e,n):(lr(Ro,1&Ro.current),null!==(e=Qs(t,e,n))?e.sibling:null);lr(Ro,1&Ro.current);break;case 19:if(i=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(i)return Ks(t,e,n);e.effectTag|=64}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null),lr(Ro,Ro.current),!i)return null}return Qs(t,e,n)}As=!1}}else As=!1;switch(e.expirationTime=0,e.tag){case 2:if(i=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=pr(e,hr.current),no(e,n),r=Qo(null,e,i,t,r,n),e.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,vr(i)){var o=!0;_r(e)}else o=!1;e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,oo(e);var a=i.getDerivedStateFromProps;"function"===typeof a&&vo(e,i,a,t),r.updater=go,e.stateNode=r,r._reactInternalFiber=e,bo(e,i,t,n),e=Fs(null,e,i,!0,o,n)}else e.tag=0,Ds(null,e,r,n),e=e.child;return e;case 16:t:{if(r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,e.type=r,o=e.tag=function(t){if("function"===typeof t)return Tu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===ut)return 11;if(t===ht)return 14}return 2}(r),t=Qr(r,t),o){case 0:e=Rs(null,e,r,t,n);break t;case 1:e=Bs(null,e,r,t,n);break t;case 11:e=Ms(null,e,r,t,n);break t;case 14:e=Ps(null,e,r,Qr(r.type,t),i,n);break t}throw Error(s(306,r,""))}return e;case 0:return i=e.type,r=e.pendingProps,Rs(t,e,i,r=e.elementType===i?r:Qr(i,r),n);case 1:return i=e.type,r=e.pendingProps,Bs(t,e,i,r=e.elementType===i?r:Qr(i,r),n);case 3:if(js(e),i=e.updateQueue,null===t||null===i)throw Error(s(282));if(i=e.pendingProps,r=null!==(r=e.memoizedState)?r.element:null,so(t,e),co(e,i,null,n),(i=e.memoizedState.element)===r)xs(),e=Qs(t,e,n);else{if((r=e.stateNode.hydrate)&&(ws=wn(e.stateNode.containerInfo.firstChild),bs=e,r=Es=!0),r)for(n=Io(e,null,i,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ds(t,e,i,n),xs();e=e.child}return e;case 5:return Lo(e),null===t&&Ts(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,a=r.children,mn(i,r)?a=null:null!==o&&mn(i,o)&&(e.effectTag|=16),Ns(t,e),4&e.mode&&1!==n&&r.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Ds(t,e,a,n),e=e.child),e;case 6:return null===t&&Ts(e),null;case 13:return Hs(t,e,n);case 4:return Mo(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=To(e,null,i,n):Ds(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,Ms(t,e,i,r=e.elementType===i?r:Qr(i,r),n);case 7:return Ds(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ds(t,e,e.pendingProps.children,n),e.child;case 10:t:{i=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value;var u=e.type._context;if(lr(Gr,u._currentValue),u._currentValue=o,null!==a)if(u=a.value,0===(o=Bi(u,o)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(u,o):1073741823))){if(a.children===r.children&&!dr.current){e=Qs(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.dependencies;if(null!==l){a=u.child;for(var c=l.firstContext;null!==c;){if(c.context===i&&0!==(c.observedBits&o)){1===u.tag&&((c=ao(n,null)).tag=2,uo(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),eo(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else a=10===u.tag&&u.type===e.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===e){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Ds(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=(o=e.pendingProps).children,no(e,n),i=i(r=io(r,o.unstable_observedBits)),e.effectTag|=1,Ds(t,e,i,n),e.child;case 14:return o=Qr(r=e.type,e.pendingProps),Ps(t,e,r,o=Qr(r.type,o),i,n);case 15:return Ls(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qr(i,r),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,vr(i)?(t=!0,_r(e)):t=!1,no(e,n),mo(e,i,r),bo(e,i,r,n),Fs(null,e,i,!0,t,n);case 19:return Ks(t,e,n)}throw Error(s(156,e.tag))};var wu=null,Eu=null;function ku(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Cu(t,e,n,i){return new ku(t,e,n,i)}function Tu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Iu(t,e){var n=t.alternate;return null===n?((n=Cu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Su(t,e,n,i,r,o){var a=2;if(i=t,"function"===typeof t)Tu(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case nt:return xu(n.children,r,o,e);case at:a=8,r|=7;break;case it:a=8,r|=1;break;case rt:return(t=Cu(12,n,e,8|r)).elementType=rt,t.type=rt,t.expirationTime=o,t;case lt:return(t=Cu(13,n,e,r)).type=lt,t.elementType=lt,t.expirationTime=o,t;case ct:return(t=Cu(19,n,e,r)).elementType=ct,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case ot:a=10;break t;case st:a=9;break t;case ut:a=11;break t;case ht:a=14;break t;case dt:a=16,i=null;break t;case ft:a=22;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Cu(a,n,e,r)).elementType=t,e.type=i,e.expirationTime=o,e}function xu(t,e,n,i){return(t=Cu(7,t,i,e)).expirationTime=n,t}function Ou(t,e,n){return(t=Cu(6,t,null,e)).expirationTime=n,t}function Au(t,e,n){return(e=Cu(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Du(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Mu(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Pu(t,e){var n=t.firstSuspendedTime,i=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(i>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Lu(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Nu(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Ru(t,e,n,i){var r=e.current,o=za(),a=fo.suspense;o=Ka(o,r,a);t:if(n){e:{if(Zt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(vr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var l=n.type;if(vr(l)){n=mr(n,l,u);break t}}n=u}else n=cr;return null===e.context?e.context=n:e.pendingContext=n,(e=ao(o,a)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),uo(r,e),Qa(r,o),o}function Bu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Fu(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function ju(t,e){Fu(t,e),(t=t.alternate)&&Fu(t,e)}function Uu(t,e,n){var i=new Du(t,e,n=null!=n&&!0===n.hydrate),r=Cu(3,null,null,2===e?7:1===e?3:0);i.current=r,r.stateNode=i,oo(r),t[In]=i.current,n&&0!==e&&function(t,e){var n=Jt(e);Ie.forEach((function(t){pe(t,e,n)})),Se.forEach((function(t){pe(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=i}function Vu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function $u(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof r){var a=r;r=function(){var t=Bu(s);a.call(t)}}Ru(e,s,t,r)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Uu(t,0,e?{hydrate:!0}:void 0)}(n,i),s=o._internalRoot,"function"===typeof r){var u=r;r=function(){var t=Bu(s);u.call(t)}}eu((function(){Ru(e,s,t,r)}))}return Bu(s)}function Wu(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}function Hu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vu(e))throw Error(s(200));return Wu(t,e,null,n)}Uu.prototype.render=function(t){Ru(t,this._internalRoot,null,null)},Uu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ru(null,t,null,(function(){e[In]=null}))},ve=function(t){if(13===t.tag){var e=Kr(za(),150,100);Qa(t,e),ju(t,e)}},ge=function(t){13===t.tag&&(Qa(t,3),ju(t,3))},ye=function(t){if(13===t.tag){var e=za();Qa(t,e=Ka(e,t,null)),ju(t,e)}},x=function(t,e,n){switch(e){case"input":if(Tt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=An(i);if(!r)throw Error(s(90));wt(i),Tt(i,r)}}}break;case"textarea":Mt(t,n);break;case"select":null!=(e=n.value)&&Ot(t,!!n.multiple,e,!1)}},L=tu,N=function(t,e,n,i,r){var o=ka;ka|=4;try{return $r(98,t.bind(null,e,n,i,r))}finally{0===(ka=o)&&qr()}},R=function(){0===(49&ka)&&(function(){if(null!==$a){var t=$a;$a=null,t.forEach((function(t,e){Nu(e,t),Ya(e)})),qr()}}(),vu())},B=function(t,e){var n=ka;ka|=2;try{return t(e)}finally{0===(ka=n)&&qr()}};var qu={Events:[xn,On,An,I,k,Bn,function(t){re(t,Rn)},M,P,Ye,ae,vu,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);wu=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(i){}},Eu=function(t){try{e.onCommitFiberUnmount(n,t)}catch(i){}}}catch(i){}})(r({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Sn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qu,e.createPortal=Hu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw Error(s(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!==(48&ka))throw Error(s(187));var n=ka;ka|=1;try{return $r(99,t.bind(null,e))}finally{ka=n,qr()}},e.hydrate=function(t,e,n){if(!Vu(e))throw Error(s(200));return $u(null,t,e,!0,n)},e.render=function(t,e,n){if(!Vu(e))throw Error(s(200));return $u(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Vu(t))throw Error(s(40));return!!t._reactRootContainer&&(eu((function(){$u(null,null,t,!1,(function(){t._reactRootContainer=null,t[In]=null}))})),!0)},e.unstable_batchedUpdates=tu,e.unstable_createPortal=function(t,e){return Hu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Vu(n))throw Error(s(200));if(null==t||void 0===t._reactInternalFiber)throw Error(s(38));return $u(t,e,n,!1,i)},e.version="16.13.1"},function(t,e,n){"use strict";t.exports=n(38)},function(t,e,n){"use strict";var i,r,o,s,a;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function t(){if(null!==u)try{var n=e.unstable_now();u(!0,n),u=null}catch(i){throw setTimeout(t,0),i}},h=Date.now();e.unstable_now=function(){return Date.now()-h},i=function(t){null!==u?setTimeout(i,0,t):(u=t,setTimeout(c,0))},r=function(t,e){l=setTimeout(t,e)},o=function(){clearTimeout(l)},s=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var d=window.performance,f=window.Date,p=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)e.unstable_now=function(){return d.now()};else{var y=f.now();e.unstable_now=function(){return f.now()-y}}var m=!1,_=null,b=-1,w=5,E=0;s=function(){return e.unstable_now()>=E},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var k=new MessageChannel,C=k.port2;k.port1.onmessage=function(){if(null!==_){var t=e.unstable_now();E=t+w;try{_(!0,t)?C.postMessage(null):(m=!1,_=null)}catch(n){throw C.postMessage(null),n}}else m=!1},i=function(t){_=t,m||(m=!0,C.postMessage(null))},r=function(t,n){b=p((function(){t(e.unstable_now())}),n)},o=function(){v(b),b=-1}}function T(t,e){var n=t.length;t.push(e);t:for(;;){var i=n-1>>>1,r=t[i];if(!(void 0!==r&&0<x(r,e)))break t;t[i]=e,t[n]=r,n=i}}function I(t){return void 0===(t=t[0])?null:t}function S(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length;i<r;){var o=2*(i+1)-1,s=t[o],a=o+1,u=t[a];if(void 0!==s&&0>x(s,n))void 0!==u&&0>x(u,s)?(t[i]=u,t[a]=n,i=a):(t[i]=s,t[o]=n,i=o);else{if(!(void 0!==u&&0>x(u,n)))break t;t[i]=u,t[a]=n,i=a}}}return e}return null}function x(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var O=[],A=[],D=1,M=null,P=3,L=!1,N=!1,R=!1;function B(t){for(var e=I(A);null!==e;){if(null===e.callback)S(A);else{if(!(e.startTime<=t))break;S(A),e.sortIndex=e.expirationTime,T(O,e)}e=I(A)}}function F(t){if(R=!1,B(t),!N)if(null!==I(O))N=!0,i(j);else{var e=I(A);null!==e&&r(F,e.startTime-t)}}function j(t,n){N=!1,R&&(R=!1,o()),L=!0;var i=P;try{for(B(n),M=I(O);null!==M&&(!(M.expirationTime>n)||t&&!s());){var a=M.callback;if(null!==a){M.callback=null,P=M.priorityLevel;var u=a(M.expirationTime<=n);n=e.unstable_now(),"function"===typeof u?M.callback=u:M===I(O)&&S(O),B(n)}else S(O);M=I(O)}if(null!==M)var l=!0;else{var c=I(A);null!==c&&r(F,c.startTime-n),l=!1}return l}finally{M=null,P=i,L=!1}}function U(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){N||L||(N=!0,i(j))},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return I(O)},e.unstable_next=function(t){switch(P){case 1:case 2:case 3:var e=3;break;default:e=P}var n=P;P=e;try{return t()}finally{P=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=V,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=P;P=t;try{return e()}finally{P=n}},e.unstable_scheduleCallback=function(t,n,s){var a=e.unstable_now();if("object"===typeof s&&null!==s){var u=s.delay;u="number"===typeof u&&0<u?a+u:a,s="number"===typeof s.timeout?s.timeout:U(t)}else s=U(t),u=a;return t={id:D++,callback:n,priorityLevel:t,startTime:u,expirationTime:s=u+s,sortIndex:-1},u>a?(t.sortIndex=u,T(A,t),null===I(O)&&t===I(A)&&(R?o():R=!0,r(F,u-a))):(t.sortIndex=s,T(O,t),N||L||(N=!0,i(j))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();B(t);var n=I(O);return n!==M&&null!==M&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<M.expirationTime||s()},e.unstable_wrapCallback=function(t){var e=P;return function(){var n=P;P=e;try{return t.apply(this,arguments)}finally{P=n}}}},,function(t,e,n){"use strict";var i=n(41);function r(){}function o(){}o.resetWarningCache=r,t.exports=function(){function t(t,e,n,r,o,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var i="function"===typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,a=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,d=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,v=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,m=i?Symbol.for("react.block"):60121,_=i?Symbol.for("react.fundamental"):60117,b=i?Symbol.for("react.responder"):60118,w=i?Symbol.for("react.scope"):60119;function E(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case h:case d:case s:case u:case a:case p:return t;default:switch(t=t&&t.$$typeof){case c:case f:case y:case g:case l:return t;default:return e}}case o:return e}}}function k(t){return E(t)===d}e.AsyncMode=h,e.ConcurrentMode=d,e.ContextConsumer=c,e.ContextProvider=l,e.Element=r,e.ForwardRef=f,e.Fragment=s,e.Lazy=y,e.Memo=g,e.Portal=o,e.Profiler=u,e.StrictMode=a,e.Suspense=p,e.isAsyncMode=function(t){return k(t)||E(t)===h},e.isConcurrentMode=k,e.isContextConsumer=function(t){return E(t)===c},e.isContextProvider=function(t){return E(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return E(t)===f},e.isFragment=function(t){return E(t)===s},e.isLazy=function(t){return E(t)===y},e.isMemo=function(t){return E(t)===g},e.isPortal=function(t){return E(t)===o},e.isProfiler=function(t){return E(t)===u},e.isStrictMode=function(t){return E(t)===a},e.isSuspense=function(t){return E(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===d||t===u||t===a||t===p||t===v||"object"===typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===g||t.$$typeof===l||t.$$typeof===c||t.$$typeof===f||t.$$typeof===_||t.$$typeof===b||t.$$typeof===w||t.$$typeof===m)},e.typeOf=E},function(t,e,n){"use strict";var i,r=(i=n(2))&&"object"===typeof i&&"default"in i?i.default:i;n(45),n(46),n(27),n(48),n(49),n(50),n(51),n(52),n(53);r.registerVersion("firebase","7.16.0","app");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),r.registerVersion("firebase","7.16.0"),t.exports=r},function(t,e,n){"use strict";n.r(e),function(t){var e=n(2),i=n.n(e);(function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var i=e[n];if(i&&i.Math==Math)return i}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(e=e(o=i[t=t[t.length-1]]))!=o&&null!=e&&n(i,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=r.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(i){this.f(i)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(i){n.reject(i)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(n){o(n)}}:e}var r,o,s=new e((function(t,e){r=t,o=e}));return this.Oa(i(t,r),i(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=s(t),o=r.next();!o.done;o=r.next())i(o.value).Oa(e,n)}))},e.all=function(t){var n=s(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Oa(o(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var a=a||{},u=this||self,l=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(){}function d(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==d(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++m)}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:b).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var k=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function T(t,e,n){this.code=x+t,this.message=e||O[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new T(e.substring(x.length),t.message,t.serverResponse):null}C(T,Error),T.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.v()};var S,x="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in A)if(A[e].id===t)return{firebaseEndpoint:(t=A[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function M(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");P.call(this,n+t[i])}function N(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function B(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}S=D("__EID__")?"__EID__":void 0,C(P,Error),P.prototype.name="CustomError",C(L,P),L.prototype.name="AssertionError",R.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new R((function(){return new V}),(function(t){t.reset()}));function U(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function V(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=j.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var $=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},W=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"===typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};var H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],r=0,o="string"===typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(i[r++]=a)}return i},q=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"===typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function K(t,e){return 0<=$(t,e)}function Q(t,e){var n;return(n=0<=(e=$(t,e)))&&Array.prototype.splice.call(t,e,1),n}function G(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,(function(n,i){e.call(void 0,n,i,t)&&1==Array.prototype.splice.call(t,i,1).length&&0}))}function X(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var J,Z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,it=/"/g,rt=/'/g,ot=/\x00/g,st=/[\x00&<>"']/;function at(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var lt=u.navigator;if(lt){var ct=lt.userAgent;if(ct){J=ct;break t}}J=""}function ht(t){return at(J,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ft(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<vt.length;o++)n=vt[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||u).Element&&i.Location){var r=i;break t}}catch(s){}r=null}if(r&&"undefined"!=typeof r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;N("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===wt&&e||"",this.b=bt}function _t(t){return t instanceof mt&&t.constructor===mt&&t.b===bt?t.a:(N("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.ra=!0,mt.prototype.qa=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var bt={},wt={},Et=new mt(wt,"");function kt(t,e){this.a=t===Ot&&e||"",this.b=xt}function Ct(t){return t instanceof kt&&t.constructor===kt&&t.b===xt?t.a:(N("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=_t(t);if(!St.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(It,(function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof mt?_t(t):encodeURIComponent(String(t))})),new kt(Ot,t)}kt.prototype.ra=!0,kt.prototype.qa=function(){return this.a.toString()},kt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var It=/%{(\w+)}/g,St=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xt={},Ot={};function At(t,e){this.a=t===Nt&&e||"",this.b=Lt}function Dt(t){return t instanceof At&&t.constructor===At&&t.b===Lt?t.a:(N("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}At.prototype.ra=!0,At.prototype.qa=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pt(t){return t instanceof At?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new At(Nt,t))}var Lt={},Nt={};function Rt(){this.a="",this.b=Ft}function Bt(t){return t instanceof Rt&&t.constructor===Rt&&t.b===Ft?t.a:(N("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}Rt.prototype.ra=!0,Rt.prototype.qa=function(){return this.a.toString()},Rt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ft={};function jt(t){var e=new Rt;return e.a=t,e}jt("<!DOCTYPE html>");var Ut=jt("");function Vt(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function $t(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(rt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function Wt(t){return Wt[" "](t),t}jt("<br>"),Wt[" "]=h;var Ht,qt=ht("Opera"),zt=ht("Trident")||ht("MSIE"),Kt=ht("Edge"),Qt=Kt||zt,Gt=ht("Gecko")&&!(at(J.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Xt=at(J.toLowerCase(),"webkit")&&!ht("Edge");function Yt(){var t=u.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=function(){var t=J;return Gt?/rv:([^\);]+)(\)|;)/.exec(t):Kt?/Edge\/([\d\.]+)/.exec(t):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Xt?/WebKit\/(\S+)/.exec(t):qt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Zt&&(Jt=Zt?Zt[1]:""),zt){var te=Yt();if(null!=te&&te>parseFloat(Jt)){Ht=String(te);break t}}Ht=Jt}var ee,ne={};function ie(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Z(String(Ht)).split("."),i=Z(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}ee=u.document&&zt?Yt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(os){}var re=!zt||9<=Number(ee);function oe(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function se(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ae,ue,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ce(t,e,n){function i(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];!f(o)||v(o)&&0<o.nodeType?i(o):W(de(o)?Y(o):o,i)}}function he(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){if(t&&"number"==typeof t.length){if(v(t))return"function"==typeof t.item||"string"==typeof t.item;if(p(t))return"function"==typeof t.item}return!1}function fe(t){u.setTimeout((function(){throw t}),0)}function pe(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=he(document,"IFRAME");t.style.display="none",function(t){var e=new kt(Ot,_t(Et));yt(t,"HTMLIFrameElement"),t.src=Ct(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Bt(Ut)),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w((function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),"undefined"!==typeof t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){i.next={Db:t},i=i.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}function ve(t,e){ue||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);ue=function(){t.then(me)}}else ue=function(){var t=me;!p(u.setImmediate)||u.Window&&u.Window.prototype&&!ht("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ae||(ae=pe()),ae(t)):u.setImmediate(t)}}(),ge||(ue(),ge=!0),ye.add(t,e)}var ge=!1,ye=new F;function me(){for(var t;t=U();){try{t.a.call(t.b)}catch(e){fe(e)}B(j,t)}ge=!1}function _e(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Me(n,we,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Me(n,Ee,t)}))}catch(i){Me(this,Ee,i)}}var be=0,we=2,Ee=3;function ke(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ke.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ce=new R((function(){return new ke}),(function(t){t.reset()}));function Te(t,e,n){var i=Ce.get();return i.g=t,i.b=e,i.f=n,i}function Ie(t){if(t instanceof _e)return t;var e=new _e(h);return Me(e,we,t),e}function Se(t){return new _e((function(e,n){n(t)}))}function xe(t,e,n){Pe(t,e,n,null)||ve(E(e,t))}function Oe(t){return new _e((function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,o){n--,i[t]=r?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(i)},o=0;o<t.length;o++)xe(t[o],E(r,o,!0),E(r,o,!1));else e(i)}))}function Ae(t,e){t.b||t.a!=we&&t.a!=Ee||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function De(t,e,n,i){var r=Te(null,null,null);return r.a=new _e((function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(s){o(s)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof je?o(e):t(r)}catch(s){o(s)}}:o})),r.a.c=t,Ae(t,r),r.a}function Me(t,e,n){t.a==be&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ee||n instanceof je||function(t,e){t.g=!0,ve((function(){t.g&&Fe.call(null,e)}))}(t,n)))}function Pe(t,e,n,i){if(t instanceof _e)return Ae(t,Te(e||h,n||null,i)),!0;if(M(t))return t.then(e,n,i),!0;if(v(t))try{var r=t.then;if(p(r))return function(t,e,n,i,r){function o(t){s||(s=!0,i.call(r,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(r,t))}),o)}catch(a){o(a)}}(t,r,e,n,i),!0}catch(o){return n.call(i,o),!0}return!1}function Le(t){t.h||(t.h=!0,ve(t.ec,t))}function Ne(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Re(t,e,n,i){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Be(e,n,i);else try{e.c?e.g.call(e.f):Be(e,n,i)}catch(r){Fe.call(null,r)}B(Ce,e)}function Be(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return De(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(e=_e.prototype).ma=function(t,e){return(t=Te(t,t,e)).c=!0,Ae(this,t),this},e.o=function(t,e){return De(this,null,t,e)},e.cancel=function(t){if(this.a==be){var e=new je(t);ve((function(){!function t(e,n){if(e.a==be)if(e.c){var i=e.c;if(i.b){for(var r=0,o=null,s=null,a=i.b;a&&(a.c||(r++,a.a==e&&(o=a),!(o&&1<r)));a=a.next)o||(s=a);o&&(i.a==be&&1==r?t(i,n):(s?((r=s).next==i.f&&(i.f=r),r.next=r.next.next):Ne(i),Re(i,o,Ee,n)))}e.c=null}else Me(e,Ee,n)}(this,e)}),this)}},e.Yc=function(t){this.a=be,Me(this,we,t)},e.Zc=function(t){this.a=be,Me(this,Ee,t)},e.ec=function(){for(var t;t=Ne(this);)Re(this,t,this.a,this.i);this.h=!1};var Fe=fe;function je(t){P.call(this,t)}function Ue(){0!=Ve&&($e[g(this)]=this),this.wa=this.wa,this.na=this.na}C(je,P),je.prototype.name="cancel";var Ve=0,$e={};function We(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Ve)){var e=g(t);if(0!=Ve&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete $e[e]}}Ue.prototype.wa=!1,Ue.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var He=Object.freeze||function(t){return t},qe=!zt||9<=Number(ee),ze=zt&&!ie("9"),Ke=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",h,e),u.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ge(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Gt){t:{try{Wt(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},C(Ge,Qe);var Xe=He({2:"touch",3:"pen",4:"mouse"});Ge.prototype.preventDefault=function(){Ge.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ze)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ge.prototype.f=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Ze(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Ta=r,this.key=++Je,this.ua=this.Na=!1}function tn(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==i)return r}return-1}en.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rn(t,e,i,r);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new Ze(e,this.src,o,!!i,r)).Na=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(t,e,n,i,r){if(i&&i.once)ln(t,e,n,i,r);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,i,r);else n=mn(n),t&&t[Ye]?bn(t,e,n,v(i)?!!i.capture:!!i,r):un(t,e,n,!1,i,r)}function un(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=v(r)?!!r.capture:!!r,a=gn(t);if(a||(t[on]=a=new en(t)),!(n=a.add(e,n,i,s,o)).proxy){if(i=function(){var t=vn,e=qe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Ke||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(dn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}0}}function ln(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,i,r);else n=mn(n),t&&t[Ye]?wn(t,e,n,v(i)?!!i.capture:!!i,r):un(t,e,n,!0,i,r)}function cn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,i,r);else i=v(i)?!!i.capture:!!i,n=mn(n),t&&t[Ye]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=rn(o=t.a[e],n,i,r))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,i,r)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!==typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Ye])nn(e.u,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(dn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=gn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function dn(t){return t in sn?sn[t]:sn[t]="on"+t}function fn(t,e,n,i){var r=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=pn(o,i),r=r&&!1!==o)}return r}function pn(t,e){var n=t.listener,i=t.Ta||t.src;return t.Na&&hn(t),n.call(i,e)}function vn(t,e){if(t.ua)return!0;if(!qe){if(!e)t:{e=["window","event"];for(var n=u,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new Ge(i=e,this),n=!0,!(0>i.keyCode||void 0!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(s){r=!0}(r||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=fn(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=fn(i[r],t,!1,e),n=n&&o}return n}return pn(t,new Ge(e,this))}function gn(t){return(t=t[on])instanceof en?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(t){return p(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function _n(){Ue.call(this),this.u=new en(this),this.Yb=this,this.eb=null}function bn(t,e,n,i,r){t.u.add(String(e),n,!1,i,r)}function wn(t,e,n,i,r){t.u.add(String(e),n,!0,i,r)}function En(t,e,n,i){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,u=s.Ta||s.src;s.Na&&nn(t.u,s),r=!1!==a.call(u,i)&&r}}return r&&!i.defaultPrevented}function kn(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Cn(t){var e=null;return new _e((function(n,i){-1==(e=kn((function(){n(void 0)}),t))&&i(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function Tn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"===typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function In(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(f(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function Sn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Sn)for(n=t.X(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function xn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];On(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)On(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}C(_n,Ue),_n.prototype[Ye]=!0,_n.prototype.addEventListener=function(t,e,n,i){an(this,t,e,n,i)},_n.prototype.removeEventListener=function(t,e,n,i){cn(this,t,e,n,i)},_n.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var i=t.type||t;if("string"===typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var r=t;gt(t=new Qe(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];r=En(s,i,!0,t)&&r}if(r=En(s=t.b=n,i,!0,t)&&r,r=En(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=En(s=t.b=e[o],i,!1,t)&&r;return r},_n.prototype.Ba=function(){if(_n.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)tn(n[i]);delete e.a[t],e.b--}}this.eb=null},(e=Sn.prototype).V=function(){xn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.X=function(){return xn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(t,e){return On(this.b,t)?this.b[t]:e},e.set=function(t,e){On(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.X(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var An=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Dn?(this.h=void 0!==e?e:t.h,Mn(this,t.f),this.i=t.i,this.b=t.b,Pn(this,t.l),this.c=t.c,Ln(this,Zn(t.a)),this.g=t.g):t&&(n=String(t).match(An))?(this.h=!!e,Mn(this,n[1]||"",!0),this.i=jn(n[2]||""),this.b=jn(n[3]||"",!0),Pn(this,n[4]),this.c=jn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.g=jn(n[7]||"")):(this.h=!!e,this.a=new Kn(null,this.h))}function Mn(t,e,n){t.f=n?jn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Ln(t,e,n){e instanceof Kn?(t.a=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Un(e,qn)),t.a=new Kn(e,t.h))}function Nn(t,e,n){t.a.set(e,n)}function Rn(t,e){return t.a.get(e)}function Bn(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function Fn(t,e){var n=new Dn(null,void 0);return Mn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function jn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Vn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Un(e,$n,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Un(e,$n,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?Hn:Wn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Un(n,zn)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.f;n?Mn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var i=t.c;if(n)Pn(e,t.l);else if(n=!!t.c){if("/"!=i.charAt(0))if(this.b&&!this.c)i="/"+i;else{var r=e.c.lastIndexOf("/");-1!=r&&(i=e.c.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(at(r,"./")||at(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],s=0;s<r.length;){var a=r[s++];"."==a?i&&s==r.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&s==r.length&&o.push("")):(o.push(a),i=!0)}i=o.join("/")}else i=r}return n?e.c=i:n=""!==t.a.toString(),n?Ln(e,Zn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var $n=/[#\/\?@]/g,Wn=/[#\?:]/g,Hn=/[#\?]/g,qn=/[#\?@]/g,zn=/#/g;function Kn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new Sn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Gn(t){var e=In(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Kn(null,void 0);t=Tn(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];Array.isArray(o)?Jn(n,r,o):n.add(r,o)}return n}function Xn(t,e){Qn(t),e=ti(t,e),On(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,On((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xn(t)))}function Yn(t,e){return Qn(t),e=ti(t,e),On(t.a.b,e)}function Jn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(ti(t,e),Y(n)),t.b+=n.length)}function Zn(t){var e=new Kn;return e.c=t.c,t.a&&(e.a=new Sn(t.a),e.b=t.b),e}function ti(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ei(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var r=n;n=r.length,i.push("[");for(var o="",s=0;s<n;s++)i.push(o),t(e,r[s],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&("function"!=typeof(s=n[r])&&(i.push(o),oi(r,i),i.push(":"),t(e,s,i),o=","));return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":oi(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new ni,t,e),e.join("")}function ni(){}(e=Kn.prototype).add=function(t,e){Qn(this),this.c=null,t=ti(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(t,e){Qn(this),this.a.forEach((function(n,i){W(n,(function(n){t.call(e,n,i,this)}),this)}),this)},e.X=function(){Qn(this);for(var t=this.a.V(),e=this.a.X(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},e.V=function(t){Qn(this);var e=[];if("string"===typeof t)Yn(this,t)&&(e=X(e,this.a.get(ti(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},e.set=function(t,e){return Qn(this),this.c=null,Yn(this,t=ti(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.V(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.c=t.join("&")};var ii={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ri=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function oi(t,e){e.push('"',t.replace(ri,(function(t){var e=ii[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ii[t]=e),e})),'"')}function si(){var t=Ti();return zt&&!!ee&&11==ee||/Edge\/\d+/.test(t)}function ai(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function ui(t,e){e=e||u.window;var n="about:blank";t&&(n=Dt(Pt(t))),e.location.href=n}function li(t){return!!((t=(t||Ti()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ci(t){t=t||u.window;try{t.close()}catch(e){}}function hi(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ti().toLowerCase(),i&&(e.target=i,at(n,"crios/")&&(e.target="_blank")),Ei(Ti())==bi&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof At?n:Pt("undefined"!=typeof n.href?n.href:String(n)),n=t.target||n.target,r=[],t)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(s+"="+(t[s]?1:0))}var s=r.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(yt(s=he(document,"A"),"HTMLAnchorElement"),e instanceof At||e instanceof At||(e="object"==typeof e&&e.ra?e.qa():String(e),Mt.test(e)||(e="about:invalid#zClosurez"),e=new At(Nt,e)),s.href=Dt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=i.open("",n,s),t=Dt(e),s&&(Qt&&at(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=jt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+$t(t)+'">'),i=s.document)&&(i.write(Bt(t)),i.close())):(s=i.open(Dt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var di=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fi=/^[^@]+@[^@]+$/;function pi(){var t=null;return new _e((function(e){"complete"==u.document.readyState?e():(t=function(){e()},ln(window,"load",t))})).o((function(e){throw cn(window,"load",t),e}))}function vi(t){return t=t||Ti(),!("file:"!==Ai()&&"ionic:"!==Ai()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gi(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function yi(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function mi(){return i.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.a.INTERNAL.hasOwnProperty("node")?"Node":yi()?"Worker":"Browser"}function _i(){var t=mi();return"ReactNative"===t||"Node"===t}var bi="Firefox",wi="Chrome";function Ei(t){var e=t.toLowerCase();return at(e,"opera/")||at(e,"opr/")||at(e,"opios/")?"Opera":at(e,"iemobile")?"IEMobile":at(e,"msie")||at(e,"trident/")?"IE":at(e,"edge/")?"Edge":at(e,"firefox/")?bi:at(e,"silk/")?"Silk":at(e,"blackberry")?"Blackberry":at(e,"webos")?"Webos":!at(e,"safari/")||at(e,"chrome/")||at(e,"crios/")||at(e,"android")?!at(e,"chrome/")&&!at(e,"crios/")||at(e,"edge/")?at(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":wi:"Safari"}var ki={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function Ci(t,e){e=e||[];var n,i=[],r={};for(n in ki)r[ki[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=mi())?i=Ei(r=Ti()):"Worker"===i&&(i=Ei(r=Ti())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function Ti(){return u.navigator&&u.navigator.userAgent||""}function Ii(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Si(){try{var t=u.localStorage,e=Ni();if(t)return t.setItem(e,"1"),t.removeItem(e),!si()||!!u.indexedDB}catch(n){return yi()&&!!u.indexedDB}return!1}function xi(){return(Oi()||"chrome-extension:"===Ai()||vi())&&!_i()&&Si()&&!yi()}function Oi(){return"http:"===Ai()||"https:"===Ai()}function Ai(){return u.location&&u.location.protocol||null}function Di(t){return!li(t=t||Ti())&&Ei(t)!=bi}function Mi(t){return"undefined"===typeof t?null:ei(t)}function Pi(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Li(t){if(null!==t)return JSON.parse(t)}function Ni(t){return t||Math.floor(1e9*Math.random()).toString()}function Ri(t){return"Safari"!=Ei(t=t||Ti())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Bi(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Fi(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ti(),e=mi(),this.b=li(t)||"ReactNative"===e}function ji(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Ui(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Vi(){return!(!Ii("fireauth.oauthhelper",u)&&!Ii("fireauth.iframe",u))}Fi.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!Oi()&&"chrome-extension:"!==Ai()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var $i,Wi={};function Hi(t){Wi[t]||(Wi[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var qi={};Object.defineProperty(qi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(qi,"abcd",{configurable:!0,enumerable:!0,value:2}),$i=2==qi.abcd}catch(os){$i=!1}function zi(t,e,n){$i?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Ki(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&zi(t,n,e[n])}function Qi(t){var e={};return Ki(e,t),e}function Gi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)zi(e,n,Gi(t[n]));return e}function Xi(t){var e=t&&(t[er]?"phone":null);if(!(e&&t&&t[tr]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");zi(this,"uid",t[tr]),zi(this,"displayName",t[Ji]||null);var n=null;t[Zi]&&(n=new Date(t[Zi]).toUTCString()),zi(this,"enrollmentTime",n),zi(this,"factorId",e)}function Yi(t){try{var e=new nr(t)}catch(n){e=null}return e}Xi.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Ji="displayName",Zi="enrolledAt",tr="mfaEnrollmentId",er="phoneInfo";function nr(t){Xi.call(this,t),zi(this,"phoneNumber",t[er])}function ir(t){var e={},n=t[ar],i=t[lr],r=t[cr];if(t=Yi(t[ur]),!r||r!=or&&r!=sr&&!n||r==sr&&!i||r==rr&&!t)throw Error("Invalid checkActionCode response!");r==sr?(e[dr]=n||null,e[pr]=n||null,e[hr]=i):(e[dr]=i||null,e[pr]=i||null,e[hr]=n||null),e[fr]=t||null,zi(this,gr,r),zi(this,vr,Gi(e))}C(nr,Xi),nr.prototype.v=function(){var t=nr.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var rr="REVERT_SECOND_FACTOR_ADDITION",or="EMAIL_SIGNIN",sr="VERIFY_AND_CHANGE_EMAIL",ar="email",ur="mfaInfo",lr="newEmail",cr="requestType",hr="email",dr="fromEmail",fr="multiFactorInfo",pr="previousEmail",vr="data",gr="operation";function yr(t){var e=Rn(t=Bn(t),mr)||null,n=Rn(t,_r)||null,i=Rn(t,Er)||null;if(i=i&&Cr[i]||null,!e||!n||!i)throw new T("argument-error",mr+", "+_r+"and "+Er+" are required in a valid action code URL.");Ki(this,{apiKey:e,operation:i,code:n,continueUrl:Rn(t,br)||null,languageCode:Rn(t,wr)||null,tenantId:Rn(t,kr)||null})}var mr="apiKey",_r="oobCode",br="continueUrl",wr="languageCode",Er="mode",kr="tenantId",Cr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:rr,signIn:or,verifyAndChangeEmail:sr,verifyEmail:"VERIFY_EMAIL"};function Tr(t){try{return new yr(t)}catch(e){return null}}function Ir(t){var e=t[Dr];if("undefined"===typeof e)throw new T("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Sr];if(n&&"object"===typeof n){e=n[Lr];var i=n[Mr];if(n=n[Pr],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof i&&"boolean"!==typeof i)throw new T("argument-error",Mr+" property must be a boolean when specified.");if(this.g=!!i,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new T("argument-error",Pr+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new T("argument-error",Lr+" property must be a non empty string when specified.");if("undefined"!==typeof i||"undefined"!==typeof n)throw new T("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new T("argument-error",Sr+" property must be a non null object when specified.");if(this.f=null,(e=t[Ar])&&"object"===typeof e){if("string"===typeof(e=e[Nr])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new T("argument-error",Nr+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new T("argument-error",Ar+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Or])&&"boolean"!==typeof e)throw new T("argument-error",Or+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[xr])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new T("argument-error",xr+" property must be a non empty string when specified.");this.i=t||null}var Sr="android",xr="dynamicLinkDomain",Or="handleCodeInApp",Ar="iOS",Dr="url",Mr="installApp",Pr="minimumVersion",Lr="packageName",Nr="bundleId";function Rr(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Br=null;function Fr(t){var e="";return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=Br[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Br){Br={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var i=t.concat(e[n].split("")),r=0;r<i.length;r++){var o=i[r];void 0===Br[o]&&(Br[o]=r)}}}();for(var i=0;;){var r=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===r)break;e(r<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function jr(t){var e=Vr(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,k(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Ur(t){try{return new jr(t)}catch(e){return null}}function Vr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Fr(t))}catch(i){}return null}jr.prototype.S=function(){return this.f},jr.prototype.i=function(){return this.b},jr.prototype.toString=function(){return this.g};var $r="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wr=["client_id","response_type","scope","redirect_uri","state"],Hr={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Wr},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Wr},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Wr},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:$r},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function qr(t){for(var e in Hr)if(Hr[e].ea==t)return Hr[e];return null}function zr(t){var e={};e["facebook.com"]=Yr,e["google.com"]=Zr,e["github.com"]=Jr,e["twitter.com"]=to;var n=t&&t[Qr];try{if(n)return e[n]?new e[n](t):new Xr(t);if("undefined"!==typeof t[Kr])return new Gr(t)}catch(i){}return null}var Kr="idToken",Qr="providerId";function Gr(t){var e=t[Qr];if(!e&&t[Kr]){var n=Ur(t[Kr]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),zi(this,"providerId",e),zi(this,"isNewUser",n)}function Xr(t){Gr.call(this,t),zi(this,"profile",Gi((t=Li(t.rawUserInfo||"{}"))||{}))}function Yr(t){if(Xr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Jr(t){if(Xr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");zi(this,"username",this.profile&&this.profile.login||null)}function Zr(t){if(Xr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Xr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");zi(this,"username",t.screenName||null)}function eo(t){var e=Bn(t),n=Rn(e,"link"),i=Rn(Bn(n),"link");return e=Rn(e,"deep_link_id"),Rn(Bn(e),"link")||e||i||n||t}function no(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?io:ro}C(Xr,Gr),C(Yr,Xr),C(Jr,Xr),C(Zr,Xr),C(to,Xr);var io="enroll",ro="signin";function oo(){}function so(t,e){return t.then((function(t){if(t[Gs]){var n=Ur(t[Gs]);if(!n||e!=n.h)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==x+"user-not-found"?new T("user-mismatch"):t}))}function ao(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,zi(this,"providerId",t),zi(this,"signInMethod",t)}function uo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function lo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ao(t.providerId,t.pendingToken)}catch(e){}return null}function co(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&zi(this,"idToken",e.idToken),e.accessToken&&zi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&zi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");zi(this,"accessToken",e.oauthToken),zi(this,"secret",e.oauthTokenSecret)}zi(this,"providerId",t),zi(this,"signInMethod",n)}function ho(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Gn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function fo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new co(t.providerId,e,t.signInMethod)}catch(n){}}return null}function po(t,e){this.Oc=e||[],Ki(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(qr(t)||{}).Ha||null,this.kb=null}function vo(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');po.call(this,t,[])}function go(t){po.call(this,t,Wr),this.a=[]}function yo(){go.call(this,"facebook.com")}function mo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function _o(){go.call(this,"github.com")}function bo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function wo(){go.call(this,"google.com"),this.Aa("profile")}function Eo(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new wo).credential({idToken:n,accessToken:e})}function ko(){po.call(this,"twitter.com",$r)}function Co(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new co("twitter.com",n,"twitter.com")}function To(t,e,n){this.a=t,this.f=e,zi(this,"providerId","password"),zi(this,"signInMethod",n===So.EMAIL_LINK_SIGN_IN_METHOD?So.EMAIL_LINK_SIGN_IN_METHOD:So.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Io(t){return t&&t.email&&t.password?new To(t.email,t.password,t.signInMethod):null}function So(){Ki(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=Oo(e)))throw new T("argument-error","Invalid email link!");return new To(t,e.code,So.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(t){return(t=Tr(t=eo(t)))&&t.operation===or?t:null}function Ao(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new T("internal-error");this.a=t,zi(this,"providerId","phone"),this.ea="phone",zi(this,"signInMethod","phone")}function Do(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ao(e)}return null}function Mo(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Po(t){try{this.a=t||i.a.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ki(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Ao({bb:t,ab:e})}function No(t){if(t.temporaryProof&&t.phoneNumber)return new Ao({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Eo(o,n);case"facebook.com":return mo(n);case"github.com":return bo(n);case"twitter.com":return Co(n,i);default:return n||i||o||s?s?0==e.indexOf("saml.")?new ao(e,s):new co(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(a){return null}}function Ro(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Bo(t,e,n,i,r,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=s||null,this.a=r||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Fo(t){return(t=t||{}).type?new Bo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function jo(){this.b=null,this.a=[]}no.prototype.Fa=function(){return this.a?Ie(this.a):Ie(this.b)},no.prototype.v=function(){return this.type==io?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},oo.prototype.ia=function(){},oo.prototype.b=function(){},oo.prototype.c=function(){},oo.prototype.v=function(){},ao.prototype.ia=function(t){return va(t,uo(this))},ao.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,ga(t,n)},ao.prototype.c=function(t,e){return so(ya(t,uo(this)),e)},ao.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},co.prototype.ia=function(t){return va(t,ho(this))},co.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,ga(t,n)},co.prototype.c=function(t,e){return so(ya(t,ho(this)),e)},co.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},po.prototype.Ia=function(t){return this.Fb=pt(t),this},C(vo,po),C(go,po),go.prototype.Aa=function(t){return K(this.a,t)||this.a.push(t),this},go.prototype.Nb=function(){return Y(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new co(this.providerId,n,this.providerId)},C(yo,go),zi(yo,"PROVIDER_ID","facebook.com"),zi(yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(_o,go),zi(_o,"PROVIDER_ID","github.com"),zi(_o,"GITHUB_SIGN_IN_METHOD","github.com"),C(wo,go),zi(wo,"PROVIDER_ID","google.com"),zi(wo,"GOOGLE_SIGN_IN_METHOD","google.com"),C(ko,po),zi(ko,"PROVIDER_ID","twitter.com"),zi(ko,"TWITTER_SIGN_IN_METHOD","twitter.com"),To.prototype.ia=function(t){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Ja(t,Ta,{email:this.a,oobCode:this.f}):Ja(t,Ka,{email:this.a,password:this.f})},To.prototype.b=function(t,e){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Ja(t,Ia,{idToken:e,email:this.a,oobCode:this.f}):Ja(t,ja,{idToken:e,email:this.a,password:this.f})},To.prototype.c=function(t,e){return so(this.ia(t),e)},To.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Ki(So,{PROVIDER_ID:"password"}),Ki(So,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ki(So,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ao.prototype.ia=function(t){return t.cb(Mo(this))},Ao.prototype.b=function(t,e){var n=Mo(this);return n.idToken=e,Ja(t,Ga,n)},Ao.prototype.c=function(t,e){var n=Mo(this);return n.operation="REAUTH",so(t=Ja(t,Xa,n),e)},Ao.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Po.prototype.cb=function(t,e){var n=this.a.b;return Ie(e.verify()).then((function(i){if("string"!==typeof i)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var r=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(r&&r.type==io?r.Fa().then((function(t){return function(t,e){return Ja(t,Va,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:i}})})):r&&r.type==ro?r.Fa().then((function(e){return function(t,e){return Ja(t,$a,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}})})):function(t,e){return Ja(t,Ba,e)}(n,{phoneNumber:o,recaptchaToken:i})).then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Ki(Po,{PROVIDER_ID:"phone"}),Ki(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Bo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Bo.prototype.S=function(){return this.h},Bo.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Uo,Vo=null;function $o(t){var e="unauthorized-domain",n=void 0,i=Bn(t);t=i.b,"chrome-extension"==(i=i.f)?n=Vt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=Vt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Wo(t,e,n){T.call(this,t,n),(t=e||{}).Gb&&zi(this,"email",t.Gb),t.da&&zi(this,"phoneNumber",t.da),t.credential&&zi(this,"credential",t.credential),t.Wb&&zi(this,"tenantId",t.Wb)}function Ho(t){if(t.code){var e=t.code||"";0==e.indexOf(x)&&(e=e.substring(x.length));var n={credential:No(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Wo(e,n,t.message)}return null}function qo(){}function zo(t){return t.c||(t.c=t.b())}function Ko(){}function Qo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Go(){}function Xo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.oc,this),this.a.onerror=w(this.Pb,this),this.a.onprogress=w(this.pc,this),this.a.ontimeout=w(this.tc,this)}function Yo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Jo(t,e,n){this.reset(t,e,n,void 0,void 0)}C($o,T),C(Wo,T),Wo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&gt(t,e),t},Wo.prototype.toJSON=function(){return this.v()},qo.prototype.c=null,C(Ko,qo),Ko.prototype.a=function(){var t=Qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ko.prototype.b=function(){var t={};return Qo(this)&&(t[0]=!0,t[1]=!0),t},Uo=new Ko,C(Go,qo),Go.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Xo;throw Error("Unsupported browser")},Go.prototype.b=function(){return{}},(e=Xo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},e.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},e.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Yo(this,4)},e.Pb=function(){this.status=500,this.response=this.responseText="",Yo(this,4)},e.tc=function(){this.Pb()},e.pc=function(){this.status=200,Yo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Jo.prototype.a=null;function Zo(t){this.f=t,this.b=this.c=this.a=null}function ts(t,e){this.name=t,this.value=e}Jo.prototype.reset=function(t,e,n,i,r){"number"==typeof r||0,i||k(),delete this.a},ts.prototype.toString=function(){return this.name};var es=new ts("SEVERE",1e3),ns=new ts("WARNING",900),is=new ts("CONFIG",700),rs=new ts("FINE",500);Zo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(N("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Jo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var os,ss={},as=null;function us(t){var e;if(as||(as=new Zo(""),ss[""]=as,as.c=is),!(e=ss[t])){e=new Zo(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=us(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,ss[t]=e}return e}function ls(t,e){t&&t.log(rs,e,void 0)}function cs(t){this.f=t}function hs(t){_n.call(this),this.s=t,this.readyState=ds,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=us("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}C(cs,qo),cs.prototype.a=function(){return new hs(this.f)},cs.prototype.b=(os={},function(){return os}),C(hs,_n);var ds=0;function fs(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function ps(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,vs(t)}function vs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function gs(t){_n.call(this),this.headers=new Sn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ys,this.w=this.R=!1}(e=hs.prototype).open=function(t,e){if(this.readyState!=ds)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,vs(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ps(this,!1)),this.readyState=ds},e.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,vs(this)),this.a&&(this.readyState=3,vs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,fs(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},e.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ps(this,!0):vs(this),3==this.readyState&&fs(this)}},e.rc=function(t){this.a&&(this.response=this.responseText=t,ps(this,!0))},e.qc=function(t){this.a&&(this.response=t,ps(this,!0))},e.Sa=function(t){var e=this.h;e&&e.log(ns,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ps(this,!0)},e.setRequestHeader=function(t,e){this.i.append(t,e)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(ns,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(ns,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},C(gs,_n);var ys="";gs.prototype.b=us("goog.net.XhrIo");var ms=/^https?$/i,_s=["POST","PUT"];function bs(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Uo.a(),t.B=t.D?zo(t.D):zo(Uo),t.a.onreadystatechange=w(t.Sb,t);try{ls(t.b,Os(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return ls(t.b,Os(t,"Error opening Xhr: "+s.message)),void Es(t,s)}e=i||"";var o=new Sn(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"===typeof t)W(t,e,void 0);else for(var n=In(t),i=Tn(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=ws,n=t.length,i="string"===typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.X()),i=u.FormData&&e instanceof u.FormData,!K(_s,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Is(t),0<t.g&&(t.w=function(t){return zt&&ie(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),ls(t.b,Os(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ka,t)):t.s=kn(t.Ka,t.g,t)),ls(t.b,Os(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ls(t.b,Os(t,"Send error: "+s.message)),Es(t,s)}}function ws(t){return"content-type"==t.toLowerCase()}function Es(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ks(t),Ts(t)}function ks(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Cs(t){if(t.c&&"undefined"!=typeof a)if(t.B[1]&&4==Ss(t)&&2==xs(t))ls(t.b,Os(t,"Local request error detected and ignored"));else if(t.i&&4==Ss(t))kn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ss(t)){ls(t.b,Os(t,"Request complete")),t.c=!1;try{var e,n=xs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.l).match(An)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}r=!ms.test(o?o.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<Ss(t)?t.a.statusText:""}catch(c){ls(t.b,"Can not get status: "+c.message),l=""}t.h=l+" ["+xs(t)+"]",ks(t)}}finally{Ts(t)}}}function Ts(t,e){if(t.a){Is(t);var n=t.a,i=t.B[0]?h:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(t=t.b)&&t.log(es,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}}function Is(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Ss(t){return t.a?t.a.readyState:0}function xs(t){try{return 2<Ss(t)?t.a.status:-1}catch(e){return-1}}function Os(t,e){return e+" ["+t.P+" "+t.l+" "+xs(t)+"]"}function As(t){var e=Vs;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ds(t,e,n){t.a=!0,t.c=n,t.f=!e,Ns(t)}function Ms(t){if(t.a){if(!t.u)throw new Rs(t);t.u=!1}}function Ps(t,e,n,i){t.g.push([e,n,i]),t.a&&Ns(t)}function Ls(t){return z(t.g,(function(t){return p(t[1])}))}function Ns(t){if(t.h&&t.a&&Ls(t)){var e=t.h,n=js[e];n&&(u.clearTimeout(n.a),delete js[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],s=r[1];if(r=r[2],o=t.f?s:o)try{var a=o.call(r||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(M(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(i=!0,t.i=!0)}catch(l){e=l,t.f=!0,Ls(t)||(n=!0)}}t.c=e,i&&(a=w(t.m,t,!0),i=w(t.m,t,!1),e instanceof As?(Ps(e,a,i),e.B=!0):e.then(a,i)),n&&(e=new Fs(e),js[e.a]=e,t.h=e.a)}function Rs(){P.call(this)}function Bs(){P.call(this)}function Fs(t){this.a=u.setTimeout(w(this.c,this),0),this.b=t}(e=gs.prototype).Ka=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ls(this.b,Os(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ls(this.b,Os(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ts(this))},e.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ts(this,!0)),gs.Za.Ba.call(this)},e.Sb=function(){this.wa||(this.O||this.i||this.f?Cs(this):this.Hc())},e.Hc=function(){Cs(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ys:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(es,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ls(this.b,"Can not get response: "+e.message),null}},As.prototype.cancel=function(t){if(this.a)this.c instanceof As&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Bs(this),Ms(this),Ds(this,!1,t))}},As.prototype.m=function(t,e){this.i=!1,Ds(this,t,e)},As.prototype.then=function(t,e,n){var i,r,o=new _e((function(t,e){i=t,r=e}));return Ps(this,i,(function(t){t instanceof Bs?o.cancel():r(t)})),o.then(t,e,n)},As.prototype.$goog_Thenable=!0,C(Rs,P),Rs.prototype.message="Deferred has already fired",Rs.prototype.name="AlreadyCalledError",C(Bs,P),Bs.prototype.message="Deferred was canceled",Bs.prototype.name="CanceledError",Fs.prototype.c=function(){throw delete js[this.a],this.b};var js={};function Us(t){var e={},n=e.document||document,i=Ct(t).toString(),r=he(document,"SCRIPT"),o={Tb:r,Ka:void 0},s=new As(o),a=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(a=window.setTimeout((function(){$s(r,!0);var t=new qs(Hs,"Timeout reached for loading script "+i);Ms(s),Ds(s,!1,t)}),h),o.Ka=a),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||($s(r,e.ud||!1,a),Ms(s),Ds(s,!0,null))},r.onerror=function(){$s(r,!0,a);var t=new qs(Ws,"Error while loading script "+i);Ms(s),Ds(s,!1,t)},gt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),se(r,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=Ct(e),null===c&&(c=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),s}function Vs(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&$s(t,!0,this.Ka)}}function $s(t,e,n){null!=n&&u.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ws=0,Hs=1;function qs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function zs(t){this.f=t}function Ks(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Xs,this.g=pt(t.secureTokenHeaders||Ys),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Js,this.a=pt(t.firebaseHeaders||Zs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==mi(),!(n=u.XMLHttpRequest||n&&i.a.INTERNAL.node&&i.a.INTERNAL.node.XMLHttpRequest)&&!yi())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,yi()?this.f=new cs(self):_i()?this.f=new zs(n):this.f=new Go,this.b=null}C(qs,P),C(zs,qo),zs.prototype.a=function(){return new this.f},zs.prototype.b=function(){return{}};var Qs,Gs="idToken",Xs=new Fi(3e4,6e4),Ys={"Content-Type":"application/x-www-form-urlencoded"},Js=new Fi(3e4,6e4),Zs={"Content-Type":"application/json"};function ta(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ea(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function na(t,e,n,i,r,o,s){(function(){var t=Ti();return!((t=Ei(t)!=wi?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!zt||!ee||9<ee)})()||yi()?t=w(t.w,t):(Qs||(Qs=new _e((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[ra]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ps(t,null,e,void 0)}(Us(Tt(ia,{onload:ra})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=w(t.s,t)),t(e,n,i,r,o,s)}Ks.prototype.S=function(){return this.b},Ks.prototype.w=function(t,e,n,i,r,o){if(yi()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new gs(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent("timeout")}),o)}bn(s,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ls(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),wn(s,"ready",(function(){a&&clearTimeout(a),We(this)})),wn(s,"timeout",(function(){a&&clearTimeout(a),We(this),e&&e(null)})),bs(s,t,n,i,r)};var ia=new mt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),ra="__fcb"+Math.floor(1e6*Math.random()).toString();function oa(t,e,n,i,r,o,s){var a=Bn(e+n);Nn(a,"key",t.c),s&&Nn(a,"cb",k().toString());var u="GET"==i;if(u)for(var l in r)r.hasOwnProperty(l)&&Nn(a,l,r[l]);return new _e((function(e,n){na(t,a.toString(),(function(t){t?t.error?n(tu(t,o||{})):e(t):n(new T("network-request-failed"))}),i,u?void 0:ei(Pi(r)),t.a,t.i.get())}))}function sa(t){if("string"!==typeof(t=t.email)||!fi.test(t))throw new T("invalid-email")}function aa(t){"email"in t&&sa(t)}function ua(t){if(!t[Gs]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,pt(t));throw new T("internal-error")}}function la(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Ks.prototype.s=function(t,e,n,i,r){var o=this;Qs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ks.prototype.vb=function(){return Ja(this,Ua,{})},Ks.prototype.xb=function(t,e){return Ja(this,Fa,{idToken:t,email:e})},Ks.prototype.yb=function(t,e){return Ja(this,ja,{idToken:t,password:e})};var ca={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ha(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function da(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function fa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Yn(t=new Kn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function pa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ho(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ho(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ho(t)):t.errorMessage&&(e=Za(t.errorMessage)),e)throw e;ua(t)}function va(t,e){return e.returnIdpCredential=!0,Ja(t,Wa,e)}function ga(t,e){return e.returnIdpCredential=!0,Ja(t,qa,e)}function ya(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ja(t,Ha,e)}function ma(t){if(!t.oobCode)throw new T("invalid-action-code")}(e=Ks.prototype).zb=function(t,e){var n={idToken:t},i=[];return dt(ca,(function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)})),i.length&&(n.deleteAttribute=i),Ja(this,Fa,n)},e.rb=function(t,e){return gt(t={requestType:"PASSWORD_RESET",email:t},e),Ja(this,Pa,t)},e.sb=function(t,e){return gt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ja(this,Aa,t)},e.qb=function(t,e){return gt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ja(this,Da,t)},e.Ab=function(t,e,n){return gt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ja(this,Ma,t)},e.cb=function(t){return Ja(this,Qa,t)},e.jb=function(t,e){return Ja(this,Ra,{oobCode:t,newPassword:e})},e.Pa=function(t){return Ja(this,ba,{oobCode:t})},e.fb=function(t){return Ja(this,_a,{oobCode:t})};var _a={endpoint:"setAccountInfo",A:ma,Y:"email",C:!0},ba={endpoint:"resetPassword",A:ma,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},C:!0},wa={endpoint:"signupNewUser",A:function(t){if(sa(t),!t.password)throw new T("weak-password")},G:ua,U:!0,C:!0},Ea={endpoint:"createAuthUri",C:!0},ka={endpoint:"deleteAccount",M:["idToken"]},Ca={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=d(t.deleteProvider))throw new T("internal-error")}},Ta={endpoint:"emailLinkSignin",M:["email","oobCode"],A:sa,G:ua,U:!0,C:!0},Ia={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:sa,G:ua,U:!0},Sa={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:ha,G:ua,C:!0,La:!0},xa={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:ha,G:ua,C:!0,La:!0},Oa={endpoint:"getAccountInfo"},Aa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");sa(t)},Y:"email",C:!0},Da={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Y:"email",C:!0},Ma={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Y:"email",C:!0},Pa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");sa(t)},Y:"email",C:!0},La={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Na={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Ra={endpoint:"resetPassword",A:ma,Y:"email",C:!0},Ba={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Fa={endpoint:"setAccountInfo",M:["idToken"],A:aa,U:!0},ja={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(aa(t),!t.password)throw new T("weak-password")},G:ua,U:!0},Ua={endpoint:"signupNewUser",G:ua,U:!0,C:!0},Va={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},C:!0,La:!0},$a={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},C:!0,La:!0},Wa={endpoint:"verifyAssertion",A:da,Wa:fa,G:pa,U:!0,C:!0},Ha={endpoint:"verifyAssertion",A:da,Wa:fa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw Za(t.errorMessage);ua(t)},U:!0,C:!0},qa={endpoint:"verifyAssertion",A:function(t){if(da(t),!t.idToken)throw new T("internal-error")},Wa:fa,G:pa,U:!0},za={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:ua,U:!0,C:!0},Ka={endpoint:"verifyPassword",A:function(t){if(sa(t),!t.password)throw new T("wrong-password")},G:ua,U:!0,C:!0},Qa={endpoint:"verifyPhoneNumber",A:la,G:ua,C:!0},Ga={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");la(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ho(t);ua(t)}},Xa={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:la,G:ua,C:!0},Ya={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Gs]^!!t.refreshToken)throw new T("internal-error")},C:!0,La:!0};function Ja(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(void 0===i||null===i||""===i)return!1}return!0}(n,e.M))return Se(new T("internal-error"));var i,r=!!e.La,o=e.Rb||"POST";return Ie(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),oa(t,r?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return i=t,e.Wa?e.Wa(n,i):i})).then(e.G).then((function(){if(!e.Y)return i;if(!(e.Y in i))throw new T("internal-error");return i[e.Y]}))}function Za(t){return tu({error:{errors:[{message:t}],code:400,message:t}})}function tu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new T(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",gt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new T(i[r],e);return!e&&t&&(e=Mi(t)),new T("internal-error",e)}function eu(t){this.b=t,this.a=null,this.nb=function(t){return(ou||(ou=new _e((function(t,e){function n(){Bi(),Ii("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Bi(),e(Error("Network Error"))},timeout:iu.get()})}if(Ii("gapi.iframes.Iframe"))t();else if(Ii("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[i]=function(){Ii("gapi.load")?n():e(Error("Network Error"))},Ie(Us(i=Tt(nu,{onload:i}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw ou=null,t})))).then((function(){return new _e((function(e,n){Ii("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(i){function r(){clearTimeout(o),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),ru.get());i.ping(r).then(r,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var nu=new mt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),iu=new Fi(3e4,6e4),ru=new Fi(5e3,15e3),ou=null;function su(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Fn(this.i,"/__/auth/iframe"),Nn(this.a,"apiKey",this.g),Nn(this.a,"appName",this.h),this.b=null,this.c=[]}function au(t,e,n,i,r){this.s=t,this.m=e,this.c=n,this.u=i,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function uu(t){try{return i.a.app(t).auth().Ea()}catch(e){return[]}}function lu(t,e,n,i,r){this.u=t,this.f=e,this.b=n,this.c=i||null,this.h=r||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function cu(t){var e=ai();return function(t){return Ja(t,La,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Bn(e),i=n.f;n=n.b;for(var r=0;r<t.length;r++){var o=t[r],s=n,a=i;if(0==o.indexOf("chrome-extension://")?s=Bn(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:di.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new $o(ai())}))}function hu(t){return t.l||(t.l=pi().then((function(){if(!t.s){var e=t.c,n=t.h,i=uu(t.b),r=new su(t.u,t.f,t.b);r.f=e,r.b=n,r.c=Y(i||[]),t.s=r.toString()}t.i=new eu(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=Fo(e.authEvent),n=0;n<t.g.length;n++)i=t.g[n](e)||i;return(n={}).status=i?"ACK":"ERROR",Ie(n)}return n.status="ERROR",Ie(n)}))}(t)}))),t.l}function du(t){return t.m||(t.w=t.c?Ci(t.c,uu(t.b)):null,t.m=new Ks(t.f,D(t.h),t.w)),t.m}function fu(t,e,n,i,r,o,s,a,u,l,c){return(t=new au(t,e,n,i,r)).l=o,t.g=s,t.i=a,t.b=pt(u||null),t.f=l,t.ub(c).toString()}function pu(t){if(this.a=t||i.a.INTERNAL.reactNative&&i.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vu(t){this.b=t,this.a={},this.f=w(this.c,this)}su.prototype.toString=function(){return this.f?Nn(this.a,"v",this.f):Xn(this.a.a,"v"),this.b?Nn(this.a,"eid",this.b):Xn(this.a.a,"eid"),this.c.length?Nn(this.a,"fw",this.c.join(",")):Xn(this.a.a,"fw"),this.a.toString()},au.prototype.ub=function(t){return this.h=t,this},au.prototype.toString=function(){var t=Fn(this.s,"/__/auth/handler");if(Nn(t,"apiKey",this.m),Nn(t,"appName",this.c),Nn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=i.a.app(this.c).auth().ja()}catch(u){n=null}for(var r in e.kb=n,Nn(t,"providerId",this.a.providerId),n=Pi((e=this.a).Fb))n[r]=n[r].toString();r=e.Oc,n=pt(n);for(var o=0;o<r.length;o++){var s=r[o];s in n&&delete n[s]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),ft(n)||Nn(t,"customParameters",Mi(n))}if("function"===typeof this.a.Nb&&((e=this.a.Nb()).length&&Nn(t,"scopes",e.join(","))),this.l?Nn(t,"redirectUrl",this.l):Xn(t.a,"redirectUrl"),this.g?Nn(t,"eventId",this.g):Xn(t.a,"eventId"),this.i?Nn(t,"v",this.i):Xn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Rn(t,a)&&Nn(t,a,this.b[a]);return this.h?Nn(t,"tid",this.h):Xn(t.a,"tid"),this.f?Nn(t,"eid",this.f):Xn(t.a,"eid"),(a=uu(this.c)).length&&Nn(t,"fw",a.join(",")),t.toString()},(e=lu.prototype).Lb=function(t,e,n){var i=new T("popup-closed-by-user"),r=new T("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return hu(t).then((function(){return function(t,e){return t.nb.then((function(){return new _e((function(n){t.a.send(e.type,e,n,Ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&ci(t),e(r),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new _e((function(e){return function n(){Cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Cn(n).then((function(){e(i)}))}))},e.Ub=function(){var t=Ti();return!Di(t)&&!Ri(t)},e.Qb=function(){return!1},e.Jb=function(t,e,n,i,r,o,s,a){if(!t)return Se(new T("popup-blocked"));if(s&&!Di())return this.ka().o((function(e){ci(t),r(e)})),i(),Ie();this.a||(this.a=cu(du(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw ci(t),r(e),e}));return i(),e})).then((function(){(Ro(n),s)||ui(fu(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},e.Kb=function(t,e,n,i){this.a||(this.a=cu(du(this)));var r=this;return this.a.then((function(){Ro(e),ui(fu(r.u,r.f,r.b,t,e,ai(),n,r.c,void 0,r.h,i))})).o((function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t}))},e.ka=function(){var t=this;return hu(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new T("network-request-failed")}))},e.Xb=function(){return!0},e.Ca=function(t){this.g.push(t)},e.Qa=function(t){G(this.g,(function(e){return e==t}))},(e=pu.prototype).get=function(t){return Ie(this.a.getItem(t)).then((function(t){return t&&Li(t)}))},e.set=function(t,e){return Ie(this.a.setItem(t,Mi(e)))},e.T=function(t){return Ie(this.a.removeItem(t))},e.ba=function(){},e.ha=function(){};var gu,yu=[];function mu(t,e,n){ft(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function _u(t){this.a=t}function bu(t){this.c=t,this.b=!1,this.a=[]}function wu(t,e,n,i){var r,o,s,a,u=n||{},l=null;if(t.b)return Se(Error("connection_unavailable"));var c=i?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new _e((function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){i(Error("unsupported_event"))}),c),l={messageChannel:h,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){i(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),"undefined"!==typeof t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),i(Error("invalid_response"))))}},t.a.push(l),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:r,data:u},[h.port2])):i(Error("connection_unavailable"))})).then((function(e){return Eu(t,l),e})).o((function(e){throw Eu(t,l),e}))}function Eu(t,e){if(e){var n=e.messageChannel,i=e.onMessage;n&&(n.port1.removeEventListener("message",i),n.port1.close()),G(t.a,(function(t){return t==e}))}}function ku(){if(!Iu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;yi()&&self?(this.l=function(){var t=yi()?self:null;if(W(yu,(function(n){n.b==t&&(e=n)})),!e){var e=new vu(t);yu.push(e)}return e}(),mu(this.l,"keyChanged",(function(e,n){return Du(t).then((function(e){return 0<e.length&&W(t.a,(function(t){t(e)})),{keyProcessed:K(e,n.key)}}))})),mu(this.l,"ping",(function(){return Ie(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Ie().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ie(null)}().then((function(e){(t.h=e)&&(t.g=new bu(new _u(e)),wu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Cu(t){return new _e((function(e,n){var i=t.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(i):function(t){return new _e((function(e,n){var i=t.u.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Cu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Tu(t){return t.m||(t.m=Cu(t)),t.m}function Iu(){try{return!!u.indexedDB}catch(os){return!1}}function Su(t){return t.objectStore("firebaseLocalStorage")}function xu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ou(t){return new _e((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Au(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?wu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ie()}function Du(t){return Tu(t).then((function(t){var e=Su(xu(t,!1));return e.getAll?Ou(e.getAll()):new _e((function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=function t(e,n){var i,r=[];for(i in e)i in n?typeof e[i]!=typeof n[i]?r.push(i):"object"==typeof e[i]&&null!=e[i]&&null!=n[i]?0<t(e[i],n[i]).length&&r.push(i):e[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in e||r.push(i);return r}(t.c,n),t.c=n}return i}))}function Mu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Pu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ie().then((function(){if(Iu()){var t=Ni(),i="__sak"+t;return gu||(gu=new ku),(n=gu).set(i,t).then((function(){return n.get(i)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(i)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){W(e.a,(function(e){e(t)}))})),t}))}function Lu(){this.a={},this.type="inMemory"}function Nu(){if(!function(){var t="Node"==mi();if(!(t=Ru()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==mi())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Ru()||i.a.INTERNAL.node.localStorage,this.type="localStorage"}function Ru(){try{var t=u.localStorage,e=Ni();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Bu(){this.type="nullStorage"}function Fu(){if(!function(){var t="Node"==mi();if(!(t=ju()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==mi())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=ju()||i.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ju(){try{var t=u.sessionStorage,e=Ni();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Uu(){var t={};t.Browser=Wu,t.Node=Hu,t.ReactNative=qu,t.Worker=zu,this.a=t[mi()]}vu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];W(i,(function(e){r.push(Ie().then((function(){return e(t.origin,t.data.data)})))})),Oe(r).then((function(i){var r=[];W(i,(function(t){r.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),W(r,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})}))}},_u.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},bu.prototype.close=function(){for(;0<this.a.length;)Eu(this,this.a[0]);this.b=!0},(e=ku.prototype).set=function(t,e){var n,i=!1,r=this;return Tu(this).then((function(e){return Ou((e=Su(xu(n=e,!0))).get(t))})).then((function(o){var s=Su(xu(n,!0));return o?(o.value=e,Ou(s.put(o))):(r.b++,i=!0,(o={}).fbase_key=t,o.value=e,Ou(s.add(o)))})).then((function(){return r.c[t]=e,Au(r,t)})).ma((function(){i&&r.b--}))},e.get=function(t){return Tu(this).then((function(e){return Ou(Su(xu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},e.T=function(t){var e=!1,n=this;return Tu(this).then((function(i){return e=!0,n.b++,Ou(Su(xu(i,!0)).delete(t))})).then((function(){return delete n.c[t],Au(n,t)})).ma((function(){e&&n.b--}))},e.ba=function(t){0==this.a.length&&function(t){Mu(t),function e(){t.f=setTimeout((function(){t.i=Du(t).then((function(e){0<e.length&&W(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},e.ha=function(t){G(this.a,(function(e){return e==t})),0==this.a.length&&Mu(this)},(e=Pu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},e.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},e.T=function(t){return this.b.then((function(e){return e.T(t)}))},e.ba=function(t){this.a.push(t)},e.ha=function(t){G(this.a,(function(e){return e==t}))},(e=Lu.prototype).get=function(t){return Ie(this.a[t])},e.set=function(t,e){return this.a[t]=e,Ie()},e.T=function(t){return delete this.a[t],Ie()},e.ba=function(){},e.ha=function(){},(e=Nu.prototype).get=function(t){var e=this;return Ie().then((function(){return Li(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return Ie().then((function(){var i=Mi(e);null===i?n.T(t):n.a.setItem(t,i)}))},e.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},e.ba=function(t){u.window&&an(u.window,"storage",t)},e.ha=function(t){u.window&&cn(u.window,"storage",t)},(e=Bu.prototype).get=function(){return Ie(null)},e.set=function(){return Ie()},e.T=function(){return Ie()},e.ba=function(){},e.ha=function(){},(e=Fu.prototype).get=function(t){var e=this;return Ie().then((function(){return Li(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return Ie().then((function(){var i=Mi(e);null===i?n.T(t):n.a.setItem(t,i)}))},e.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},e.ba=function(){},e.ha=function(){};var Vu,$u,Wu={F:Nu,$a:Fu},Hu={F:Nu,$a:Fu},qu={F:pu,$a:Bu},zu={F:Nu,$a:Bu},Ku={od:"local",NONE:"none",qd:"session"};function Qu(){var t=!(Ri(Ti())||!gi()),e=Di(),n=Si();this.m=t,this.h=e,this.l=n,this.a={},Vu||(Vu=new Uu),t=Vu;try{this.g=!si()&&Vi()||!u.indexedDB?new t.a.F:new Pu(yi()?new Lu:new t.a.F)}catch(i){this.g=new Lu,this.h=!0}try{this.i=new t.a.$a}catch(i){this.i=new Lu}this.u=new Lu,this.f=w(this.Vb,this),this.b={}}function Gu(){return $u||($u=new Qu),$u}function Xu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Yu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ju(t,e,n){return n=Yu(e,n),"local"==e.F&&(t.b[n]=null),Xu(t,e.F).T(n)}function Zu(t){t.c&&(clearInterval(t.c),t.c=null)}function tl(t){this.a=t,this.b=Gu()}(e=Qu.prototype).get=function(t,e){return Xu(this,t.F).get(Yu(t,e))},e.set=function(t,e,n){var i=Yu(t,n),r=this,o=Xu(this,t.F);return o.set(i,e).then((function(){return o.get(i)})).then((function(e){"local"==t.F&&(r.b[i]=e)}))},e.addListener=function(t,e,n){t=Yu(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),ft(this.a)&&(Xu(this,"local").ba(this.f),this.h||(si()||!Vi())&&u.indexedDB||!this.l||function(t){Zu(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new Ge({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},e.removeListener=function(t,e,n){t=Yu(t,e),this.a[t]&&(G(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ft(this.a)&&(Xu(this,"local").ha(this.f),Zu(this))},e.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];"undefined"===typeof i&&(i=null);var r=u.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?Xu(this,"local").ha(this.f):Zu(this),this.m)if(n=u.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?u.localStorage.setItem(e,i):u.localStorage.removeItem(e);else if(this.b[e]===i&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.ib(e))},zt&&ee&&10==ee&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else W(t,w(this.ib,this))},e.ib=function(t){this.a[t]&&W(this.a[t],(function(t){t()}))};var el,nl={name:"authEvent",F:"local"};function il(){this.a=Gu()}function rl(t,e){this.b=ol,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===el&&(el=u.Int32Array?new Int32Array(dl):dl),this.reset()}C(rl,(function(){this.b=-1}));for(var ol=64,sl=ol-1,al=[],ul=0;ul<sl;ul++)al[ul]=0;var ll=X(128,al);function cl(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){r=0|n[e-15],i=0|n[e-2];var o=(0|n[e-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,s=(0|n[e-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+s|0}i=0|t.a[0],r=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&a^r&a)|0;s=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((s=(s=l&c^~l&h)+(0|el[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=l,l=u+s|0,u=a,a=r,r=i,i=s+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function hl(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if("string"===typeof e)for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(cl(t),r=0);else{if(!f(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(cl(t),r=0)}}t.c=r,t.g+=n}rl.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Y(this.h)};var dl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function fl(){rl.call(this,8,pl)}C(fl,rl);var pl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vl(t,e,n,i,r){this.u=t,this.i=e,this.l=n,this.m=i||null,this.s=r||null,this.h=e+":"+n,this.w=new il,this.g=new tl(this.h),this.f=null,this.b=[],this.a=this.c=null}function gl(t){return new T("invalid-cordova-configuration",t)}function yl(t){var e=new fl;hl(e,t),t=[];var n=8*e.g;56>e.c?hl(e,ll,56-e.c):hl(e,ll,e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(cl(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return q(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function ml(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(i){}}function _l(t){return t.f||(t.f=t.ka().then((function(){return new _e((function(e){t.Ca((function n(i){return e(i),t.Qa(n),!1})),function(t){function e(e){i=!0,r&&r.cancel(),bl(t).then((function(i){var r=n;if(i&&e&&e.url){var o=null;-1!=(r=eo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Li(Rn(o=Bn(r),"firebaseError")||null))?I(o):null)?new Bo(i.c,i.b,null,null,o,null,i.S()):new Bo(i.c,i.b,r,i.f,null,null,i.S())),r=o||n}ml(t,r)}))}var n=new Bo("unknown",null,null,null,new T("no-auth-event")),i=!1,r=Cn(500).then((function(){return bl(t).then((function(){i||ml(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ii("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},Vo||(Vo=new jo),function(t){var e=Vo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Ii("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function bl(t){var e=null;return function(t){return t.b.get(nl,t.a).then((function(t){return Fo(t)}))}(t.g).then((function(n){return e=n,Ju((n=t.g).b,nl,n.a)})).then((function(){return e}))}function wl(t){this.a=t,this.b=Gu()}(e=vl.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(vi(void 0)?pi().then((function(){return new _e((function(t,e){var n=u.document,i=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(i),t()}),!1)}))})):Se(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Ii("universalLinks.subscribe",u))throw gl("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Ii("BuildInfo.packageName",u))throw gl("cordova-plugin-buildinfo is not installed");if("function"!==typeof Ii("cordova.plugins.browsertab.openUrl",u))throw gl("cordova-plugin-browsertab is not installed");if("function"!==typeof Ii("cordova.InAppBrowser.open",u))throw gl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},e.Lb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Ie()},e.Jb=function(){return Se(new T("operation-not-supported-in-this-environment"))},e.Xb=function(){return!1},e.Ub=function(){return!0},e.Qb=function(){return!0},e.Kb=function(t,e,n,i){if(this.c)return Se(new T("redirect-operation-pending"));var r=this,o=u.document,s=null,a=null,l=null,c=null;return this.c=Ie().then((function(){return Ro(e),_l(r)})).then((function(){return function(t,e,n,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Bo(e,i,null,o,new T("no-auth-event"),null,r),a=Ii("BuildInfo.packageName",u);if("string"!==typeof a)throw new T("invalid-cordova-configuration");var l=Ii("BuildInfo.displayName",u),c={};if(Ti().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!Ti().toLowerCase().match(/android/))return Se(new T("operation-not-supported-in-this-environment"));c.apn=a}l&&(c.appDisplayName=l),o=yl(o),c.sessionId=o;var h=fu(t.u,t.i,t.l,e,n,null,i,t.m,c,t.s,r);return t.ka().then((function(){var e=t.h;return t.w.a.set(nl,s.v(),e)})).then((function(){var e=Ii("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=Ii("cordova.plugins.browsertab.openUrl",u)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Ii("cordova.InAppBrowser.open",u)))throw new T("invalid-cordova-configuration");e=Ti(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(r,t,e,n,i)})).then((function(){return new _e((function(t,e){a=function(){var e=Ii("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),r.a&&"function"===typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ca(a),l=function(){s||(s=Cn(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},c=function(){ji()&&l()},o.addEventListener("resume",l,!1),Ti().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(t){return bl(r).then((function(){throw t}))}))})).ma((function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),a&&r.Qa(a),r.c=null}))},e.Ca=function(t){this.b.push(t),_l(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Bo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},e.Qa=function(t){G(this.b,(function(e){return e==t}))};var El={name:"pendingRedirect",F:"session"};function kl(t){return Ju(t.b,El,t.a)}function Cl(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Fl,this.B=new Wl,this.g=new wl(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Tl(this.D,this.u,this.m,S)}function Tl(t,e,n,r){var o=i.a.SDK_VERSION||null;return vi()?new vl(t,e,n,o,r):new lu(t,e,n,o,r)}function Il(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function Sl(t){t.a.Ub()&&Il(t).o((function(e){var n=new Bo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Pl(e)&&t.s(n)})),t.a.Qb()||jl(t.b)}function xl(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(El,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?kl(t.g).then((function(){Il(t).o((function(e){var n=new Bo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Pl(e)&&t.s(n)}))})):Sl(t)})).o((function(){Sl(t)}))}function Ol(t,e){G(t.h,(function(t){return t==e}))}Cl.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Tl(this.D,this.u,this.m),this.i={}},Cl.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=k()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=k())),e=!0;break}}return jl(this.b),e};var Al=new Fi(2e3,1e4),Dl=new Fi(3e4,6e4);function Ml(t,e,n,i,r,o,s){return t.a.Jb(e,n,i,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),r,o,s)}function Pl(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Ll(t,e,n,i,r){var o;return function(t){return t.b.set(El,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,i,r).o((function(e){if(Pl(e))throw new T("operation-not-supported-in-this-environment");return o=e,kl(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new _e((function(){})):kl(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Nl(t,e,n,i,r){return t.a.Lb(i,(function(t){e.la(n,null,t,r)}),Al.get())}Cl.prototype.pa=function(){return this.b.pa()};var Rl={};function Bl(t,e,n){var i=e+":"+n;return Rl[i]||(Rl[i]=new Cl(t,e,n)),Rl[i]}function Fl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function jl(t){t.g||(t.g=!0,$l(t,!1,null,null))}function Ul(t){t.g&&!t.i&&$l(t,!1,null,null)}function Vl(t,e){if(t.b=function(){return Ie(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function $l(t,e,n,i){e?i?function(t,e){if(t.b=function(){return Se(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):Vl(t,n):Vl(t,{user:null}),t.f=[],t.c=[]}function Wl(){}function Hl(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function ql(t,e){this.a=e,zi(this,"verificationId",t)}function zl(t,e,n,i){return new Po(t).cb(e,n).then((function(t){return new ql(t,i)}))}function Kl(t){var e=Vr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ki(this,{token:t,expirationTime:Ui(1e3*e.exp),authTime:Ui(1e3*e.auth_time),issuedAtTime:Ui(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Ql(t,e,n){var i=e&&e[Xl];if(!i)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new no(null,i),this.b=[];var r=this;W(e[Gl]||[],(function(t){(t=Yi(t))&&r.b.push(t)})),zi(this,"auth",this.a),zi(this,"session",this.c),zi(this,"hints",this.b)}Fl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Fl.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?($l(this,!0,null,t.a),Ie()):e.Da(n,i)?function(t,e,n){n=n.Da(e.c,e.b);var i=e.g,r=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(i,r,s,o).then((function(e){$l(t,a,e,null)})).o((function(e){$l(t,a,null,e)}))}(this,t,e):Se(new T("invalid-auth-event")):($l(this,!1,null,null),Ie())}else Se(new T("invalid-auth-event"))},Fl.prototype.pa=function(){var t=this;return new _e((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Cn(Dl.get()).then((function(){t.b||(t.g=!0,$l(t,!0,null,e))}))}(t))}))},Wl.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.la(t.c,null,t.a,t.b),Ie()):e.Da(n,i)?function(t,e){var n=t.b,i=t.c;e.Da(i,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(i,t,null,n)})).o((function(t){e.la(i,null,t,n)}))}(t,e):Se(new T("invalid-auth-event"))}else Se(new T("invalid-auth-event"))},ql.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var Gl="mfaInfo",Xl="mfaPendingCredential";function Yl(t,e,n,i){T.call(this,"multi-factor-auth-required",i,e),this.b=new Ql(t,e,n),zi(this,"resolver",this.b)}function Jl(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Yl(e,t.serverResponse,n,t.message)}catch(i){}return null}function Zl(){}function tc(t){zi(this,"factorId",t.ea),this.a=t}function ec(t){if(tc.call(this,t),this.a.ea!=Po.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function nc(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function ic(t,e){this.a=t,this.b=[],this.c=w(this.wc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&W(e.multiFactor.enrolledFactors,(function(t){var e=null,i={};if(t){t.uid&&(i[tr]=t.uid),t.displayName&&(i[Ji]=t.displayName),t.enrollmentTime&&(i[Zi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(i[er]=t.phoneNumber);try{e=new nr(i)}catch(r){}t=e}else t=null;t&&n.push(t)})),rc(this,n)}function rc(t,e){t.b=e,zi(t,"enrolledFactors",e)}function oc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function sc(t){this.c=t,this.b=this.a=null}function ac(t){return t.b&&1e3*t.b.c||0}function uc(t,e){var n=e.refreshToken;t.b=Ur(e[Gs]||""),t.a=n}function lc(t,e){return function(t,e){return new _e((function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?na(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?i(tu(t)):t.access_token&&t.refresh_token?n(t):i(new T("internal-error")):i(new T("network-request-failed"))}),"POST",Gn(e).toString(),t.g,t.m.get()):i(new T("internal-error"))}))}(t.c,e).then((function(e){return t.b=Ur(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function cc(t,e){this.a=t||null,this.b=e||null,Ki(this,{lastSignInTime:Ui(e||null),creationTime:Ui(t||null)})}function hc(t,e,n,i,r,o){Ki(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function dc(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=i.a.SDK_VERSION?Ci(i.a.SDK_VERSION):null,this.a=new Ks(this.l,D(S),t),this.b=new sc(this.a),_c(this,e[Gs]),uc(this.b,e),zi(this,"refreshToken",this.b.a),Ec(this,n||{}),_n.call(this),this.P=!1,this.s&&xi()&&(this.i=Bl(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new oc((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=ac(t.b)-k()-3e5;return 0<e?e:0}))}(this),this.Z=w(this.Ma,this);var r=this;this.oa=null,this.za=function(t){r.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){pc(r,t.c)},this.$=null,this.O=new ic(this,n),zi(this,"multiFactor",this.O)}function fc(t,e){t.aa&&cn(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&an(e,"languageCodeChanged",t.za)}function pc(t,e){t.W=e,ea(t.a,i.a.SDK_VERSION?Ci(i.a.SDK_VERSION,t.W):null)}function vc(t,e){t.$&&cn(t.$,"frameworkChanged",t.ya),(t.$=e)&&an(e,"frameworkChanged",t.ya)}function gc(t){try{return i.a.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function yc(t){t.D||t.B.b||(t.B.start(),cn(t,"tokenChanged",t.Z),an(t,"tokenChanged",t.Z))}function mc(t){cn(t,"tokenChanged",t.Z),t.B.stop()}function _c(t,e){t.xa=e,zi(t,"_lat",e)}function bc(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Oe(e).then((function(){return t}))}function wc(t){t.i&&!t.P&&(t.P=!0,xl(t.i,t))}function Ec(t,e){Ki(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new cc(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function kc(){}function Cc(t){return Ie().then((function(){if(t.D)throw new T("app-deleted")}))}function Tc(t){return q(t.providerData,(function(t){return t.providerId}))}function Ic(t,e){e&&(Sc(t,e.providerId),t.providerData.push(e))}function Sc(t,e){G(t.providerData,(function(t){return t.providerId==e}))}function xc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&zi(t,e,n)}function Oc(t,e){t!=e&&(Ki(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?zi(t,"metadata",function(t){return new cc(t.a,t.b)}(e.metadata)):zi(t,"metadata",new cc),W(e.providerData,(function(e){Ic(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),zi(t,"refreshToken",t.b.a),rc(t.O,e.O.b))}function Ac(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Ja(t.a,Oa,{idToken:e}).then(w(t.Ic,t))}(t,e).then((function(){return n||xc(t,"isAnonymous",!1),e}))}))}function Dc(t,e){e[Gs]&&t.xa!=e[Gs]&&(uc(t.b,e),t.dispatchEvent(new nc("tokenChanged")),_c(t,e[Gs]),xc(t,"refreshToken",t.b.a))}function Mc(t,e){return Ac(t).then((function(){if(K(Tc(t),e))return bc(t).then((function(){throw new T("provider-already-linked")}))}))}function Pc(t,e,n){return Qi({user:t,credential:No(e),additionalUserInfo:e=zr(e),operationType:n})}function Lc(t,e){return Dc(t,e),t.reload().then((function(){return t}))}function Nc(t,e,n,r,o){if(!xi())return Se(new T("operation-not-supported-in-this-environment"));if(t.h&&!o)return Se(t.h);var s=qr(n.providerId),a=Ni(t.uid+":::"),u=null;(!Di()||gi())&&t.s&&n.isOAuthProvider&&(u=fu(t.s,t.l,t.m,e,n,null,a,i.a.SDK_VERSION||null,null,null,t.tenantId));var l=hi(u,s&&s.ta,s&&s.sa);return r=r().then((function(){if(Bc(t),!o)return t.I().then((function(){}))})).then((function(){return Ml(t.i,l,e,n,a,!!u,t.tenantId)})).then((function(){return new _e((function(n,i){t.la(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.w=i,t.g=a,t.c=Nl(t.i,t,e,l,a)}))})).then((function(t){return l&&ci(l),t?Qi(t):null})).o((function(t){throw l&&ci(l),t})),Fc(t,r,o)}function Rc(t,e,n,i,r){if(!xi())return Se(new T("operation-not-supported-in-this-environment"));if(t.h&&!r)return Se(t.h);var o=null,s=Ni(t.uid+":::");return i=i().then((function(){if(Bc(t),!r)return t.I().then((function(){}))})).then((function(){return t.fa=s,bc(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Vc,t.v(),e.a)),e})).then((function(){return Ll(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return $c(t.ga);throw o})).then((function(){if(o)throw o})),Fc(t,i,r)}function Bc(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Fc(t,e,n){var i=function(t,e,n){return t.h&&!n?(e.cancel(),Se(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new nc("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(i),i.ma((function(){Q(t.N,i)})),i.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Jl(e.v(),gc(t),w(t.hc,t))),n||e}))}function jc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Gs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=new dc(e,n,t);return t.providerData&&W(t.providerData,(function(t){t&&Ic(i,Qi(t))})),t.redirectEventId&&(i.fa=t.redirectEventId),i}function Uc(t){this.a=t,this.b=Gu()}Ql.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=pt(e.f);return delete n[Gl],delete n[Xl],gt(n,t),e.g(n)}))},C(Yl,T),Zl.prototype.ob=function(t,e,n){return e.type==io?function(t,e,n,i){return n.Fa().then((function(n){return n={idToken:n},"undefined"!==typeof i&&(n.displayName=i),gt(n,{phoneVerificationInfo:Mo(t.a)}),Ja(e,Sa,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return gt(n={mfaPendingCredential:n},{phoneVerificationInfo:Mo(t.a)}),Ja(e,xa,n)}))}(this,t,e)},C(tc,Zl),C(ec,tc),C(nc,Qe),(e=ic.prototype).wc=function(t){rc(this,function(t){var e=[];return W(t.mfaInfo||[],(function(t){(t=Yi(t))&&e.push(t)})),e}(t.ed))},e.Ob=function(){return this.a.I().then((function(t){return new no(t,null)}))},e.dc=function(t,e){var n=this,i=this.a.a;return this.Ob().then((function(n){return t.ob(i,n,e)})).then((function(t){return Dc(n.a,t),n.a.reload()}))},e.$c=function(t){var e=this,n="string"===typeof t?t:t.uid,i=this.a.a;return this.a.I().then((function(t){return Ja(i,Ya,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var i=H(e.b,(function(t){return t.uid!=n}));return rc(e,i),Dc(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},e.v=function(){return{multiFactor:{enrolledFactors:q(this.b,(function(t){return t.v()}))}}},oc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=u.document,e=null;return ji()||!t?Ie():new _e((function(n){e=function(){ji()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},oc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},sc.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:ac(this)}},sc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Se(new T("user-token-expired")):t||!this.b||k()>ac(this)-3e4?this.a?lc(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})},cc.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(dc,_n),dc.prototype.va=function(t){this.oa=t,ta(this.a,t)},dc.prototype.ja=function(){return this.oa},dc.prototype.Ea=function(){return Y(this.W)},dc.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},zi(dc.prototype,"providerId","firebase"),(e=dc.prototype).reload=function(){var t=this;return Fc(this,Cc(this).then((function(){return Ac(t).then((function(){return bc(t)})).then(kc)})))},e.mc=function(t){return this.I(t).then((function(t){return new Kl(t)}))},e.I=function(t){var e=this;return Fc(this,Cc(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.xa&&(_c(e,t.accessToken),e.dispatchEvent(new nc("tokenChanged"))),xc(e,"refreshToken",t.refreshToken),t.accessToken})))},e.Ic=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Ec(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?q(t,(function(t){return new hc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ic(this,e[n]);xc(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new nc("userReloaded",{ed:t}))},e.Jc=function(t){return Hi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},e.pb=function(t){var e=this,n=null;return Fc(this,t.c(this.a,this.uid).then((function(t){return Dc(e,t),n=Pc(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},e.Ac=function(t){return Hi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},e.mb=function(t){var e=this,n=null;return Fc(this,Mc(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Pc(e,t,"link"),Lc(e,t)})).then((function(){return n})))},e.Bc=function(t,e){var n=this;return Fc(this,Mc(this,"phone").then((function(){return zl(gc(n),t,e,w(n.mb,n))})))},e.Kc=function(t,e){var n=this;return Fc(this,Ie().then((function(){return zl(gc(n),t,e,w(n.pb,n))})),!0)},e.xb=function(t){var e=this;return Fc(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return Dc(e,t),e.reload()})))},e.cd=function(t){var e=this;return Fc(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Dc(e,t),e.reload()})))},e.yb=function(t){var e=this;return Fc(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return Dc(e,t),e.reload()})))},e.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Cc(this);var e=this;return Fc(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Dc(e,t),xc(e,"displayName",t.displayName||null),xc(e,"photoURL",t.photoUrl||null),W(e.providerData,(function(t){"password"===t.providerId&&(zi(t,"displayName",e.displayName),zi(t,"photoURL",e.photoURL))})),bc(e)})).then(kc))},e.ad=function(t){var e=this;return Fc(this,Ac(this).then((function(n){return K(Tc(e),t)?function(t,e,n){return Ja(t,Ca,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return W(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),W(Tc(e),(function(t){n[t]||Sc(e,t)})),n[Po.PROVIDER_ID]||zi(e,"phoneNumber",null),bc(e)})):bc(e).then((function(){throw new T("no-such-provider")}))})))},e.delete=function(){var t=this;return Fc(this,this.I().then((function(e){return Ja(t.a,ka,{idToken:e})})).then((function(){t.dispatchEvent(new nc("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");fc(t,null),vc(t,null),t.N=[],t.D=!0,mc(t),zi(t,"refreshToken",null),t.i&&Ol(t.i,t)}))},e.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},e.la=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?w(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?w(this.Ib,this):null},e.Cc=function(t){var e=this;return Nc(this,"linkViaPopup",t,(function(){return Mc(e,t.providerId).then((function(){return bc(e)}))}),!1)},e.Lc=function(t){return Nc(this,"reauthViaPopup",t,(function(){return Ie()}),!0)},e.Dc=function(t){var e=this;return Rc(this,"linkViaRedirect",t,(function(){return Mc(e,t.providerId)}),!1)},e.Mc=function(t){return Rc(this,"reauthViaRedirect",t,(function(){return Ie()}),!0)},e.Hb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Fc(this,this.I().then((function(n){return ga(r.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})})).then((function(t){return o=Pc(r,t,"link"),Lc(r,t)})).then((function(){return o})))},e.Ib=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Fc(this,Ie().then((function(){return so(ya(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)})).then((function(t){return o=Pc(r,t,"reauthenticate"),Dc(r,t),r.h=null,r.reload()})).then((function(){return o})),!0)},e.qb=function(t){var e=this,n=null;return Fc(this,this.I().then((function(e){return n=e,"undefined"===typeof t||ft(t)?{}:Rr(new Ir(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},e.Ab=function(t,e){var n=this,i=null;return Fc(this,this.I().then((function(t){return i=t,"undefined"===typeof e||ft(e)?{}:Rr(new Ir(e))})).then((function(e){return n.a.Ab(i,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},e.hc=function(t){var e=null,n=this;return Fc(this,t=so(Ie(t),n.uid).then((function(t){return e=Pc(n,t,"reauthenticate"),Dc(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},e.toJSON=function(){return this.v()},e.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&gt(t,this.metadata.v()),W(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),gt(t,this.O.v()),t};var Vc={name:"redirectUser",F:"session"};function $c(t){return Ju(t.b,Vc,t.a)}function Wc(t){this.a=t,this.b=Gu(),this.c=null,this.f=function(t){var e=zc("local"),n=zc("session"),i=zc("none");return function(t,e,n){var i=Yu(e,n),r=Xu(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Li(u.localStorage.getItem(i))}catch(a){}if(s&&!o)return u.localStorage.removeItem(i),t.set(e,s,n);s&&o&&"localStorage"!=r.type&&u.localStorage.removeItem(i)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(r){return r?n:t.b.get(i,t.a).then((function(n){return n?i:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(qc,t.a).then((function(t){return t?zc(t):e}))}))}))})).then((function(e){return t.c=e,Hc(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(zc("local"),this.a,w(this.g,this))}function Hc(t,e){var n,i=[];for(n in Ku)Ku[n]!==e&&i.push(Ju(t.b,zc(Ku[n]),t.a));return i.push(Ju(t.b,qc,t.a)),function(t){return new _e((function(e,n){var i=t.length,r=[];if(i)for(var o=function(t,n){i--,r[t]=n,0==i&&e(r)},s=function(t){n(t)},a=0;a<t.length;a++)xe(t[a],E(o,a),s);else e(r)}))}(i)}Wc.prototype.g=function(){var t=this,e=zc("local");Xc(this,(function(){return Ie().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Hc(t,"local").then((function(){t.c=e}))}))}))};var qc={name:"persistence",F:"session"};function zc(t){return{name:"authUser",F:t}}function Kc(t,e){return Xc(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Qc(t){return Xc(t,(function(){return Ju(t.b,t.c,t.a)}))}function Gc(t,e){return Xc(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),jc(t||{})}))}))}function Xc(t,e){return t.f=t.f.then(e,e),t.f}function Yc(t){if(this.l=!1,zi(this,"settings",new Hl),zi(this,"app",t),!oh(this).options||!oh(this).options.apiKey)throw new T("invalid-api-key");t=i.a.SDK_VERSION?Ci(i.a.SDK_VERSION):null,this.b=new Ks(oh(this).options&&oh(this).options.apiKey,D(S),t),this.P=[],this.m=[],this.O=[],this.$b=i.a.INTERNAL.createSubscribe(w(this.xc,this)),this.W=void 0,this.ac=i.a.INTERNAL.createSubscribe(w(this.yc,this)),ih(this,null),this.i=new Wc(oh(this).options.apiKey+":"+oh(this).name),this.B=new Uc(oh(this).options.apiKey+":"+oh(this).name),this.Z=lh(this,function(t){var e=oh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Vc,t.a).then((function(t){return t&&e&&(t.authDomain=e),jc(t||{})}))}(t.B,oh(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),$c(t.B)}));return lh(t,e)}(t).then((function(){return Gc(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Kc(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Qc(t.i)}))):null})).then((function(e){ih(t,e||null)}));return lh(t,n)}(this)),this.h=lh(this,function(t){return t.Z.then((function(){return eh(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(zc("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=w(this.Xc,this),this.Ma=w(this.ca,this),this.xa=w(this.jc,this),this.ya=w(this.uc,this),this.za=w(this.vc,this),this.a=null,function(t){var e=oh(t).options.authDomain,n=oh(t).options.apiKey;e&&xi()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Bl(e,n,oh(t).name),xl(t.a,t),sh(t)&&wc(sh(t)),t.D){wc(t.D);var i=t.D;i.va(t.ja()),fc(i,t),pc(i=t.D,t.N),vc(i,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Ec,this),this.s=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Jc(t){Qe.call(this,"languageCodeChanged"),this.g=t}function Zc(t){Qe.call(this,"frameworkChanged"),this.c=t}function th(t){return t.Zb||Se(new T("auth-domain-config-required"))}function eh(t){if(!xi())return Se(new T("operation-not-supported-in-this-environment"));var e=th(t).then((function(){return t.a.pa()})).then((function(t){return t?Qi(t):null}));return lh(t,e)}function nh(t,e){var n={};return n.apiKey=oh(t).options.apiKey,n.authDomain=oh(t).options.authDomain,n.appName=oh(t).name,t.Z.then((function(){return function(t,e,n,i){var r=new dc(t,e);return n&&(r.ga=n),i&&pc(r,i),r.reload().then((function(){return r}))}(n,e,t.B,t.Ea())})).then((function(e){return sh(t)&&e.uid==sh(t).uid?(Oc(sh(t),e),t.ca(e)):(ih(t,e),wc(e),t.ca(e))})).then((function(){uh(t)}))}function ih(t,e){sh(t)&&(function(t,e){G(t.R,(function(t){return t==e}))}(sh(t),t.Ma),cn(sh(t),"tokenChanged",t.xa),cn(sh(t),"userDeleted",t.ya),cn(sh(t),"userInvalidated",t.za),mc(sh(t))),e&&(e.R.push(t.Ma),an(e,"tokenChanged",t.xa),an(e,"userDeleted",t.ya),an(e,"userInvalidated",t.za),0<t.s&&yc(e)),zi(t,"currentUser",e),e&&(e.va(t.ja()),fc(e,t),pc(e,t.N),vc(e,t))}function rh(t,e){var n=null,i=null;return lh(t,e.then((function(e){return n=No(e),i=zr(e),nh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Jl(e.v(),t,w(t.ic,t))),n||e})).then((function(){return Qi({user:sh(t),credential:n,additionalUserInfo:i,operationType:"signIn"})})))}function oh(t){return t.app}function sh(t){return t.currentUser}function ah(t){return sh(t)&&sh(t)._lat||null}function uh(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](ah(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](ah(t))}}function lh(t,e){return t.P.push(e),e.ma((function(){Q(t.P,e)})),e}function ch(){}function hh(){this.a={},this.b=1e12}Wc.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(i in Ku)if(Ku[i]==t){var i=!0;break t}i=!1}if(!i||"string"!==typeof t)throw e;switch(mi()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Iu()&&"none"!==t)throw n;break;default:if(!Si()&&"none"!==t)throw n}}(t),Xc(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(i){return e=i,Hc(n,t)})).then((function(){if(n.c=zc(t),e)return n.b.set(n.c,e,n.a)})):Ie()}))},C(Yc,_n),C(Jc,Qe),C(Zc,Qe),(e=Yc.prototype).tb=function(t){return lh(this,t=this.i.tb(t))},e.va=function(t){this.$===t||this.l||(this.$=t,ta(this.b,this.$),this.dispatchEvent(new Jc(this.ja())))},e.ja=function(){return this.$},e.dd=function(){var t=u.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.Ec=function(t){this.N.push(t),ea(this.b,i.a.SDK_VERSION?Ci(i.a.SDK_VERSION,this.N):null),this.dispatchEvent(new Zc(this.N))},e.Ea=function(){return Y(this.N)},e.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},e.S=function(){return this.R},e.toJSON=function(){return{apiKey:oh(this).options.apiKey,authDomain:oh(this).options.authDomain,appName:oh(this).name,currentUser:sh(this)&&sh(this).v()}},e.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},e.la=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.gc,this):null},e.gc=function(t,e,n,i){var r=this,o={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.Z.then((function(){return rh(r,va(r.b,o))}))},e.Vc=function(t){if(!xi())return Se(new T("operation-not-supported-in-this-environment"));var e=this,n=qr(t.providerId),r=Ni(),o=null;(!Di()||gi())&&oh(this).options.authDomain&&t.isOAuthProvider&&(o=fu(oh(this).options.authDomain,oh(this).options.apiKey,oh(this).name,"signInViaPopup",t,null,r,i.a.SDK_VERSION||null,null,null,this.S()));var s=hi(o,n&&n.ta,n&&n.sa);return lh(this,n=th(this).then((function(n){return Ml(n,s,"signInViaPopup",t,r,!!o,e.S())})).then((function(){return new _e((function(t,n){e.la("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=r,e.c=Nl(e.a,e,"signInViaPopup",s,r)}))})).then((function(t){return s&&ci(s),t?Qi(t):null})).o((function(t){throw s&&ci(s),t})))},e.Wc=function(t){if(!xi())return Se(new T("operation-not-supported-in-this-environment"));var e=this;return lh(this,th(this).then((function(){return function(t){return Xc(t,(function(){return t.b.set(qc,t.c.F,t.a)}))}(e.i)})).then((function(){return Ll(e.a,"signInViaRedirect",t,void 0,e.S())})))},e.pa=function(){var t=this;return eh(this).then((function(e){return t.a&&Ul(t.a.b),e})).o((function(e){throw t.a&&Ul(t.a.b),e}))},e.bd=function(t){if(!t)return Se(new T("null-user"));if(this.R!=t.tenantId)return Se(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=oh(this).options.apiKey,n.authDomain=oh(this).options.authDomain,n.appName=oh(this).name;var i=function(t,e,n,i){var r=t.b,o={};return o[Gs]=r.b&&r.b.toString(),o.refreshToken=r.a,e=new dc(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),i&&pc(e,i),Oc(e,t),e}(t,n,e.B,e.Ea());return lh(this,this.h.then((function(){if(oh(e).options.apiKey!=t.l)return i.reload()})).then((function(){return sh(e)&&t.uid==sh(e).uid?(Oc(sh(e),t),e.ca(t)):(ih(e,i),wc(i),e.ca(i))})).then((function(){uh(e)})))},e.wb=function(){var t=this;return lh(this,this.h.then((function(){return t.a&&Ul(t.a.b),sh(t)?(ih(t,null),Qc(t.i).then((function(){uh(t)}))):Ie()})))},e.Xc=function(){var t=this;return Gc(this.i,oh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=sh(t)&&e){n=sh(t).uid;var i=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==i&&null!==i&&""!==i&&n==i}if(n)return Oc(sh(t),e),sh(t).I();(sh(t)||e)&&(ih(t,e),e&&(wc(e),e.ga=t.B),t.a&&xl(t.a,t),uh(t))}}))},e.ca=function(t){return Kc(this.i,t)},e.jc=function(){uh(this),this.ca(sh(this))},e.uc=function(){this.wb()},e.vc=function(){this.wb()},e.ic=function(t){var e=this;return this.h.then((function(){return rh(e,Ie(t))}))},e.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(sh(e))}))},e.yc=function(t){var e=this;!function(t,e){t.O.push(e),lh(t,t.h.then((function(){!t.l&&K(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(ah(t)))})))}(this,(function(){t.next(sh(e))}))},e.Gc=function(t,e,n){var i=this;return this.aa&&Promise.resolve().then((function(){p(t)?t(sh(i)):p(t.next)&&t.next(sh(i))})),this.$b(t,e,n)},e.Fc=function(t,e,n){var i=this;return this.aa&&Promise.resolve().then((function(){i.W=i.getUid(),p(t)?t(sh(i)):p(t.next)&&t.next(sh(i))})),this.ac(t,e,n)},e.kc=function(t){var e=this;return lh(this,this.h.then((function(){return sh(e)?sh(e).I(t).then((function(t){return{accessToken:t}})):null})))},e.Rc=function(t){var e=this;return this.h.then((function(){return rh(e,Ja(e.b,za,{token:t}))})).then((function(t){var n=t.user;return xc(n,"isAnonymous",!1),e.ca(n),t}))},e.Sc=function(t,e){var n=this;return this.h.then((function(){return rh(n,Ja(n.b,Ka,{email:t,password:e}))}))},e.cc=function(t,e){var n=this;return this.h.then((function(){return rh(n,Ja(n.b,wa,{email:t,password:e}))}))},e.Ya=function(t){var e=this;return this.h.then((function(){return rh(e,t.ia(e.b))}))},e.Qc=function(t){return Hi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},e.vb=function(){var t=this;return this.h.then((function(){var e=sh(t);if(e&&e.isAnonymous){var n=Qi({providerId:null,isNewUser:!1});return Qi({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return rh(t,t.b.vb()).then((function(e){var n=e.user;return xc(n,"isAnonymous",!0),t.ca(n),e}))}))},e.getUid=function(){return sh(this)&&sh(this).uid||null},e.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&sh(this)&&yc(sh(this))},e.Nc=function(t){var e=this;W(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&sh(this)&&mc(sh(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var e=this;this.m.push(t),lh(this,this.h.then((function(){e.l||K(e.m,t)&&t(ah(e))})))},e.removeAuthTokenListener=function(t){G(this.m,(function(e){return e==t}))},e.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(zc("local"),t.a,this.oa),this.a&&(Ol(this.a,this),Ul(this.a.b)),Promise.resolve()},e.fc=function(t){return lh(this,function(t,e){return Ja(t,Ea,{identifier:e,continueUri:Oi()?ai():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},e.zc=function(t){return!!Oo(t)},e.sb=function(t,e){var n=this;return lh(this,Ie().then((function(){var t=new Ir(e);if(!t.c)throw new T("argument-error",Or+" must be true when sending sign in link to email");return Rr(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},e.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},e.jb=function(t,e){return lh(this,this.b.jb(t,e).then((function(){})))},e.Pa=function(t){return lh(this,this.b.Pa(t).then((function(t){return new ir(t)})))},e.fb=function(t){return lh(this,this.b.fb(t).then((function(){})))},e.rb=function(t,e){var n=this;return lh(this,Ie().then((function(){return"undefined"===typeof e||ft(e)?{}:Rr(new Ir(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},e.Uc=function(t,e){return lh(this,zl(this,t,e,w(this.Ya,this)))},e.Tc=function(t,e){var n=this;return lh(this,Ie().then((function(){var i=e||ai(),r=xo(t,i);if(!(i=Oo(i)))throw new T("argument-error","Invalid email link!");if(i.tenantId!==n.S())throw new T("tenant-id-mismatch");return n.Ya(r)})))},ch.prototype.render=function(){},ch.prototype.reset=function(){},ch.prototype.getResponse=function(){},ch.prototype.execute=function(){};var dh=null;function fh(t,e){return(e=ph(e))&&t.a[e]||null}function ph(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function vh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=oe(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function gh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function yh(){}function mh(){}hh.prototype.render=function(t,e){return this.a[this.b.toString()]=new vh(t,e),this.b++},hh.prototype.reset=function(t){var e=fh(this,t);t=ph(t),e&&t&&(e.delete(),delete this.a[t])},hh.prototype.getResponse=function(t){return(t=fh(this,t))?t.getResponse():null},hh.prototype.execute=function(t){(t=fh(this,t))&&t.execute()},vh.prototype.getResponse=function(){return gh(this),this.b},vh.prototype.execute=function(){gh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(i){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(i){}t.h&&t.execute()}),6e4)}),500))},vh.prototype.delete=function(){gh(this),this.g=!0,clearTimeout(this.a),this.a=null,cn(this.f,"click",this.i)},zi(yh,"FACTOR_ID","phone"),mh.prototype.g=function(){return dh||(dh=new hh),Ie(dh)},mh.prototype.c=function(){};var _h=null;function bh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var wh=new mt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Eh=new Fi(3e4,6e4);bh.prototype.g=function(t){var e=this;return new _e((function(n,i){var r=setTimeout((function(){i(new T("network-request-failed"))}),Eh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(r),n(u.grecaptcha)}else clearTimeout(r),i(new T("internal-error"));delete u[e.a]},Ie(Us(Tt(wh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(r),i(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(r),n(u.grecaptcha))}))},bh.prototype.c=function(){this.b--};var kh=null;function Ch(t,e,n,i,r,o,s){if(zi(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s?(_h||(_h=new mh),s=_h):(kh||(kh=new bh),s=kh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Sh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[xh],!u.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!oe(e)||!this.i&&oe(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ks(t,o||null,r||null),this.w=i||function(){return null};var a=this;this.l=[];var l=this.a[Th];this.a[Th]=function(t){if(Oh(a,t),"function"===typeof l)l(t);else if("string"===typeof l){var e=Ii(l,u);"function"===typeof e&&e(t)}};var c=this.a[Ih];this.a[Ih]=function(){if(Oh(a,null),"function"===typeof c)c();else if("string"===typeof c){var t=Ii(c,u);"function"===typeof t&&t()}}}var Th="callback",Ih="expired-callback",Sh="sitekey",xh="size";function Oh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(i){}}function Ah(t,e){return t.h.push(e),e.ma((function(){Q(t.h,e)})),e}function Dh(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Mh(t,e,n){var r=!1;try{this.b=n||i.a.app()}catch(a){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ea()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=i.a.SDK_VERSION?Ci(i.a.SDK_VERSION,s):null,Ch.call(this,n,t,e,(function(){try{var t=o.b.auth().ja()}catch(e){t=null}return t}),s,D(S),r)}function Ph(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].K(n[r])&&!o){if(e=e[r],0>r||r>=Lh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Lh[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}i=null}}if(i)throw new T("argument-error",t+" failed: "+i)}(e=Ch.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=Ah(this,Ie().then((function(){if(Oi()&&!yi())return pi();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Ja(t.s,Na,{})})).then((function(e){t.a[Sh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},e.render=function(){Dh(this);var t=this;return Ah(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=oe(e);e=function(t,e,n){var i=arguments,r=document,o=String(i[0]),s=i[1];if(!re&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',$t(s.name),'"'),s.type){o.push(' type="',$t(s.type),'"');var a={};gt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=he(r,o),s&&("string"===typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):se(o,s)),2<i.length&&ce(r,o,i),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},e.verify=function(){Dh(this);var t=this;return Ah(this,this.render().then((function(e){return new _e((function(n){var i=t.g.getResponse(e);if(i)n(i);else{t.l.push((function e(i){i&&(function(t,e){G(t.l,(function(t){return t==e}))}(t,e),n(i))})),t.i&&t.g.execute(t.c)}}))})))},e.reset=function(){Dh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Dh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=oe(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},C(Mh,Ch);var Lh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Nh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"===typeof t}}}function Rh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"===typeof t}}}function Bh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:v}}function Fh(t,e){return{name:t||"",J:"a function",optional:!!e,K:p}}function jh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Uh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function Vh(t,e){return v(t)&&"string"===typeof t.type&&t.type===e&&p(t.Fa)}function $h(t){return v(t)&&"string"===typeof t.uid}function Wh(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||!p(t.verify))}}}function Hh(t,e,n,i){return{name:n||"",J:t.J+" or "+e.J,optional:!!i,K:function(n){return t.K(n)||e.K(n)}}}function qh(t,e){for(var n in e){var i=e[n].name;t[i]=Qh(i,t[n],e[n].j)}}function zh(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,i){Ph(t,[n],[i],!0),this[e]=i}),i,n,e[n].gb),enumerable:!0})}}function Kh(t,e,n,i){t[e]=Qh(e,n,i)}function Qh(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return Ph(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}qh(Yc.prototype,{fb:{name:"applyActionCode",j:[Nh("code")]},Pa:{name:"checkActionCode",j:[Nh("code")]},jb:{name:"confirmPasswordReset",j:[Nh("code"),Nh("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Nh("email"),Nh("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Nh("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Nh("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Hh(Bh(),Fh(),"nextOrObserver"),Fh("opt_error",!0),Fh("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Hh(Bh(),Fh(),"nextOrObserver"),Fh("opt_error",!0),Fh("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Nh("email"),Hh(Bh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Nh("email"),Bh("actionCodeSettings")]},tb:{name:"setPersistence",j:[Nh("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Uh()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Uh()]},Rc:{name:"signInWithCustomToken",j:[Nh("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Nh("email"),Nh("password")]},Tc:{name:"signInWithEmailLink",j:[Nh("email"),Nh("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Nh("phoneNumber"),Wh()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Hh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof dc)}},jh(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Nh("code")]}}),zh(Yc.prototype,{lc:{name:"languageCode",gb:Hh(Nh(),jh(),"languageCode")},ti:{name:"tenantId",gb:Hh(Nh(),jh(),"tenantId")}}),Yc.Persistence=Ku,Yc.Persistence.LOCAL="local",Yc.Persistence.SESSION="session",Yc.Persistence.NONE="none",qh(dc.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Rh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Rh("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Uh()]},mb:{name:"linkWithCredential",j:[Uh()]},Bc:{name:"linkWithPhoneNumber",j:[Nh("phoneNumber"),Wh()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Uh()]},pb:{name:"reauthenticateWithCredential",j:[Uh()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Nh("phoneNumber"),Wh()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Hh(Bh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},ad:{name:"unlink",j:[Nh("provider")]},xb:{name:"updateEmail",j:[Nh("email")]},yb:{name:"updatePassword",j:[Nh("password")]},cd:{name:"updatePhoneNumber",j:[Uh("phone")]},zb:{name:"updateProfile",j:[Bh("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Nh("email"),Hh(Bh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]}}),qh(hh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(_e.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),zh(Hl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Rh("appVerificationDisabledForTesting")}}),qh(ql.prototype,{confirm:{name:"confirm",j:[Nh("verificationCode")]}}),Kh(oo,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[fo,Io,Do,lo],i=0;i<n.length;i++)if(e=n[i](t))return e;return null}),[Hh(Nh(),Bh(),"json")]),Kh(So,"credential",(function(t,e){return new To(t,e)}),[Nh("email"),Nh("password")]),qh(To.prototype,{v:{name:"toJSON",j:[Nh(null,!0)]}}),qh(yo.prototype,{Aa:{name:"addScope",j:[Nh("scope")]},Ia:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Kh(yo,"credential",mo,[Hh(Nh(),Bh(),"token")]),Kh(So,"credentialWithLink",xo,[Nh("email"),Nh("emailLink")]),qh(_o.prototype,{Aa:{name:"addScope",j:[Nh("scope")]},Ia:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Kh(_o,"credential",bo,[Hh(Nh(),Bh(),"token")]),qh(wo.prototype,{Aa:{name:"addScope",j:[Nh("scope")]},Ia:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Kh(wo,"credential",Eo,[Hh(Nh(),Hh(Bh(),jh()),"idToken"),Hh(Nh(),jh(),"accessToken",!0)]),qh(ko.prototype,{Ia:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Kh(ko,"credential",Co,[Hh(Nh(),Bh(),"token"),Nh("secret",!0)]),qh(go.prototype,{Aa:{name:"addScope",j:[Nh("scope")]},credential:{name:"credential",j:[Hh(Nh(),Hh(Bh(),jh()),"optionsOrIdToken"),Hh(Nh(),jh(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),qh(co.prototype,{v:{name:"toJSON",j:[Nh(null,!0)]}}),qh(ao.prototype,{v:{name:"toJSON",j:[Nh(null,!0)]}}),Kh(Po,"credential",Lo,[Nh("verificationId"),Nh("verificationCode")]),qh(Po.prototype,{cb:{name:"verifyPhoneNumber",j:[Hh(Nh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Vh(t.session,io)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?Vh(t.session,ro)&&$h(t.multiFactorHint):t.session&&t.multiFactorUid?Vh(t.session,ro)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),Wh()]}}),qh(Ao.prototype,{v:{name:"toJSON",j:[Nh(null,!0)]}}),qh(T.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh(Wo.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh($o.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh(Yl.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh(Ql.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),qh(ic.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Nh("displayName",!0)]},$c:{name:"unenroll",j:[Hh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:$h},Nh(),"multiFactorInfoIdentifier")]}}),qh(Mh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Kh(yr,"parseLink",Tr,[Nh("link")]),Kh(yh,"assertion",(function(t){return new ec(t)}),[Uh("phone")]),function(){if("undefined"===typeof i.a||!i.a.INTERNAL||!i.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:or,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:rr,VERIFY_AND_CHANGE_EMAIL:sr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Yc,AuthCredential:oo,Error:T};Kh(t,"EmailAuthProvider",So,[]),Kh(t,"FacebookAuthProvider",yo,[]),Kh(t,"GithubAuthProvider",_o,[]),Kh(t,"GoogleAuthProvider",wo,[]),Kh(t,"TwitterAuthProvider",ko,[]),Kh(t,"OAuthProvider",go,[Nh("providerId")]),Kh(t,"SAMLAuthProvider",vo,[Nh("providerId")]),Kh(t,"PhoneAuthProvider",Po,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Yc)}}]),Kh(t,"RecaptchaVerifier",Mh,[Hh(Nh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Bh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof i.a.app.App)}}]),Kh(t,"ActionCodeURL",yr,[]),Kh(t,"PhoneMultiFactorGenerator",yh,[]),i.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Yc(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),i.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.kc,t),addAuthTokenListener:w(t.bc,t),removeAuthTokenListener:w(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),i.a.registerVersion("@firebase/auth","0.14.8"),i.a.INTERNAL.extendNamespace({User:dc})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}.call(this,n(15))},function(t,e,n){"use strict";(function(i){Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=n(2))&&"object"===typeof r&&"default"in r?r.default:r,s=n(0),a=n(7),u=n(12),l=n(5),c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),a.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:a.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return a.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(n){}return new h},f=d("localStorage"),p=d("sessionStorage"),v=new u.Logger("@firebase/database"),g=function(){var t=1;return function(){return t++}}(),y=function(t){var e=a.stringToByteArray(t),n=new a.Sha1;n.update(e);var i=n.digest();return a.base64.encodeByteArray(i)},m=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i="",r=0;r<e.length;r++){var o=e[r];Array.isArray(o)||o&&"object"===typeof o&&"number"===typeof o.length?i+=t.apply(null,o):i+="object"===typeof o?a.stringify(o):o,i+=" "}return i},_=null,b=!0,w=function(t,e){a.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(v.logLevel=u.LogLevel.VERBOSE,_=v.log.bind(v),e&&p.set("logging_enabled",!0)):"function"===typeof t?_=t:(_=null,p.remove("logging_enabled"))},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===_&&!0===p.get("logging_enabled")&&w(!0)),_){var n=m.apply(null,t);_(n)}},k=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];E.apply(void 0,s.__spread([t],e))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,s.__spread(t));v.error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,s.__spread(t));throw v.error(n),new Error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+m.apply(void 0,s.__spread(t));v.warn(n)},S=function(t){return"number"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},x="[MIN_NAME]",O="[MAX_NAME]",A=function(t,e){if(t===e)return 0;if(t===x||e===O)return-1;if(e===x||t===O)return 1;var n=F(t),i=F(e);return null!==n?null!==i?n-i===0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1},D=function(t,e){return t===e?0:t<e?-1:1},M=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+a.stringify(e))},P=function t(e){if("object"!==typeof e||null===e)return a.stringify(e);var n=[];for(var i in e)n.push(i);n.sort();for(var r="{",o=0;o<n.length;o++)0!==o&&(r+=","),r+=a.stringify(n[o]),r+=":",r+=t(e[n[o]]);return r+="}"},L=function(t,e){var n=t.length;if(n<=e)return[t];for(var i=[],r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function N(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var R=function(t){a.assert(!S(t),"Invalid JSON number");var e,n,i,r,o;0===t?(n=0,i=0,e=1/t===-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),l="";for(o=0;o<64;o+=8){var c=parseInt(u.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()},B=new RegExp("^-?(0*)\\d{1,10}$"),F=function(t){if(B.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},j=function(t){try{t()}catch(e){setTimeout((function(){var t=e.stack||"";throw I("Exception was thrown by user callback.",t),e}),Math.floor(0))}},U=function(t,e){var n=setTimeout(t,e);return"object"===typeof n&&n.unref&&n.unref(),n},V=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],i=this.pieceNum_;i<this.pieces_.length;i++)n.push(this.pieces_[i]);if(e instanceof t)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var i=e.getFront(),r=n.getFront();if(null===i)return n;if(i===r)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),i=e.slice(),r=0;r<n.length&&r<i.length;r++){var o=A(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),$=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=a.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=a.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),W=function(){function t(t,e,n,i,r,o){void 0===r&&(r=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=i,this.persistenceKey=r,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(a.assert("string"===typeof t,"typeof type must == string"),a.assert("object"===typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var i=[];return N(e,(function(t,e){i.push(t+"="+e)})),n+i.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();var H,q,z=function(t){var e=K(t),n=e.namespace;"firebase.com"===e.domain&&T(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===e.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new W(e.host,e.secure,n,i,"",n!==e.subdomain),path:new V(e.pathString)}},K=function(t){var e="",n="",i="",r="",o="",a=!0,u="https",l=443;if("string"===typeof t){var c=t.indexOf("//");c>=0&&(u=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(r=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}e+="/"+r}return e}(t.substring(h,d)));var f=function(t){var e,n,i={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var r=s.__values(t.split("&")),o=r.next();!o.done;o=r.next()){var a=o.value;if(0!==a.length){var u=a.split("=");2===u.length?i[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):I("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}(t.substring(Math.min(t.length,d)));(c=e.indexOf(":"))>=0?(a="https"===u||"wss"===u,l=parseInt(e.substring(c+1),10)):c=e.length;var p=e.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=e.indexOf(".");i=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=i}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:a,scheme:u,pathString:r,namespace:o}},Q=/[\[\].#$\/\u0000-\u001F\u007F]/,G=/[\[\].#$\u0000-\u001F\u007F]/,X=function(t){return"string"===typeof t&&0!==t.length&&!Q.test(t)},Y=function(t){return"string"===typeof t&&0!==t.length&&!G.test(t)},J=function(t){return null===t||"string"===typeof t||"number"===typeof t&&!S(t)||t&&"object"===typeof t&&a.contains(t,".sv")},Z=function(t,e,n,i,r){r&&void 0===n||tt(a.errorPrefix(t,e,r),n,i)},tt=function t(e,n,i){var r=i instanceof V?new $(i,e):i;if(void 0===n)throw new Error(e+"contains undefined "+r.toErrorString());if("function"===typeof n)throw new Error(e+"contains a function "+r.toErrorString()+" with contents = "+n.toString());if(S(n))throw new Error(e+"contains "+n.toString()+" "+r.toErrorString());if("string"===typeof n&&n.length>10485760/3&&a.stringLength(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var o=!1,s=!1;if(N(n,(function(n,i){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!X(n)))throw new Error(e+" contains an invalid key ("+n+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(n),t(e,i,r),r.pop()})),o&&s)throw new Error(e+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},et=function(t,e,n,i,r){if(!r||void 0!==n){var o=a.errorPrefix(t,e,r);if(!n||"object"!==typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];N(n,(function(t,e){var n=new V(t);if(tt(o,e,i.child(n)),".priority"===n.getBack()&&!J(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,i;for(n=0;n<e.length;n++)for(var r=(i=e[n]).slice(),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!X(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(V.comparePaths);var s=null;for(n=0;n<e.length;n++){if(i=e[n],null!==s&&s.contains(i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}}(o,s)}},nt=function(t,e,n,i){if(!i||void 0!==n){if(S(n))throw new Error(a.errorPrefix(t,e,i)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!J(n))throw new Error(a.errorPrefix(t,e,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},it=function(t,e,n,i){if(!i||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(t,e,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},rt=function(t,e,n,i){if((!i||void 0!==n)&&!X(n))throw new Error(a.errorPrefix(t,e,i)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ot=function(t,e,n,i){if((!i||void 0!==n)&&!Y(n))throw new Error(a.errorPrefix(t,e,i)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},st=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ot(t,e,n,i)},at=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},ut=function(t,e,n){var i=n.path.toString();if("string"!==typeof n.repoInfo.host||0===n.repoInfo.host.length||!X(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==i.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Y(t)}(i))throw new Error(a.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},lt=function(t,e,n,i){if((!i||void 0!==n)&&"boolean"!==typeof n)throw new Error(a.errorPrefix(t,e,i)+"must be a boolean.")},ct=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),a.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length),at("OnDisconnect.remove",this.path_),a.validateCallback("OnDisconnect.remove",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){a.validateArgCount("OnDisconnect.set",1,2,arguments.length),at("OnDisconnect.set",this.path_),Z("OnDisconnect.set",1,t,this.path_,!1),a.validateCallback("OnDisconnect.set",2,e,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),at("OnDisconnect.setWithPriority",this.path_),Z("OnDisconnect.setWithPriority",1,t,this.path_,!1),nt("OnDisconnect.setWithPriority",2,e,!1),a.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var i=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,i.wrapCallback(n)),i.promise},t.prototype.update=function(t,e){if(a.validateArgCount("OnDisconnect.update",1,2,arguments.length),at("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}et("OnDisconnect.update",1,t,this.path_,!1),a.validateCallback("OnDisconnect.update",2,e,!0);var r=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,r.wrapCallback(e)),r.promise},t}(),ht=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),dt=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(i){var r,o=i===e;e=i;var s=new Array(8);for(r=7;r>=0;r--)s[r]=t.charAt(i%64),i=Math.floor(i/64);a.assert(0===i,"Cannot push at time == 0");var u=s.join("");if(o){for(r=11;r>=0&&63===n[r];r--)n[r]=0;n[r]++}else for(r=0;r<12;r++)n[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)u+=t.charAt(n[r]);return a.assert(20===u.length,"nextPushId: Length should be 20."),u}}(),ft=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),pt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new ft(x,t),i=new ft(x,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return ft.MIN},t}(),vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return H},set:function(t){H=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return A(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return ft.MIN},e.prototype.maxPost=function(){return new ft(O,H)},e.prototype.makePost=function(t,e){return a.assert("string"===typeof t,"KeyIndex indexValue must always be a string."),new ft(t,H)},e.prototype.toString=function(){return".key"},e}(pt),gt=new vt;var yt,mt,_t,bt=function(t){return"number"===typeof t?"number:"+R(t):"string:"+t},wt=function(t){if(t.isLeafNode()){var e=t.val();a.assert("string"===typeof e||"number"===typeof e||"object"===typeof e&&a.contains(e,".sv"),"Priority must be a string or number.")}else a.assert(t===q||t.isEmpty(),"priority of unexpected type.");a.assert(t===q||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Et=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,a.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),wt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return yt},set:function(t){yt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var i=e.getFront();return null===i?n:n.isEmpty()&&".priority"!==i?this:(a.assert(".priority"!==i||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+bt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?R(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(a.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,i=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(i);return a.assert(r>=0,"Unknown leaf type: "+n),a.assert(o>=0,"Unknown leaf type: "+i),r===o?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var kt,Ct,Tt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?A(t.name,e.name):r},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return ft.MIN},e.prototype.maxPost=function(){return new ft(O,new Et("[PRIORITY-POST]",_t))},e.prototype.makePost=function(t,e){var n=mt(t);return new ft(e,new Et("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(pt)),It=function(){function t(t,e,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),St=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:Ot.EMPTY_NODE,this.right=null!=o?o:Ot.EMPTY_NODE}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ot.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,i;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ot.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),xt=function(){function t(){}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new St(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ot=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,St.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,St.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,i=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new It(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new It(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new It(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new It(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new xt,t}(),At=Math.log(2),Dt=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/At,10)),this.current_=this.count-1;var n,i=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&i}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Mt=function(t,e,n,i){t.sort(e);var r=function(e){for(var i=null,r=null,o=t.length,s=function(e,i){var r=o-e,s=o;o-=e;var u=function e(i,r){var o,s,a=r-i;if(0===a)return null;if(1===a)return o=t[i],s=n?n(o):o,new St(s,o.node,St.BLACK,null,null);var u=parseInt(a/2,10)+i,l=e(i,u),c=e(u+1,r);return o=t[u],s=n?n(o):o,new St(s,o.node,St.BLACK,l,c)}(r+1,s),l=t[r],c=n?n(l):l;a(new St(c,l.node,i,null,u))},a=function(t){i?(i.left=t,i=t):(r=t,i=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),c=Math.pow(2,e.count-(u+1));l?s(c,St.BLACK):(s(c,St.BLACK),s(c,St.RED))}return r}(new Dt(t.length));return new Ot(i||e,r)},Pt={},Lt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return a.assert(Pt&&Tt,"ChildrenNode.ts has not been loaded"),kt=kt||new t({".priority":Pt},{".priority":Tt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=a.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ot?e:null},t.prototype.hasIndex=function(t){return a.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){a.assert(e!==gt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i,r=[],o=!1,u=n.getIterator(ft.Wrap),l=u.getNext();l;)o=o||e.isDefinedOn(l.node),r.push(l),l=u.getNext();i=o?Mt(r,e.getCompare()):Pt;var c=e.toString(),h=s.__assign({},this.indexSet_);h[c]=e;var d=s.__assign({},this.indexes_);return d[c]=i,new t(d,h)},t.prototype.addToIndexes=function(e,n){var i=this;return new t(a.map(this.indexes_,(function(t,r){var o=a.safeGet(i.indexSet_,r);if(a.assert(o,"Missing index implementation for "+r),t===Pt){if(o.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(ft.Wrap),l=u.getNext();l;)l.name!==e.name&&s.push(l),l=u.getNext();return s.push(e),Mt(s,o.getCompare())}return Pt}var c=n.get(e.name),h=t;return c&&(h=h.remove(new ft(e.name,c))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(a.map(this.indexes_,(function(t){if(t===Pt)return t;var i=n.get(e.name);return i?t.remove(new ft(e.name,i)):t})),this.indexSet_)},t}();function Nt(t,e){return A(t.name,e.name)}function Rt(t,e){return A(t,e)}var Bt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&wt(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Ct||(Ct=new t(new Ot(Rt),null,Lt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Ct},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Ct:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(a.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var i=new ft(e,n),r=void 0,o=void 0;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));var s=r.isEmpty()?Ct:this.priorityNode_;return new t(r,s,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;a.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},i=0,r=0,o=!0;if(this.forEachChild(Tt,(function(s,a){n[s]=a.val(e),i++,o&&t.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):o=!1})),!e&&o&&r<2*i){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+bt(this.getPriority().val())+":"),this.forEachChild(Tt,(function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)})),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new ft(t,e));return r?r.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new ft(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new ft(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var i=this.children_.getIteratorFrom(t.name,ft.Wrap),r=i.peek();null!=r&&e.compare(r,t)<0;)i.getNext(),r=i.peek();return i},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var i=this.children_.getReverseIteratorFrom(t.name,ft.Wrap),r=i.peek();null!=r&&e.compare(r,t)>0;)i.getNext(),r=i.peek();return i},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ft?-1:0},t.prototype.withIndex=function(e){if(e===gt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===gt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Tt),i=e.getIterator(Tt),r=n.getNext(),o=i.getNext();r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=n.getNext(),o=i.getNext()}return null===r&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===gt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ft=new(function(t){function e(){return t.call(this,new Ot(Rt),Bt.EMPTY_NODE,Lt.Default)||this}return s.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Bt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Bt));Object.defineProperties(ft,{MIN:{value:new ft(x,Bt.EMPTY_NODE)},MAX:{value:new ft(O,Ft)}}),vt.__EMPTY_NODE=Bt.EMPTY_NODE,Et.__childrenNodeConstructor=Bt,q=Ft,function(t){_t=t}(Ft);function jt(t,e){if(void 0===e&&(e=null),null===t)return Bt.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),a.assert(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t)return new Et(t,jt(e));if(t instanceof Array){var n=Bt.EMPTY_NODE;return N(t,(function(e,i){if(a.contains(t,e)&&"."!==e.substring(0,1)){var r=jt(i);!r.isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r))}})),n.updatePriority(jt(e))}var i=[],r=!1;if(N(t,(function(t,e){if("."!==t.substring(0,1)){var n=jt(e);n.isEmpty()||(r=r||!n.getPriority().isEmpty(),i.push(new ft(t,n)))}})),0===i.length)return Bt.EMPTY_NODE;var o=Mt(i,Nt,(function(t){return t.name}),Rt);if(r){var s=Mt(i,Tt.getCompare());return new Bt(o,jt(e),new Lt({".priority":s},{".priority":Tt}))}return new Bt(o,jt(e),Lt.Default)}!function(t){mt=t}(jt);var Ut,Vt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?A(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return ft.MIN},e.prototype.maxPost=function(){return ft.MAX},e.prototype.makePost=function(t,e){var n=jt(t);return new ft(e,n)},e.prototype.toString=function(){return".value"},e}(pt)),$t=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,a.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return s.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?A(t.name,e.name):r},e.prototype.makePost=function(t,e){var n=jt(t),i=Bt.EMPTY_NODE.updateChild(this.indexPath_,n);return new ft(e,i)},e.prototype.maxPost=function(){var t=Bt.EMPTY_NODE.updateChild(this.indexPath_,Ft);return new ft(O,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(pt),Wt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return a.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return a.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){a.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),ot("DataSnapshot.child",1,e,!1);var n=new V(e),i=this.ref_.child(n);return new t(this.node_.getChild(n),i,Tt)},t.prototype.hasChild=function(t){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),ot("DataSnapshot.hasChild",1,t,!1);var e=new V(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),a.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var i=this.node_;return!!i.forEachChild(this.index_,(function(i,r){return e(new t(r,n.ref_.child(i),Tt))}))},t.prototype.hasChildren=function(){return a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return a.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Ht=function(){function t(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())},t}(),qt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),zt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Ht("value",this,new Wt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callback_;return function(){i.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new qt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Kt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,a.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new qt(this,t,e):null},t.prototype.createEvent=function(t,e){a.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),i=e.getQueryParams().getIndex();return new Ht(t.type,this,new Wt(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callbacks_[t.eventType];return function(){i.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var i=Object.keys(e.callbacks_),r=Object.keys(this.callbacks_),o=i.length;if(o===r.length){if(1===o){var s=i[0],a=r[0];return a===s&&(!e.callbacks_[s]||!this.callbacks_[a]||e.callbacks_[s]===this.callbacks_[a])}return r.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Qt=function(){function t(t,e,n,i){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=i}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(Ut,"Reference.ts has not been loaded"),Ut},set:function(t){Ut=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===gt){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==x)throw new Error(i);if("string"!==typeof e)throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==O)throw new Error(i);if("string"!==typeof n)throw new Error(r)}}else if(t.getIndex()===Tt){if(null!=e&&!J(e)||null!=n&&!J(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(a.assert(t.getIndex()instanceof $t||t.getIndex()===Vt,"unknown index type."),null!=e&&"object"===typeof e||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return a.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,i,r){a.validateArgCount("Query.on",2,4,arguments.length),it("Query.on",1,e,!1),a.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",i,r);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var i=new zt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,i)},t.prototype.onChildEvent=function(t,e,n){var i=new Kt(t,e,n);this.repo.addEventCallbackForQuery(this,i)},t.prototype.off=function(t,e,n){a.validateArgCount("Query.off",0,3,arguments.length),it("Query.off",1,t,!0),a.validateCallback("Query.off",2,e,!0),a.validateContextObject("Query.off",3,n,!0);var i=null,r=null;if("value"===t){var o=e||null;i=new zt(o,null,n||null)}else t&&(e&&((r={})[t]=e),i=new Kt(r,null,n||null));this.repo.removeEventCallbackForQuery(this,i)},t.prototype.once=function(e,n,i,r){var o=this;a.validateArgCount("Query.once",1,4,arguments.length),it("Query.once",1,e,!1),a.validateCallback("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",i,r),u=!0,l=new a.Deferred;l.promise.catch((function(){}));var c=function t(i){u&&(u=!1,o.off(e,t),n&&n.bind(s.context)(i),l.resolve(i))};return this.on(e,c,(function(t){o.off(e,c),s.cancel&&s.cancel.bind(s.context)(t),l.reject(t)})),l.promise},t.prototype.limitToFirst=function(e){if(a.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(a.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(a.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ot("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new V(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var i=new $t(n),r=this.queryParams_.orderBy(i);return t.validateQueryEndpoints_(r),new t(this.repo,this.path,r,!0)},t.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(gt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Tt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Vt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.startAt",0,2,arguments.length),Z("Query.startAt",1,e,this.path,!0),rt("Query.startAt",2,n,!0);var i=this.queryParams_.startAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.endAt",0,2,arguments.length),Z("Query.endAt",1,e,this.path,!0),rt("Query.endAt",2,n,!0);var i=this.queryParams_.endAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(a.validateArgCount("Query.equalTo",1,2,arguments.length),Z("Query.equalTo",1,t,this.path,!1),rt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return a.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return a.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=P(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(a.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var i=this.repo===e.repo,r=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return i&&r&&o},t.getCancelAndContextArgs_=function(t,e,n){var i={cancel:null,context:null};if(e&&n)i.cancel=e,a.validateCallback(t,3,i.cancel,!0),i.context=n,a.validateContextObject(t,4,i.context,!0);else if(e)if("object"===typeof e&&null!==e)i.context=e;else{if("function"!==typeof e)throw new Error(a.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Gt=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Xt=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),Yt=function(t,e,n){return t&&"object"===typeof t?(a.assert(".sv"in t,"Unexpected leaf node or priority contents"),"string"===typeof t[".sv"]?Jt(t[".sv"],e,n):"object"===typeof t[".sv"]?Zt(t[".sv"],e):void a.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Jt=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:a.assert(!1,"Unexpected server value: "+t)}},Zt=function(t,e,n){t.hasOwnProperty("increment")||a.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var i=t.increment;"number"!==typeof i&&a.assert(!1,"Unexpected increment value: "+i);var r=e.node();if(a.assert(null!==r&&"undefined"!==typeof r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;var o=r.getValue();return"number"!==typeof o?i:o+i},te=function(t,e,n,i){return ne(e,new Xt(n,t),i)},ee=function(t,e,n){return ne(t,new Gt(e),n)};function ne(t,e,n){var i,r=t.getPriority().val(),o=Yt(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=Yt(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Et(a,jt(o)):t}var u=t;return i=u,o!==u.getPriority().val()&&(i=i.updatePriority(new Et(o))),u.forEachChild(Tt,(function(t,r){var o=ne(r,e.getImmediateChild(t),n);o!==r&&(i=i.updateImmediateChild(t,o))})),i}var ie,re=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var i=e.getFront();this.children.has(i)||this.children.set(i,new t);var r=this.children.get(i);e=e.popFront(),r.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Tt,(function(t,e){n.remember(new V(t),e)})),this.forget(t)}if(this.children.size>0){var i=t.getFront();if(t=t.popFront(),this.children.has(i))this.children.get(i).forget(t)&&this.children.delete(i);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,i){var r=new V(t.toString()+"/"+n);i.forEachTree(r,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ie||(ie={}));var oe,se,ae=function(){function t(t,e,n,i){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=i,a.assert(!i||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ue=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ie.ACK_USER_WRITE,this.source=ae.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new V(e));return new t(V.Empty,n,this.revert)}return a.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),le=function(){function t(t,e){void 0===e&&(oe||(oe=new Ot(D)),e=oe),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return N(e,(function(t,e){n=n.set(new V(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:V.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=r?{path:new V(n).child(r.path),value:r.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),i=this.children.get(n);return null!==i?i.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var i=e.getFront(),r=(this.children.get(i)||t.Empty).set(e.popFront(),n),o=this.children.insert(i,r);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),i=this.children.get(n);if(i){var r=i.remove(e.popFront()),o=void 0;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var i=e.getFront(),r=(this.children.get(i)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=r.isEmpty()?this.children.remove(i):this.children.insert(i,r),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(V.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(i,r){n[i]=r.fold_(t.child(i),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,V.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var i=!!this.value&&n(e,this.value);if(i)return i;if(t.isEmpty())return null;var r=t.getFront(),o=this.children.get(r);return o?o.findOnPath_(t.popFront(),e.child(r),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,V.Empty,e)},t.prototype.foreachOnPath_=function(e,n,i){if(e.isEmpty())return this;this.value&&i(n,this.value);var r=e.getFront(),o=this.children.get(r);return o?o.foreachOnPath_(e.popFront(),n.child(r),i):t.Empty},t.prototype.foreach=function(t){this.foreach_(V.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,i){i.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),ce=function(){function t(t,e){this.source=t,this.path=e,this.type=ie.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty):new t(this.source,this.path.popFront())},t}(),he=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ie.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),de=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ie.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new V(e));return n.isEmpty()?null:n.value?new he(this.source,V.Empty,n.value):new t(this.source,V.Empty,n)}return a.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),fe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),pe=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,i){return new t(new fe(e,n,i),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,i){return new t(this.eventCache_,new fe(e,n,i))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new fe(Bt.EMPTY_NODE,!1,!1),new fe(Bt.EMPTY_NODE,!1,!1)),t}(),ve=function(){function t(t,e,n,i,r){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=i,this.prevName=r}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,i){return new t(t.CHILD_CHANGED,n,e,i)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ge=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,r,o){a.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(i).equals(n.getChild(i))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(ve.childRemovedChange(e,s)):a.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(ve.childAddedChange(e,n)):o.trackChildChange(ve.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Tt,(function(t,i){e.hasChild(t)||n.trackChildChange(ve.childRemovedChange(t,i))})),e.isLeafNode()||e.forEachChild(Tt,(function(e,i){if(t.hasChild(e)){var r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(ve.childChangedChange(e,i,r))}else n.trackChildChange(ve.childAddedChange(e,i))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Bt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ye=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;a.assert(e===ve.CHILD_ADDED||e===ve.CHILD_CHANGED||e===ve.CHILD_REMOVED,"Only child changes supported for tracking"),a.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var i=this.changeMap.get(n);if(i){var r=i.type;if(e===ve.CHILD_ADDED&&r===ve.CHILD_REMOVED)this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,i.snapshotNode));else if(e===ve.CHILD_REMOVED&&r===ve.CHILD_ADDED)this.changeMap.delete(n);else if(e===ve.CHILD_REMOVED&&r===ve.CHILD_CHANGED)this.changeMap.set(n,ve.childRemovedChange(n,i.oldSnap));else if(e===ve.CHILD_CHANGED&&r===ve.CHILD_ADDED)this.changeMap.set(n,ve.childAddedChange(n,t.snapshotNode));else{if(e!==ve.CHILD_CHANGED||r!==ve.CHILD_CHANGED)throw a.assertionError("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),me=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),_e=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new fe(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),r=this.writes_.calcIndexedSlice(i,e,1,n,t);return 0===r.length?null:r[0]},t}(),be=function(t,e){this.viewCache=t,this.changes=e},we=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){a.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),a.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,i,r){var o,s,u=new ye;if(n.type===ie.OVERWRITE){var l=n;l.source.fromUser?o=this.applyUserOverwrite_(e,l.path,l.snap,i,r,u):(a.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),o=this.applyServerOverwrite_(e,l.path,l.snap,i,r,s,u))}else if(n.type===ie.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,i,r,u):(a.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,i,r,s,u))}else if(n.type===ie.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,i,r,u):this.ackUserWrite_(e,h.path,h.affectedTree,i,r,u)}else{if(n.type!==ie.LISTEN_COMPLETE)throw a.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,i,u)}var d=u.getChanges();return t.maybeAddValueEvent_(e,o,d),new be(o,d)},t.maybeAddValueEvent_=function(t,e,n){var i=e.getEventCache();if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(ve.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,i,r){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,u=void 0;if(e.isEmpty())if(a.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),c=l instanceof Bt?l:Bt.EMPTY_NODE,h=n.calcCompleteEventChildren(c);s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,r)}else{var d=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),d,r)}else{var f=e.getFront();if(".priority"===f){a.assert(1===e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();u=t.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(e,p,u);s=null!=v?this.filter_.updatePriority(p,v):o.getNode()}else{var g=e.popFront(),y=void 0;if(o.isCompleteForChild(f)){u=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),u);y=null!=m?o.getNode().getImmediateChild(f).updateChild(g,m):o.getNode().getImmediateChild(f)}else y=n.calcCompleteChild(f,t.getServerCache());s=null!=y?this.filter_.updateChild(o.getNode(),f,y,g,i,r):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,i,r,o,s){var a,u=t.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=l.updateFullNode(u.getNode(),n,null);else if(l.filtersNodes()&&!u.isFiltered()){var c=u.getNode().updateChild(e,n);a=l.updateFullNode(u.getNode(),c,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),f=u.getNode().getImmediateChild(h).updateChild(d,n);a=".priority"===h?l.updatePriority(u.getNode(),f):l.updateChild(u.getNode(),h,f,d,me,null)}var p=t.updateServerSnap(a,u.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),v=new _e(i,p,r);return this.generateEventCacheAfterServerEvent_(p,e,i,v,s)},t.prototype.applyUserOverwrite_=function(t,e,n,i,r,o){var s,a,u=t.getEventCache(),l=new _e(i,t,r);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),d=u.getNode().getImmediateChild(c),f=void 0;if(h.isEmpty())f=n;else{var p=l.getCompleteChild(c);f=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):Bt.EMPTY_NODE}if(d.equals(f))s=t;else{var v=this.filter_.updateChild(u.getNode(),c,f,h,l,o);s=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,i,r,o,s){var a=this,u=e;return i.foreach((function(i,l){var c=n.child(i);t.cacheHasChild_(e,c.getFront())&&(u=a.applyUserOverwrite_(u,c,l,r,o,s))})),i.foreach((function(i,l){var c=n.child(i);t.cacheHasChild_(e,c.getFront())||(u=a.applyUserOverwrite_(u,c,l,r,o,s))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,i,r,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,l=t;u=e.isEmpty()?n:le.Empty.setTree(e,n);var c=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(c.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(u,n);l=a.applyServerOverwrite_(l,new V(e),h,i,r,o,s)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),d=a.applyMerge_(h,n);l=a.applyServerOverwrite_(l,new V(e),d,i,r,o,s)}})),l},t.prototype.ackUserWrite_=function(t,e,n,i,r,o){if(null!=i.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),i,r,s,o);if(e.isEmpty()){var u=le.Empty;return a.getNode().forEachChild(gt,(function(t,e){u=u.set(new V(t),e)})),this.applyServerMerge_(t,e,u,i,r,s,o)}return t}var l=le.Empty;return n.foreach((function(t,n){var i=e.child(t);a.isCompleteForPath(i)&&(l=l.set(t,a.getNode().getChild(i)))})),this.applyServerMerge_(t,e,l,i,r,s,o)},t.prototype.listenComplete_=function(t,e,n,i){var r=t.getServerCache(),o=t.updateServerSnap(r.getNode(),r.isFullyInitialized()||e.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,me,i)},t.prototype.revertUserWrite_=function(t,e,n,i,r){var o;if(null!=n.shadowingWrite(e))return t;var s=new _e(n,t,i),u=t.getEventCache().getNode(),l=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();a.assert(h instanceof Bt,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}c=c,l=this.filter_.updateFullNode(u,c,r)}else{var d=e.getFront(),f=n.calcCompleteChild(d,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(d)&&(f=u.getImmediateChild(d)),(l=null!=f?this.filter_.updateChild(u,d,f,e.popFront(),s,r):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(u,d,Bt.EMPTY_NODE,e.popFront(),s,r):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,o,r))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(V.Empty),t.updateEventSnap(l,o,this.filter_.filtersNodes())},t}(),Ee=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var i=this,r=[],o=[];return t.forEach((function(t){t.type===ve.CHILD_CHANGED&&i.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(ve.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(r,ve.CHILD_REMOVED,t,n,e),this.generateEventsForType_(r,ve.CHILD_ADDED,t,n,e),this.generateEventsForType_(r,ve.CHILD_MOVED,o,n,e),this.generateEventsForType_(r,ve.CHILD_CHANGED,t,n,e),this.generateEventsForType_(r,ve.VALUE,t,n,e),r},t.prototype.generateEventsForType_=function(t,e,n,i,r){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,r);i.forEach((function(i){i.respondsTo(e.type)&&t.push(i.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw a.assertionError("Should only compare child_ events.");var n=new ft(t.childName,t.snapshotNode),i=new ft(e.childName,e.snapshotNode);return this.index_.compare(n,i)},t}(),ke=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),i=new ge(n.getIndex()),r=n.getNodeFilter();this.processor_=new we(r);var o=e.getServerCache(),s=e.getEventCache(),a=i.updateFullNode(Bt.EMPTY_NODE,o.getNode(),null),u=r.updateFullNode(Bt.EMPTY_NODE,s.getNode(),null),l=new fe(a,o.isFullyInitialized(),i.filtersNodes()),c=new fe(u,s.isFullyInitialized(),r.filtersNodes());this.viewCache_=new pe(c,l),this.eventGenerator_=new Ee(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){a.assert(null==t,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var r=t.createCancelEvent(e,i);r&&n.push(r)}))}if(t){for(var r=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){r=r.concat(this.eventRegistrations_.slice(o+1));break}}else r.push(s)}this.eventRegistrations_=r}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ie.MERGE&&null!==t.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,r=this.processor_.applyOperation(i,t,e,n);return this.processor_.assertIndexed(r.viewCache),a.assert(r.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=r.viewCache,this.generateEventsForChanges_(r.changes,r.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Tt,(function(t,e){n.push(ve.childAddedChange(t,e))}));return e.isFullyInitialized()&&n.push(ve.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var i=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,i)},t}(),Ce=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(se,"Reference.ts has not been loaded"),se},set:function(t){a.assert(!se,"__referenceConstructor has already been defined"),se=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var i,r,o=t.source.queryId;if(null!==o){var u=this.views.get(o);return a.assert(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var l=[];try{for(var c=s.__values(this.views.values()),h=c.next();!h.done;h=c.next()){u=h.value;l=l.concat(u.applyOperation(t,e,n))}}catch(d){i={error:d}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}return l},t.prototype.addEventRegistration=function(t,e,n,i,r){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(r?i:null),u=!1;a?u=!0:i instanceof Bt?(a=n.calcCompleteEventChildren(i),u=!1):(a=Bt.EMPTY_NODE,u=!1);var l=new pe(new fe(a,u,!1),new fe(i,r,!1));s=new ke(t,l),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,i){var r,o,a=e.queryIdentifier(),u=[],l=[],c=this.hasCompleteView();if("default"===a)try{for(var h=s.__values(this.views.entries()),d=h.next();!d.done;d=h.next()){var f=s.__read(d.value,2),p=f[0],v=f[1];l=l.concat(v.removeEventRegistration(n,i)),v.isEmpty()&&(this.views.delete(p),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery()))}}catch(g){r={error:g}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}else(v=this.views.get(a))&&(l=l.concat(v.removeEventRegistration(n,i)),v.isEmpty()&&(this.views.delete(a),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery())));return c&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:l}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var i=s.__values(this.views.values()),r=i.next();!r.done;r=i.next()){var o=r.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,i=null;try{for(var r=s.__values(this.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;i=i||a.getCompleteServerCache(t)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=s.__values(this.views.values()),i=n.next();!i.done;i=n.next()){var r=i.value;if(r.getQuery().getQueryParams().loadsAllData())return r}}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Te=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new le(n));var i=this.writeTree_.findRootMostValueAndPath(e);if(null!=i){var r=i.path,o=i.value,s=V.relativePath(r,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(r,o))}var a=new le(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return N(e,(function(e,i){n=n.addWrite(t.child(e),i)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,le.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(V.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Tt,(function(e,n){t.push(new ft(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new ft(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new le(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,i){if(null!=n.value)return i.updateChild(e,n.value);var r=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(a.assert(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):i=t(e.child(n),o,i)})),i.getChild(e).isEmpty()||null===r||(i=i.updateChild(e.child(".priority"),r)),i}(V.Empty,this.writeTree_,t)},t.Empty=new t(new le(null)),t}();var Ie=function(){function t(){this.visibleWrites_=Te.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Se(t,this)},t.prototype.addOverwrite=function(t,e,n,i){a.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:i}),i&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){a.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));a.assert(n>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[n];this.allWrites_.splice(n,1);for(var r=i.visible,o=!1,s=this.allWrites_.length-1;r&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,i.path)?r=!1:i.path.contains(u.path)&&(o=!0)),s--}if(r){if(o)return this.resetTree_(),!0;i.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(i.path):N(i.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(i.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,i,r){if(i||r){var o=this.visibleWrites_.childCompoundWrite(e);if(!r&&o.isEmpty())return n;if(r||null!=n||o.hasCompleteWrite(V.Empty)){var s=t.layerTree_(this.allWrites_,(function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);l=n||Bt.EMPTY_NODE;return s.apply(l)}return null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var u=this.visibleWrites_.childCompoundWrite(e);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(V.Empty)){var l=n||Bt.EMPTY_NODE;return u.apply(l)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Bt.EMPTY_NODE,i=this.visibleWrites_.getCompleteNode(t);if(i)return i.isLeafNode()||i.forEachChild(Tt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var r=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Tt,(function(t,e){var i=r.childCompoundWrite(new V(t)).apply(e);n=n.updateImmediateChild(t,i)})),r.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,i){a.assert(n||i,"Either existingEventSnap or existingServerSnap must exist");var r=t.child(e);if(this.visibleWrites_.hasCompleteWrite(r))return null;var o=this.visibleWrites_.childCompoundWrite(r);return o.isEmpty()?i.getChild(e):o.apply(i.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var i=t.child(e),r=this.visibleWrites_.getCompleteNode(i);return null!=r?r:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(i).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,i,r,o){var s,a=this.visibleWrites_.childCompoundWrite(t),u=a.getCompleteNode(V.Empty);if(null!=u)s=u;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],c=o.getCompare(),h=r?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),d=h.getNext();d&&l.length<i;)0!==c(d,n)&&l.push(d),d=h.getNext();return l},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,V.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var i=Te.Empty,r=0;r<t.length;++r){var o=t[r];if(e(o)){var s=o.path,u=void 0;if(o.snap)n.contains(s)?(u=V.relativePath(n,s),i=i.addWrite(u,o.snap)):s.contains(n)&&(u=V.relativePath(s,n),i=i.addWrite(V.Empty,o.snap.getChild(u)));else{if(!o.children)throw a.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))u=V.relativePath(n,s),i=i.addWrites(u,o.children);else if(s.contains(n))if((u=V.relativePath(s,n)).isEmpty())i=i.addWrites(V.Empty,o.children);else{var l=a.safeGet(o.children,u.getFront());if(l){var c=l.getChild(u.popFront());i=i.addWrite(V.Empty,c)}}}}}return i},t}(),Se=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,i,r){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,i,r)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),xe=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=le.Empty,this.pendingWriteTree_=new Ie,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,i){return this.pendingWriteTree_.addOverwrite(t,e,n,i),i?this.applyOperationToSyncPoints_(new he(ae.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var i=le.fromObject(e);return this.applyOperationToSyncPoints_(new de(ae.User,t,i))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var i=le.Empty;return null!=n.snap?i=i.set(V.Empty,!0):N(n.children,(function(t,e){i=i.set(new V(t),e)})),this.applyOperationToSyncPoints_(new ue(n.path,i,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new he(ae.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=le.fromObject(e);return this.applyOperationToSyncPoints_(new de(ae.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ce(ae.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,i){var r=this.queryKeyForTag_(i);if(null!=r){var o=t.parseQueryKey_(r),s=o.path,a=o.queryId,u=V.relativePath(s,e),l=new he(ae.forServerTaggedQuery(a),u,n);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,i){var r=this.queryKeyForTag_(i);if(r){var o=t.parseQueryKey_(r),s=o.path,a=o.queryId,u=V.relativePath(s,e),l=le.fromObject(n),c=new de(ae.forServerTaggedQuery(a),u,l);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var i=this.queryKeyForTag_(n);if(i){var r=t.parseQueryKey_(i),o=r.path,s=r.queryId,a=V.relativePath(o,e),u=new ce(ae.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var i=e.path,r=null,o=!1;this.syncPointTree_.foreachOnPath(i,(function(t,e){var n=V.relativePath(t,i);r=r||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var s,u=this.syncPointTree_.get(i);(u?(o=o||u.hasCompleteView(),r=r||u.getCompleteServerCache(V.Empty)):(u=new Ce,this.syncPointTree_=this.syncPointTree_.set(i,u)),null!=r)?s=!0:(s=!1,r=Bt.EMPTY_NODE,this.syncPointTree_.subtree(i).foreachChild((function(t,e){var n=e.getCompleteServerCache(V.Empty);n&&(r=r.updateImmediateChild(t,n))})));var l=u.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);a.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var d=this.pendingWriteTree_.childWrites(i),f=u.addEventRegistration(e,n,d,r,s);if(!l&&!o){var p=u.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,i){var r=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var u=s.removeEventRegistration(e,n,i);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=u.removed;a=u.events;var c=-1!==l.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(c&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(d),p=0;p<f.length;++p){var v=f[p],g=v.getQuery(),y=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}if(!h&&l.length>0&&!i)if(c){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else l.forEach((function(e){var n=r.queryToTagMap.get(t.makeQueryKey_(e));r.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(l)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,i=this.syncPointTree_.findOnPath(t,(function(e,n){var i=V.relativePath(e,t),r=n.getCompleteServerCache(i);if(r)return r}));return n.calcCompleteEventCache(t,i,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var i=[];return e&&(i=e.getQueryViews()),N(n,(function(t,e){i=i.concat(e)})),i}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var i=e[n];if(!i.getQueryParams().loadsAllData()){var r=t.makeQueryKey_(i),o=this.queryToTagMap.get(r);this.queryToTagMap.delete(r),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var i=e.path,r=this.tagForQuery_(e),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),r,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(i);if(r)a.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var i=[];return e&&(i=i.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),N(n,(function(t,e){i=i.concat(e)})),i})),c=0;c<l.length;++c){var h=l[c];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),i=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Bt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return i?e.applyTaggedListenComplete(n.path,i):e.applyListenComplete(n.path);var r=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var i=new Error(t+" at "+e.path.toString()+": "+n);return i.code=t.toUpperCase(),i}(t,n);return e.removeEventRegistration(n,null,r)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return a.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new V(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);a.assert(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,i,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(V.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,i){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,i);var r=e.get(V.Empty);null==n&&null!=r&&(n=r.getCompleteServerCache(V.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var l=n?n.getImmediateChild(s):null,c=i.child(s);o=o.concat(this.applyOperationHelper_(a,u,l,c))}return r&&(o=o.concat(r.applyOperation(t,i,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,i){var r=this,o=e.get(V.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(V.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,u=i.child(e),l=t.operationForChild(e);l&&(s=s.concat(r.applyOperationDescendantsHelper_(l,o,a,u)))})),o&&(s=s.concat(o.applyOperation(t,i,n))),s},t.nextQueryTag_=1,t}(),Oe=function(){function t(){this.rootNode_=Bt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ae=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',I(t)},t}(),De=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),a.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return a.deepCopy(this.counters_)},t}(),Me=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new De),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Pe=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=s.__assign({},t);return this.last_&&N(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Le=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Pe(t);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;N(e,(function(e,r){r>0&&a.contains(t.statsToReport_,e)&&(n[e]=r,i=!0)})),i&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ne=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var i=t[n],r=i.getPath();null===e||r.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Re(r)),e.add(i)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var i=this.eventLists_[n];if(i)t(i.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Re=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();_&&E("event: "+e.toString()),j(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Be=function(){function t(t){this.allowedEvents_=t,this.listeners_={},a.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var i=s.__spread(this.listeners_[t]),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var i=this.getInitialEvent(t);i&&e.apply(n,i)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var i=this.listeners_[t]||[],r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)},t.prototype.validateEventType_=function(t){a.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Fe=function(t){function e(){var e,n,i=t.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==i.visible_&&(i.visible_=t,i.trigger("visible",t))}),!1),i}return s.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Be),je=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return s.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Be),Ue=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=function(e){t[e]&&j((function(){n.onMessage_(t[e])}))},i=0;i<t.length;++i)e(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum];){if("break"===i())break}},t}(),Ve=function(){function t(t,e,n,i,r){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=i,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=k(t),this.stats_=Me.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ue(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(a.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new $e((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=s.__read(t,5),r=i[0],o=i[1],a=i[2];i[3],i[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===r)n.id=o,n.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=s.__read(t,2),r=i[0],o=i[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!a.isNodeSdk()&&(!!t.forceAllow_||!t.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=a.base64Encode(e),i=L(n,1840),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=a.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),$e=function(){function t(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){E("frame writing exception"),u.stack&&E(u.stack),E(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||E("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var i=function(){n.outstandingRequests.delete(e),n.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(r),i()}))},t.prototype.addTag=function(t,e){var n=this;a.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){E("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(r){}}),Math.floor(1))},t}(),We="";var He=null;"undefined"!==typeof MozWebSocket?He=MozWebSocket:"undefined"!==typeof WebSocket&&(He=WebSocket);var qe=function(){function t(e,n,i,r,o){this.connId=e,this.applicationId=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=k(this.connId),this.stats_=Me.getCollection(n),this.connURL=t.connectionURL_(n,r,o)}return t.connectionURL_=function(t,e,n){var i={v:"5"};return!a.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),t.connectionURL("websocket",i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(a.isNodeSdk()){var r=a.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+We+"/"+i.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}},s=Object({NODE_ENV:"production",PUBLIC_URL:"/react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}),u=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;u&&(o.proxy={origin:u}),this.mySock=new He(this.connURL,[],o)}else{o={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new He(this.connURL,[],o)}}catch(c){this.log_("Error instantiating WebSocket.");var l=c.message||c.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==He&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=a.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(a.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=L(e,16384);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),ze=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Ve,qe]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,i,r=qe&&qe.isAvailable(),o=r&&!qe.previouslyFailed();if(e.webSocketOnly&&(r||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[qe];else{var a=this.transports_=[];try{for(var u=s.__values(t.ALL_TRANSPORTS),l=u.next();!l.done;l=u.next()){var c=l.value;c&&c.isAvailable()&&a.push(c)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ke=function(){function t(t,e,n,i,r,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=i,this.onReady_=r,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=k("c:"+this.id+":"),this.transportManager_=new ze(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,i)}),Math.floor(0));var r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=U((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(r)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=M("t",t),n=M("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=M("t",t),n=M("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=M("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?C("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(i),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),U((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Qe=function(){function t(){}return t.prototype.put=function(t,e,n,i){},t.prototype.merge=function(t,e,n,i){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Ge=function(t){function e(n,i,r,o,s,u,l){var c=t.call(this)||this;if(c.repoInfo_=n,c.applicationId_=i,c.onDataUpdate_=r,c.onConnectStatus_=o,c.onServerInfoUpdate_=s,c.authTokenProvider_=u,c.authOverride_=l,c.id=e.nextPersistentConnectionId_++,c.log_=k("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!a.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),Fe.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&je.getInstance().on("online",c.onOnline_,c),c}return s.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_(a.stringify(r)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},e.prototype.listen=function(t,e,n,i){var r=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");var s={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(o).set(r,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,i=t.query,r=i.path.toString(),o=i.queryIdentifier();this.log_("Listen on "+r+" for "+o);var s={p:r};t.tag&&(s.q=i.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,i),(n.listens.get(r)&&n.listens.get(r).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(r,o),t.onComplete&&t.onComplete(u,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"===typeof t&&a.contains(t,"w")){var n=a.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',r=e.path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+r+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||a.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=a.isValidFormat(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"===typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,(function(n){var i=n.s,r=n.d||"error";t.authToken_===e&&("ok"===i?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(i,r))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),i=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+i),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);var r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,i){var r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,(function(t){i&&setTimeout((function(){i(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,i){this.putInternal("p",t,e,n,i)},e.prototype.merge=function(t,e,n,i){this.putInternal("m",t,e,n,i)},e.prototype.putInternal=function(t,e,n,i,r){var o={p:e,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,(function(i){e.log_(n+" response",i),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),r&&r(i.s,i.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+a.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+a.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+e.nextConnectionId_++,o=this,s=this.lastSessionId,u=!1,l=null,c=function(){l?l.close():(u=!0,i())};this.realtime_={close:c,sendRequest:function(t){a.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(e){u?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,l=new Ke(r,o.repoInfo_,o.applicationId_,t,n,i,(function(t){I(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),s))})).then(null,(function(t){o.log_("Failed to get token: "+t),u||(a.CONSTANTS.NODE_ADMIN&&I(t),c())}))}},e.prototype.interrupt=function(t){E("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){E("Resuming connection for reason: "+t),delete this.interruptReasons_[t],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return P(t)})).join("$"):"default";var i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,i=new V(t).toString();if(this.listens.has(i)){var r=this.listens.get(i);n=r.get(e),r.delete(e),0===r.size&&this.listens.delete(i)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){E("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,i;this.tryAuth();try{for(var r=s.__values(this.listens.values()),o=r.next();!o.done;o=r.next()){var a=o.value;try{for(var u=(n=void 0,s.__values(a.values())),l=u.next();!l.done;l=u.next()){var c=l.value;this.sendListen_(c)}}catch(f){n={error:f}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";a.CONSTANTS.NODE_ADMIN?e="admin_node":a.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+We.replace(/\./g,"-")]=1,a.isMobileCordova()?t["framework.cordova"]=1:a.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=je.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Qe),Xe=function(t){function e(e,n,i){var r=t.call(this)||this;return r.repoInfo_=e,r.onDataUpdate_=n,r.authTokenProvider_=i,r.log_=k("p:rest:"),r.listens_={},r}return s.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(a.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,i,r){var o=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=e.getListenId_(t,i),l={};this.listens_[u]=l;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",c,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,i),a.safeGet(o.listens_,u)===l)&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var i=e.getListenId_(t,n);delete this.listens_[i]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var i=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(r){var o=r&&r.accessToken;o&&(e.auth=o);var s=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+a.querystring(e);i.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){i.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=a.jsonEval(u.responseText)}catch(e){I("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&I("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},e}(Qe),Ye=function(){function t(t,e,n,i){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ne,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new re,this.persistentConnection_=null;var o=new Ae(n,i);if(this.stats_=Me.getCollection(t),e||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Xe(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var s=n.options.databaseAuthVariableOverride;if("undefined"!==typeof s&&null!==s){if("object"!==typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{a.stringify(s)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}this.persistentConnection_=new Ge(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,s),this.server_=this.persistentConnection_}o.addTokenChangeListener((function(t){r.server_.refreshAuthToken(t)})),this.statsReporter_=Me.getOrCreateReporter(t,(function(){return new Le(r.stats_,r.server_)})),this.transactionsInit_(),this.infoData_=new Oe,this.infoSyncTree_=new xe({startListening:function(t,e,n,i){var o=[],s=r.infoData_.getNode(t.path);return s.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new xe({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,(function(e,n){var o=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new V(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,i){this.dataUpdateCount++;var r=new V(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(i)if(n){var s=a.map(e,(function(t){return jt(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(r,s,i)}else{var u=jt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(r,u,i)}else if(n){var l=a.map(e,(function(t){return jt(t)}));o=this.serverSyncTree_.applyServerMerge(r,l)}else{var c=jt(e);o=this.serverSyncTree_.applyServerOverwrite(r,c)}var h=r;o.length>0&&(h=this.rerunTransactions_(r)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;N(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new V("/.info/"+t),i=jt(e);this.infoData_.updateSnapshot(n,i);var r=this.infoSyncTree_.applyServerOverwrite(n,i);this.eventQueue_.raiseEventsForChangedPath(n,r)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,i){var r=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=jt(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),u=ee(s,a,o),l=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,u,l,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o="ok"===e;o||I("set at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(l,!o);r.eventQueue_.raiseEventsForChangedPath(t,s),r.callOnCompleteCallback(i,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var i=this;this.log_("update",{path:t.toString(),value:e});var r=!0,o=this.generateServerValues(),s={};if(N(e,(function(e,n){r=!1,s[e]=te(t.child(e),jt(n),i.serverSyncTree_,o)})),r)E("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,r){var o="ok"===e;o||I("update at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(a,!o),u=s.length>0?i.rerunTransactions_(t):t;i.eventQueue_.raiseEventsForChangedPath(u,s),i.callOnCompleteCallback(n,e,r)})),N(e,(function(e){var n=i.abortTransactions_(t.child(e));i.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new re;this.onDisconnect_.forEachTree(V.Empty,(function(i,r){var o=te(i,r,t.serverSyncTree_,e);n.remember(i,o)}));var i=[];n.forEachTree(V.Empty,(function(e,n){i=i.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var r=t.abortTransactions_(e);t.rerunTransactions_(r)})),this.onDisconnect_=new re,this.eventQueue_.raiseEventsForChangedPath(V.Empty,i)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(i,r){"ok"===i&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,i,r)}))},t.prototype.onDisconnectSet=function(t,e,n){var i=this,r=jt(e);this.server_.onDisconnectPut(t.toString(),r.val(!0),(function(e,o){"ok"===e&&i.onDisconnect_.remember(t,r),i.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,i){var r=this,o=jt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&r.onDisconnect_.remember(t,o),r.callOnCompleteCallback(i,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var i=this;if(a.isEmpty(e))return E("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(r,o){"ok"===r&&N(e,(function(e,n){var r=jt(n);i.onDisconnect_.remember(t.child(e),r)})),i.callOnCompleteCallback(n,r,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Pe(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);N(e,(function(t,e){for(var i=t,r=t.length;r<n+2;r++)i+=" ";console.log(i+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),E.apply(void 0,s.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&j((function(){if("ok"===e)t(null);else{var i=(e||"error").toUpperCase(),r=i;n&&(r+=": "+n);var o=new Error(r);o.code=i,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new un(this))},enumerable:!1,configurable:!0}),t}(),Je=function(){function t(e){this.indexedFilter_=new ge(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,i,r,o){return this.matches(new ft(e,n))||(n=Bt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Bt.EMPTY_NODE);var i=e.withIndex(this.index_);i=i.updatePriority(Bt.EMPTY_NODE);var r=this;return e.forEachChild(Tt,(function(t,e){r.matches(new ft(t,e))||(i=i.updateImmediateChild(t,Bt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Ze=function(){function t(t){this.rangedFilter_=new Je(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,i,r,o){return this.rangedFilter_.matches(new ft(e,n))||(n=Bt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,o):this.fullLimitUpdateChild_(t,e,n,r,o)},t.prototype.updateFullNode=function(t,e,n){var i;if(e.isLeafNode()||e.isEmpty())i=Bt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){i=Bt.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;r.hasNext()&&o<this.limit_;){var s=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;i=i.updateImmediateChild(s.name,s.node),o++}}else{i=(i=e.withIndex(this.index_)).updatePriority(Bt.EMPTY_NODE);var a=void 0,u=void 0,l=void 0;r=void 0;if(this.reverse_){r=i.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(t,e){return c(e,t)}}else r=i.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;r.hasNext();){s=r.getNext();!h&&l(a,s)<=0&&(h=!0),h&&o<this.limit_&&l(s,u)<=0?o++:i=i.updateImmediateChild(s.name,Bt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,i,r){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var u=t;a.assert(u.numChildren()===this.limit_,"");var l=new ft(e,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(u.hasChild(e)){for(var d=u.getImmediateChild(e),f=i.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||u.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,l);if(h&&!n.isEmpty()&&p>=0)return null!=r&&r.trackChildChange(ve.childChangedChange(e,n,d)),u.updateImmediateChild(e,n);null!=r&&r.trackChildChange(ve.childRemovedChange(e,d));var v=u.updateImmediateChild(e,Bt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=r&&r.trackChildChange(ve.childAddedChange(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}return n.isEmpty()?t:h&&o(c,l)>=0?(null!=r&&(r.trackChildChange(ve.childRemovedChange(c.name,c.node)),r.trackChildChange(ve.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(c.name,Bt.EMPTY_NODE)):t},t}(),tn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return a.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var i=this.viewFrom_;""===i&&(i=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=i}return this.index_!==Tt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Tt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ge(this.getIndex()):this.hasLimit()?new Ze(this):new Je(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,i={};return this.isDefault()||(this.index_===Tt?e=n.PRIORITY_INDEX:this.index_===Vt?e=n.VALUE_INDEX:this.index_===gt?e=n.KEY_INDEX:(a.assert(this.index_ instanceof $t,"Unrecognized index type!"),e=this.index_.toString()),i[n.ORDER_BY]=a.stringify(e),this.startSet_&&(i[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(i[n.START_AT]+=","+a.stringify(this.indexStartName_))),this.endSet_&&(i[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(i[n.END_AT]+=","+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?i[n.LIMIT_TO_FIRST]=this.limit_:i[n.LIMIT_TO_LAST]=this.limit_)),i},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),en=function(t){function e(e,n){if(!(e instanceof Ye))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,tn.DEFAULT,!1)||this}return s.__extends(e,t),e.prototype.getKey=function(){return a.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return a.validateArgCount("Reference.child",1,1,arguments.length),"number"===typeof t?t=String(t):t instanceof V||(null===this.path.getFront()?st("Reference.child",1,t,!1):ot("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){a.validateArgCount("Reference.set",1,2,arguments.length),at("Reference.set",this.path),Z("Reference.set",1,t,this.path,!1),a.validateCallback("Reference.set",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(a.validateArgCount("Reference.update",1,2,arguments.length),at("Reference.update",this.path),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}et("Reference.update",1,t,this.path,!1),a.validateCallback("Reference.update",2,e,!0);var r=new a.Deferred;return this.repo.update(this.path,t,r.wrapCallback(e)),r.promise},e.prototype.setWithPriority=function(t,e,n){if(a.validateArgCount("Reference.setWithPriority",2,3,arguments.length),at("Reference.setWithPriority",this.path),Z("Reference.setWithPriority",1,t,this.path,!1),nt("Reference.setWithPriority",2,e,!1),a.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new a.Deferred;return this.repo.setWithPriority(this.path,t,e,i.wrapCallback(n)),i.promise},e.prototype.remove=function(t){return a.validateArgCount("Reference.remove",0,1,arguments.length),at("Reference.remove",this.path),a.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(a.validateArgCount("Reference.transaction",1,3,arguments.length),at("Reference.transaction",this.path),a.validateCallback("Reference.transaction",1,t,!1),a.validateCallback("Reference.transaction",2,e,!0),lt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var i=new a.Deferred;"function"===typeof e&&i.promise.catch((function(){}));var r=function(t,n,r){t?i.reject(t):i.resolve(new ht(n,r)),"function"===typeof e&&e(t,n,r)};return this.repo.startTransaction(this.path,t,r,n),i.promise},e.prototype.setPriority=function(t,e){a.validateArgCount("Reference.setPriority",1,2,arguments.length),at("Reference.setPriority",this.path),nt("Reference.setPriority",1,t,!1),a.validateCallback("Reference.setPriority",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){a.validateArgCount("Reference.push",0,2,arguments.length),at("Reference.push",this.path),Z("Reference.push",1,t,this.path,!0),a.validateCallback("Reference.push",2,e,!0);var n,i=this.repo.serverTime(),r=dt(i),o=this.child(r),s=this.child(r);return n=null!=t?o.set(t,e).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"===typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return at("Reference.onDisconnect",this.path),new ct(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Qt);Qt.__referenceConstructor=en,Ce.__referenceConstructor=en;var nn,rn=function(){this.children={},this.childCount=0,this.value=null},on=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new rn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof V?e:new V(e),i=this,r=n.getFront();null!==r;){i=new t(r,i,a.safeGet(i.node_.children,r)||new rn),r=(n=n.popFront()).getFront()}return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){a.assert("undefined"!==typeof t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;N(this.node_.children,(function(i,r){e(new t(i,n,r))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new V(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),i=a.contains(this.node_.children,t);n&&i?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||i||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(nn||(nn={})),Ye.MAX_TRANSACTION_RETRIES_=25,Ye.prototype.transactionsInit_=function(){this.transactionQueueTree_=new on},Ye.prototype.startTransaction=function(t,e,n,i){this.log_("transaction on "+t);var r=function(){},o=new en(this,t);o.on("value",r);var s={path:t,update:e,onComplete:n,status:null,order:g(),applyLocally:i,retryCount:0,unwatcher:function(){o.off("value",r)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);s.currentInputSnapshot=u;var l=s.update(u.val());if(void 0===l){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var c=new Wt(s.currentInputSnapshot,new en(this,s.path),Tt);s.onComplete(null,!1,c)}}else{tt("transaction failed: Data returned ",l,s.path),s.status=nn.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(s),h.setValue(d);var f=void 0;if("object"===typeof l&&null!==l&&a.contains(l,".priority"))f=a.safeGet(l,".priority"),a.assert(J(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else f=(this.serverSyncTree_.calcCompleteEventCache(t)||Bt.EMPTY_NODE).getPriority().val();f=f;var p=this.generateServerValues(),v=jt(l,f),y=ee(v,u,p);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,y,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},Ye.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Bt.EMPTY_NODE},Ye.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);a.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===nn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},Ye.prototype.sendTransactionQueue_=function(t,e){for(var n=this,i=e.map((function(t){return t.currentWriteId})),r=this.getLatestState_(t,i),o=r,s=r.hash(),u=0;u<e.length;u++){var l=e[u];a.assert(l.status===nn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=nn.SENT,l.retryCount++;var c=V.relativePath(t,l.path);o=o.updateChild(c,l.currentOutputSnapshotRaw)}var h=o.val(!0),d=t;this.server_.put(d.toString(),h,(function(i){n.log_("transaction put response",{path:d.toString(),status:i});var r=[];if("ok"===i){for(var o=[],s=0;s<e.length;s++){if(e[s].status=nn.COMPLETED,r=r.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,u=new en(n,e[s].path),l=new Wt(a,u,Tt);o.push(e[s].onComplete.bind(null,null,!0,l))}e[s].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,r);for(s=0;s<o.length;s++)j(o[s])}else{if("datastale"===i)for(s=0;s<e.length;s++)e[s].status===nn.SENT_NEEDS_ABORT?e[s].status=nn.NEEDS_ABORT:e[s].status=nn.RUN;else{I("transaction at "+d.toString()+" failed: "+i);for(s=0;s<e.length;s++)e[s].status=nn.NEEDS_ABORT,e[s].abortReason=i}n.rerunTransactions_(t)}}),s)},Ye.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),i=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(i,n),n},Ye.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,i=[],r=[],o=t.filter((function(t){return t.status===nn.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var u=t[s],l=V.relativePath(e,u.path),c=!1,h=void 0;if(a.assert(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===nn.NEEDS_ABORT)c=!0,h=u.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===nn.RUN)if(u.retryCount>=Ye.MAX_TRANSACTION_RETRIES_)c=!0,h="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var d=this.getLatestState_(u.path,o);u.currentInputSnapshot=d;var f=t[s].update(d.val());if(void 0!==f){tt("transaction failed: Data returned ",f,u.path);var p=jt(f);"object"===typeof f&&null!=f&&a.contains(f,".priority")||(p=p.updatePriority(d.getPriority()));var v=u.currentWriteId,g=this.generateServerValues(),y=ee(p,d,g);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(v),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(u.path,y,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(v,!0))}else c=!0,h="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],c&&(t[s].status=nn.COMPLETED,n=t[s].unwatcher,setTimeout(n,Math.floor(0)),t[s].onComplete))if("nodata"===h){var m=new en(this,t[s].path),_=t[s].currentInputSnapshot,b=new Wt(_,m,Tt);i.push(t[s].onComplete.bind(null,null,!1,b))}else i.push(t[s].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<i.length;s++)j(i[s]);this.sendReadyTransactions_()}},Ye.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},Ye.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},Ye.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,i=t.getValue();if(null!==i)for(var r=0;r<i.length;r++)e.push(i[r]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},Ye.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var i=0,r=0;r<n.length;r++)n[r].status!==nn.COMPLETED&&(n[i]=n[r],i++);n.length=i,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},Ye.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),i=this.transactionQueueTree_.subTree(t);return i.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(i),i.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},Ye.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],i=[],r=-1,o=0;o<e.length;o++)if(e[o].status===nn.SENT_NEEDS_ABORT);else if(e[o].status===nn.SENT)a.assert(r===o-1,"All SENT items should be at beginning of queue."),r=o,e[o].status=nn.SENT_NEEDS_ABORT,e[o].abortReason="set";else if(a.assert(e[o].status===nn.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))}-1===r?t.setValue(null):e.length=r+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),i);for(o=0;o<n.length;o++)j(n[o])}};var sn,an=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return sn||(sn=new t),sn},t.prototype.interrupt=function(){var t,e,n,i;try{for(var r=s.__values(Object.keys(this.repos_)),o=r.next();!o.done;o=r.next()){var a=o.value;try{for(var u=(n=void 0,s.__values(Object.keys(this.repos_[a]))),l=u.next();!l.done;l=u.next()){var c=l.value;this.repos_[a][c].interrupt()}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,i;try{for(var r=s.__values(Object.keys(this.repos_)),o=r.next();!o.done;o=r.next()){var a=o.value;try{for(var u=(n=void 0,s.__values(Object.keys(this.repos_[a]))),l=u.next();!l.done;l=u.next()){var c=l.value;this.repos_[a][c].resume()}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var r=n||t.options.databaseURL;void 0===r&&T("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var o=z(r),s=o.repoInfo,a=void 0;return"undefined"!==typeof i&&(a=Object({NODE_ENV:"production",PUBLIC_URL:"/react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).FIREBASE_DATABASE_EMULATOR_HOST),a&&(r="http://"+a+"?ns="+s.namespace,s=(o=z(r)).repoInfo),ut("Invalid Firebase Database URL",1,o),o.path.isEmpty()||T("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(s,t,e).database},t.prototype.deleteRepo=function(t){var e=a.safeGet(this.repos_,t.app.name);e&&a.safeGet(e,t.repoInfo_.toURLString())===t||T("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var i=a.safeGet(this.repos_,e.name);i||(i={},this.repos_[e.name]=i);var r=a.safeGet(i,t.toURLString());return r&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Ye(t,this.useRestClient_,e,n),i[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),un=function(){function t(t){this.repo_=t,t instanceof Ye||T("Don't call new Database() directly - please use firebase.database()."),this.root_=new en(t,V.Empty),this.INTERNAL=new ln(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),a.validateArgCount("database.ref",0,1,arguments.length),t instanceof en?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),a.validateArgCount(e,1,1,arguments.length);var n=z(t);ut(e,1,n);var i=n.repoInfo;return i.host!==this.repo_.repoInfo_.host&&T(e+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&T("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),ln=function(){function t(t){this.database=t}return t.prototype.delete=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.database.checkDeleted_("delete"),an.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),cn=Object.freeze({__proto__:null,forceLongPolling:function(){qe.forceDisallow(),Ve.forceAllow()},forceWebSockets:function(){Ve.forceDisallow()},isWebSocketsAvailable:function(){return qe.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),hn=Ge;Ge.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ge.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var dn=Ke,fn=W,pn=Object.freeze({__proto__:null,DataConnection:hn,RealTimeConnection:dn,hijackHash:function(t){var e=Ge.prototype.put;return Ge.prototype.put=function(n,i,r,o){void 0!==o&&(o=t()),e.call(this,n,i,r,o)},function(){Ge.prototype.put=e}},ConnectionTarget:fn,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){an.getInstance().forceRestClient(t)}}),vn=un.ServerValue;function gn(e){!function(t){We=t}(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new l.Component("database",(function(t,e){var n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return an.getInstance().databaseFromApp(n,i,e)}),"PUBLIC").setServiceProps({Reference:en,Query:Qt,Database:un,DataSnapshot:Wt,enableLogging:w,INTERNAL:cn,ServerValue:vn,TEST_ACCESS:pn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.6.7"),a.isNodeSdk()&&(t.exports=n)}gn(o),e.DataSnapshot=Wt,e.Database=un,e.OnDisconnect=ct,e.Query=Qt,e.Reference=en,e.ServerValue=vn,e.enableLogging=w,e.registerDatabase=gn}).call(this,n(26))},function(t,e,n){"use strict";n.r(e),function(t){function i(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n.d(e,"ErrorCode",(function(){return Xn})),n.d(e,"EventType",(function(){return Yn})),n.d(e,"WebChannel",(function(){return Jn})),n.d(e,"XhrIo",(function(){return Zn})),n.d(e,"createWebChannelTransport",(function(){return Gn}));var r,o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},s=s||{},a=o||self;function u(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function c(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),f=0;function p(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var m=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function b(){this.j=this.j,this.i=this.i}b.prototype.j=!1,b.prototype.da=function(){if(!this.j&&(this.j=!0,this.C(),0))(function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++f)})(this)},b.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var w=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"===typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};function k(t){return Array.prototype.concat.apply([],arguments)}function C(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function T(t){return/^[\s\xa0]*$/.test(t)}var I,S=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function x(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var A=a.navigator;if(A){var D=A.userAgent;if(D){I=D;break t}}I=""}function M(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function P(t){var e={};for(var n in t)e[n]=t[n];return e}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function R(t){return R[" "](t),t}R[" "]=u;var B,F=x(I,"Opera"),j=x(I,"Trident")||x(I,"MSIE"),U=x(I,"Edge"),V=U||j,$=x(I,"Gecko")&&!(x(I.toLowerCase(),"webkit")&&!x(I,"Edge"))&&!(x(I,"Trident")||x(I,"MSIE"))&&!x(I,"Edge"),W=x(I.toLowerCase(),"webkit")&&!x(I,"Edge");function H(){var t=a.document;return t?t.documentMode:void 0}t:{var q="",z=function(){var t=I;return $?/rv:([^\);]+)(\)|;)/.exec(t):U?/Edge\/([\d\.]+)/.exec(t):j?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):W?/WebKit\/(\S+)/.exec(t):F?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(z&&(q=z?z[1]:""),j){var K=H();if(null!=K&&K>parseFloat(q)){B=String(K);break t}}B=q}var Q,G={};function X(t){return function(t,e){var n=G;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=S(String(B)).split("."),i=S(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=O(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||O(0==s[2].length,0==a[2].length)||O(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(a.document&&j){var Y=H();Q=Y||(parseInt(B,10)||void 0)}else Q=void 0;var J=Q,Z=!j||9<=Number(J),tt=j&&!X("9"),et=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",u,e),a.removeEventListener("test",u,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function it(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if($){t:{try{R(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:rt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},_(it,nt);var rt={2:"touch",3:"pen",4:"mouse"};it.prototype.b=function(){it.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ot="closure_listenable_"+(1e6*Math.random()|0),st=0;function at(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.aa=r,this.key=++st,this.V=this.X=!1}function ut(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function lt(t){this.src=t,this.a={},this.b=0}function ct(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],o=w(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.V&&o.listener==e&&o.capture==!!n&&o.aa==i)return r}return-1}lt.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ht(t,e,i,r);return-1<s?(e=t[s],n||(e.X=!1)):((e=new at(e,this.src,o,!!i,r)).X=n,t.push(e)),e};var dt="closure_lm_"+(1e6*Math.random()|0),ft={};function pt(t,e,n,i,r){if(i&&i.once)return function t(e,n,i,r,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],i,r,o);return null}return i=Et(i),e&&e[ot]?e.sa(n,i,h(r)?!!r.capture:!!r,o):vt(e,n,i,!0,r,o)}(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,i,r);return null}return n=Et(n),t&&t[ot]?t.ra(e,n,h(i)?!!i.capture:!!i,r):vt(t,e,n,!1,i,r)}function vt(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=h(r)?!!r.capture:!!r;if(s&&!Z)return null;var a=bt(t);if(a||(t[dt]=a=new lt(t)),(n=a.add(e,n,i,s,o)).proxy)return n;if(i=function(){var t=_t,e=Z?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)et||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(yt(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function gt(t){if("number"!==typeof t&&t&&!t.V){var e=t.src;if(e&&e[ot])ct(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(yt(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=bt(e))?(ct(n,t),0==n.b&&(n.src=null,e[dt]=null)):ut(t)}}}function yt(t){return t in ft?ft[t]:ft[t]="on"+t}function mt(t,e){var n=t.listener,i=t.aa||t.src;return t.X&&gt(t),n.call(i,e)}function _t(t,e){if(t.V)return!0;if(!Z){if(!e)t:{e=["window","event"];for(var n=a,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}return mt(t,e=new it(e,this))}return mt(t,new it(e,this))}function bt(t){return(t=t[dt])instanceof lt?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==l(t)?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function kt(){b.call(this),this.c=new lt(this),this.J=this,this.A=null}function Ct(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.V&&s.capture==n){var a=s.listener,u=s.aa||s.src;s.X&&ct(t.c,s),r=!1!==a.call(u,i)&&r}}return r&&!i.defaultPrevented}_(kt,b),kt.prototype[ot]=!0,(r=kt.prototype).addEventListener=function(t,e,n,i){pt(this,t,e,n,i)},r.removeEventListener=function(t,e,n,i){!function t(e,n,i,r,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],i,r,o);else r=h(r)?!!r.capture:!!r,i=Et(i),e&&e[ot]?(e=e.c,(n=String(n).toString())in e.a&&(-1<(i=ht(s=e.a[n],i,r,o))&&(ut(s[i]),Array.prototype.splice.call(s,i,1),0==s.length&&(delete e.a[n],e.b--)))):e&&(e=bt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ht(n,i,r,o)),(i=-1<e?n[e]:null)&&gt(i))}(this,t,e,n,i)},r.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var i=t.type||t;if("string"===typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var r=t;N(t=new nt(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];r=Ct(s,i,!0,t)&&r}if(r=Ct(s=t.a=n,i,!0,t)&&r,r=Ct(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Ct(s=t.a=e[o],i,!1,t)&&r;return r},r.C=function(){if(kt.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)ut(n[i]);delete e.a[t],e.b--}}this.A=null},r.ra=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},r.sa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var Tt=a.JSON.stringify;function It(){this.b=this.a=null}var St,xt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new At}),(function(t){t.reset()}),100);function Ot(){var t=Lt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function At(){this.next=this.b=this.a=null}function Dt(t){a.setTimeout((function(){throw t}),0)}function Mt(t,e){St||function(){var t=a.Promise.resolve(void 0);St=function(){t.then(Nt)}}(),Pt||(St(),Pt=!0),Lt.add(t,e)}It.prototype.add=function(t,e){var n=xt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},At.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},At.prototype.reset=function(){this.next=this.b=this.a=null};var Pt=!1,Lt=new It;function Nt(){for(var t;t=Ot();){try{t.a.call(t.b)}catch(n){Dt(n)}var e=xt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Pt=!1}function Rt(t,e){kt.call(this),this.b=t||1,this.a=e||a,this.f=g(this.Ua,this),this.g=m()}function Bt(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Ft(t,e,n){if("function"==l(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function jt(t,e,n){b.call(this),this.f=null!=n?g(t,n):t,this.c=e,this.b=g(this.Pa,this),this.a=[]}function Ut(t){t.T=Ft(t.b,t.c),t.f.apply(null,t.a)}function Vt(t){b.call(this),this.b=t,this.a={}}_(Rt,kt),(r=Rt.prototype).Z=!1,r.L=null,r.Ua=function(){if(this.Z){var t=m()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(Bt(this),this.start()))}},r.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=m())},r.C=function(){Rt.M.C.call(this),Bt(this),delete this.a},_(jt,b),(r=jt.prototype).ba=!1,r.T=null,r.Ia=function(t){this.a=arguments,this.T?this.ba=!0:Ut(this)},r.C=function(){jt.M.C.call(this),this.T&&(a.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},r.Pa=function(){this.T=null,this.ba&&(this.ba=!1,Ut(this))},_(Vt,b);var $t=[];function Wt(t,e,n,i){Array.isArray(n)||(n&&($t[0]=n.toString()),n=$t);for(var r=0;r<n.length;r++){var o=pt(e,n[r],i||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ht(t){M(t.a,(function(t,e){this.a.hasOwnProperty(e)&&gt(t)}),t),t.a={}}function qt(){}Vt.prototype.C=function(){Vt.M.C.call(this),Ht(this)},Vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zt=null;function Kt(){return zt=zt||new kt}function Qt(t){nt.call(this,"serverreachability",t)}function Gt(t){var e=Kt();e.dispatchEvent(new Qt(e,t))}function Xt(t){nt.call(this,"statevent",t)}function Yt(t){var e=Kt();e.dispatchEvent(new Xt(e,t))}function Jt(t){nt.call(this,"timingevent",t)}function Zt(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){t()}),e)}_(Qt,nt),_(Xt,nt),_(Jt,nt);var te={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},ee={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function ne(){}function ie(t){var e;return(e=t.a)||(e=t.a={}),e}function re(){}ne.prototype.a=null;var oe,se={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function ae(){nt.call(this,"d")}function ue(){nt.call(this,"c")}function le(){}function ce(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new Vt(this),this.N=he,t=V?125:void 0,this.O=new Rt(t),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}_(ae,nt),_(ue,nt),_(le,ne),oe=new le;var he=45e3,de={},fe={};function pe(t,e,n){t.B=1,t.f=Re(Ae(e)),t.j=n,t.F=!0,ve(t,null)}function ve(t,e){t.s=m(),me(t),t.A=Ae(t.f);var n=t.A,i=t.U;Array.isArray(i)||(i=[String(i)]),Ge(n.b,"t",i),t.w=0,t.a=Vn(t.g,t.g.w?e:null),0<t.J&&(t.D=new jt(g(t.ya,t,t.a),t.J)),Wt(t.G,t.a,"readystatechange",t.Sa),e=t.m?P(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),Gt(1)}function ge(t,e,n){for(var i=!0;!t.l&&t.w<n.length;){var r=ye(t,n);if(r==fe){4==e&&(t.c=4,Yt(14),i=!1);break}if(r==de){t.c=4,Yt(15),i=!1;break}ke(t,r)}4==e&&0==n.length&&(t.c=1,Yt(16),i=!1),t.b=t.b&&i,i||(Ee(t),we(t))}function ye(t,e){var n=t.w,i=e.indexOf("\n",n);return-1==i?fe:(n=Number(e.substring(n,i)),isNaN(n)?de:(i+=1)+n>e.length?fe:(e=e.substr(i,n),t.w=i+n,e))}function me(t){t.P=m()+t.N,_e(t,t.N)}function _e(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=Zt(g(t.Qa,t),e)}function be(t){t.h&&(a.clearTimeout(t.h),t.h=null)}function we(t){0==t.g.u||t.l||Rn(t.g,t)}function Ee(t){be(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,Bt(t.O),Ht(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function ke(t,e){try{var n=t.g;if(0!=n.u&&(n.a==t||nn(n.b,t)))if(n.A=t.H,!t.o&&nn(n.b,t)&&3==n.u){try{var i=n.ja.a.parse(e)}catch(v){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.i){if(n.a){if(!(n.a.s+3e3<t.s))break t;Nn(n),n.a.cancel(),n.a=null}Ln(n),Yt(18)}}else n.ia=r[1],0<n.ia-n.G&&37500>r[2]&&n.U&&0==n.m&&!n.l&&(n.l=Zt(g(n.Na,n),6e3));if(1>=en(n.b)&&n.O){try{n.O()}catch(v){}n.O=void 0}}else Fn(n,11)}else if((t.o||n.a==t)&&Nn(n),!T(e))for(e=i=n.ja.a.parse(e),i=0;i<e.length;i++)if(r=e[i],n.G=r[0],r=r[1],2==n.u)if("c"==r[0]){n.B=r[1],n.R=r[2];var o=r[3];null!=o&&(n.oa=o);var s=r[5];null!=s&&"number"===typeof s&&0<s&&(n.D=1.5*s);var a=n,u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var c=a.b;!c.a&&(x(l,"spdy")||x(l,"quic")||x(l,"h2"))&&(c.f=c.g,c.a=new Set,c.b&&(rn(c,c.b),c.b=null))}if(a.s){var h=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(a.ha=h,Ne(a.v,a.s,h))}}n.u=3,n.c&&n.c.na();var d=t;if((a=n).ea=Un(a,a.w?a.R:null,a.P),d.o){on(a.b,d);var f=d,p=a.D;p&&f.setTimeout(p),f.h&&(be(f),me(f)),a.a=d}else Pn(a);0<n.f.length&&On(n)}else"stop"!=r[0]&&"close"!=r[0]||Fn(n,7);else 3==n.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Fn(n,7):In(n):"noop"!=r[0]&&n.c&&n.c.ma(r),n.m=0);Gt(4)}catch(v){}}function Ce(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(c(t)||"string"===typeof t)E(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(c(t)||"string"===typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"===typeof t)return t.split("");if(c(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function Te(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Te)for(n=t.K(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Ie(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Se(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Se(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Se(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=ce.prototype).setTimeout=function(t){this.N=t},r.Sa=function(t){t=t.target;var e=this.D;e&&3==En(t)?e.Ia():this.ya(t)},r.ya=function(t){try{if(t==this.a)t:{var e=En(this.a),n=this.a.qa(),i=this.a.S();if(!(3>e||3==e&&!V&&!this.a.Y())){this.l||4!=e||7==n||Gt(8==n||0>=i?3:2),be(this);var r=this.a.S();this.H=r;var o=this.a.Y();if(this.b=200==r){if(this.R&&!this.o){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.c=3,Yt(12),Ee(this),we(this);break t}this.o=!0,ke(this,u)}this.F?(ge(this,e,o),V&&this.b&&3==e&&(Wt(this.G,this.O,"tick",this.Ra),this.O.start())):ke(this,o),4==e&&Ee(this),this.b&&!this.l&&(4==e?Rn(this.g,this):(this.b=!1,me(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.c=3,Yt(12)):(this.c=0,Yt(13)),Ee(this),we(this)}}}catch(l){}},r.Ra=function(){if(this.a){var t=En(this.a),e=this.a.Y();this.w<e.length&&(be(this),ge(this,t,e),this.b&&4!=t&&me(this))}},r.cancel=function(){this.l=!0,Ee(this)},r.Qa=function(){this.h=null;var t=m();0<=t-this.P?(2!=this.B&&(Gt(3),Yt(17)),Ee(this),this.c=2,we(this)):_e(this,this.P-t)},(r=Te.prototype).I=function(){Ie(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Ie(this),this.a.concat()},r.get=function(t,e){return Se(this.b,t)?this.b[t]:e},r.set=function(t,e){Se(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var xe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oe(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Oe){this.a=void 0!==e?e:t.a,De(this,t.f),this.j=t.j,Me(this,t.c),Pe(this,t.h),this.g=t.g,e=t.b;var n=new qe;n.c=e.c,e.a&&(n.a=new Te(e.a),n.b=e.b),Le(this,n),this.i=t.i}else t&&(n=String(t).match(xe))?(this.a=!!e,De(this,n[1]||"",!0),this.j=Be(n[2]||""),Me(this,n[3]||"",!0),Pe(this,n[4]),this.g=Be(n[5]||"",!0),Le(this,n[6]||"",!0),this.i=Be(n[7]||"")):(this.a=!!e,this.b=new qe(null,this.a))}function Ae(t){return new Oe(t)}function De(t,e,n){t.f=n?Be(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.c=n?Be(e,!0):e}function Pe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Le(t,e,n){e instanceof qe?(t.b=e,function(t,e){e&&!t.f&&(ze(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ke(this,e),Ge(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Fe(e,We)),t.b=new qe(e,t.a))}function Ne(t,e,n){t.b.set(e,n)}function Re(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^m()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fe(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,je),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function je(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Oe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fe(e,Ue,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Fe(e,Ue,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fe(n,"/"==n.charAt(0)?$e:Ve,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Fe(n,He)),t.join("")};var Ue=/[#\/\?@]/g,Ve=/[#\?:]/g,$e=/[#\?]/g,We=/[#\?@]/g,He=/#/g;function qe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ze(t){t.a||(t.a=new Te,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ke(t,e){ze(t),e=Xe(t,e),Se(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Se((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ie(t)))}function Qe(t,e){return ze(t),e=Xe(t,e),Se(t.a.b,e)}function Ge(t,e,n){Ke(t,e),0<n.length&&(t.c=null,t.a.set(Xe(t,e),C(n)),t.b+=n.length)}function Xe(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ye(t,e){this.b=t,this.a=e}function Je(t){this.g=t||Ze,a.PerformanceNavigationTiming?t=0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(a.ca&&a.ca.ua&&a.ca.ua()&&a.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(r=qe.prototype).add=function(t,e){ze(this),this.c=null,t=Xe(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){ze(this),this.a.forEach((function(n,i){E(n,(function(n){t.call(e,n,i,this)}),this)}),this)},r.K=function(){ze(this);for(var t=this.a.I(),e=this.a.K(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},r.I=function(t){ze(this);var e=[];if("string"===typeof t)Qe(this,t)&&(e=k(e,this.a.get(Xe(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},r.set=function(t,e){return ze(this),this.c=null,Qe(this,t=Xe(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.I(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.I(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.c=t.join("&")};var Ze=10;function tn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function en(t){return t.b?1:t.a?t.a.size:0}function nn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rn(t,e){t.a?t.a.add(e):t.b=e}function on(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function sn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.i);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),s=o.next();!s.done;s=o.next()){var a=s.value;r=r.concat(a.i)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return C(t.c)}function an(){}function un(){this.a=new an}function ln(t,e,n){var i=n||"";try{Ce(t,(function(t,n){var r=t;h(t)&&(r=Tt(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function cn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}Je.prototype.cancel=function(){var t,e;if(this.c=sn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},an.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},an.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var hn=a.JSON.parse;function dn(t){kt.call(this),this.headers=new Te,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=fn,this.B=this.F=!1}_(dn,kt);var fn="",pn=/^https?$/i,vn=["POST","PUT"];function gn(t){return"content-type"==t.toLowerCase()}function yn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,mn(t),bn(t)}function mn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function _n(t){if(t.b&&"undefined"!=typeof s&&(!t.s[1]||4!=En(t)||2!=t.S()))if(t.l&&4==En(t))Ft(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==En(t)){t.b=!1;try{var e,n=t.S();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.D).match(xe)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}r=!pn.test(o?o.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var l=2<En(t)?t.a.statusText:""}catch(c){l=""}t.f=l+" ["+t.S()+"]",mn(t)}}finally{bn(t)}}}function bn(t,e){if(t.a){wn(t);var n=t.a,i=t.s[0]?u:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){}}}function wn(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function En(t){return t.a?t.a.readyState:0}function kn(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Ne(t,e,n))}function Cn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Tn(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=Cn("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=Cn("baseRetryDelayMs",5e3,t),this.Ga=Cn("retryDelaySeedMs",1e4,t),this.Da=Cn("forwardChannelMaxRetries",2,t),this.ga=Cn("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new Je(t&&t.concurrentRequestLimit),this.ja=new un,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function In(t){if(Sn(t),3==t.u){var e=t.H++,n=Ae(t.v);Ne(n,"SID",t.B),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),Dn(t,n),(e=new ce(t,e,void 0)).B=2,e.f=Re(Ae(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=Vn(e.g,null),e.a.$(e.f)),e.s=m(),me(e)}jn(t)}function Sn(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(a.clearTimeout(t.i),t.i=null),Nn(t),t.b.cancel(),t.g&&("number"===typeof t.g&&a.clearTimeout(t.g),t.g=null)}function xn(t,e){t.f.push(new Ye(t.Fa++,e)),3==t.u&&On(t)}function On(t){tn(t.b)||t.g||(t.g=!0,Mt(t.xa,t),t.o=0)}function An(t,e){var n;n=e?e.W:t.H++;var i=Ae(t.v);Ne(i,"SID",t.B),Ne(i,"RID",n),Ne(i,"AID",t.G),Dn(t,i),t.h&&t.j&&kn(i,t.h,t.j),n=new ce(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=Mn(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),rn(t.b,n),pe(n,i,e)}function Dn(t,e){t.c&&Ce({},(function(t,n){Ne(e,n,t)}))}function Mn(t,e,n){n=Math.min(t.f.length,n);var i=t.c?g(t.c.Ha,t.c,t):null;t:for(var r=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?(o=r[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var l=r[u].b,c=r[u].a;if(0>(l-=o))o=Math.max(0,r[u].b-100),a=!1;else try{ln(c,s,"req"+l+"_")}catch(h){i&&i(c)}}if(a){i=s.join("&");break t}}return t=t.f.splice(0,n),e.i=t,i}function Pn(t){t.a||t.i||(t.J=1,Mt(t.wa,t),t.m=0)}function Ln(t){return!(t.a||t.i||3<=t.m)&&(t.J++,t.i=Zt(g(t.wa,t),Bn(t,t.m)),t.m++,!0)}function Nn(t){null!=t.l&&(a.clearTimeout(t.l),t.l=null)}function Rn(t,e){var n=null;if(t.a==e){Nn(t),t.a=null;var i=2}else{if(!nn(t.b,e))return;n=e.i,on(t.b,e),i=1}if(t.A=e.H,0!=t.u)if(e.b)if(1==i){n=e.j?e.j.length:0,e=m()-e.s;var r=t.o;(i=Kt()).dispatchEvent(new Jt(i,n,e,r)),On(t)}else Pn(t);else if(3==(r=e.c)||0==r&&0<t.A||!(1==i&&function(t,e){return!(en(t.b)>=t.b.f-(t.g?1:0))&&(t.g?(t.f=e.i.concat(t.f),!0):!(1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da))&&(t.g=Zt(g(t.xa,t,e),Bn(t,t.o)),t.o++,!0))}(t,e)||2==i&&Ln(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),r){case 1:Fn(t,5);break;case 4:Fn(t,10);break;case 3:Fn(t,6);break;default:Fn(t,2)}}function Bn(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function Fn(t,e){if(2==e){var n=null;t.c&&(n=null);var i=g(t.Ta,t);n||(n=new Oe("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||De(n,"https"),Re(n)),function(t,e){var n=new qt;if(a.Image){var i=new Image;i.onload=y(cn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=y(cn,n,i,"TestLoadImage: error",!1,e),i.onabort=y(cn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=y(cn,n,i,"TestLoadImage: timeout",!1,e),a.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else Yt(2);t.u=0,t.c&&t.c.la(e),jn(t),Sn(t)}function jn(t){t.u=0,t.A=-1,t.c&&(0==sn(t.b).length&&0==t.f.length||(t.b.c.length=0,C(t.f),t.f.length=0),t.c.ka())}function Un(t,e,n){var i=function(t){return t instanceof Oe?Ae(t):new Oe(t,void 0)}(n);if(""!=i.c)e&&Me(i,e+"."+i.c),Pe(i,i.h);else{var r=a.location;i=function(t,e,n,i){var r=new Oe(null,void 0);return t&&De(r,t),e&&Me(r,e),n&&Pe(r,n),i&&(r.g=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.N&&M(t.N,(function(t,e){Ne(i,e,t)})),e=t.s,n=t.ha,e&&n&&Ne(i,e,n),Ne(i,"VER",t.oa),Dn(t,i),i}function Vn(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dn(t.Ea)).F=t.w,e}function $n(){}function Wn(){if(j&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function Hn(t,e){kt.call(this),this.a=new Tn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!T(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!T(e)&&(this.a.s=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Kn(this)}function qn(t){ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function zn(){ue.call(this),this.status=1}function Kn(t){this.a=t}(r=dn.prototype).$=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.G?ie(this.G):ie(oe),this.a.onreadystatechange=g(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void yn(this,o)}t=n||"";var r=new Te(this.headers);i&&Ce(i,(function(t,e){r.set(e,t)})),i=function(t){t:{for(var e=gn,n=t.length,i="string"===typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(r.K()),n=a.FormData&&t instanceof a.FormData,!(0<=w(vn,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wn(this),0<this.o&&((this.B=function(t){return j&&X(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.ta,this)):this.m=Ft(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){yn(this,o)}},r.ta=function(){"undefined"!=typeof s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),bn(this))},r.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),bn(this,!0)),dn.M.C.call(this)},r.va=function(){this.j||(this.w||this.l||this.g?_n(this):this.Oa())},r.Oa=function(){_n(this)},r.S=function(){try{return 2<En(this)?this.a.status:-1}catch(t){return-1}},r.Y=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},r.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hn(e)}},r.qa=function(){return this.h},r.Ma=function(){return"string"===typeof this.f?this.f:String(this.f)},(r=Tn.prototype).oa=8,r.u=1,r.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random());var e,n=new ce(this,t=this.H++,void 0),i=this.j;if(this.F&&(i?N(i=P(i),this.F):i=this.F),null===this.h&&(n.m=i),this.fa)t:{for(var r=e=0;r<this.f.length;r++){var o=this.f[r];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break t}if(4096===e||r===this.f.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=Mn(this,n,e),Ne(r=Ae(this.v),"RID",t),Ne(r,"CVER",22),this.s&&Ne(r,"X-HTTP-Session-Id",this.s),Dn(this,r),this.h&&i&&kn(r,this.h,i),rn(this.b,n),this.fa?(Ne(r,"$req",e),Ne(r,"SID","null"),n.R=!0,pe(n,r,null)):pe(n,r,e),this.u=2}}else 3==this.u&&(t?An(this,t):0==this.f.length||tn(this.b)||An(this))},r.wa=function(){this.i=null,this.a=new ce(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=Ae(this.ea);Ne(t,"RID","rpc"),Ne(t,"SID",this.B),Ne(t,"CI",this.U?"0":"1"),Ne(t,"AID",this.G),Dn(this,t),Ne(t,"TYPE","xmlhttp"),this.h&&this.j&&kn(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=Re(Ae(t)),e.j=null,e.F=!0,ve(e,n)},r.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,Ln(this),Yt(19))},r.Ta=function(t){Yt(t?2:1)},(r=$n.prototype).na=function(){},r.ma=function(){},r.la=function(){},r.ka=function(){},r.Ha=function(){},Wn.prototype.a=function(t,e){return new Hn(t,e)},_(Hn,kt),(r=Hn.prototype).addEventListener=function(t,e,n,i){Hn.M.addEventListener.call(this,t,e,n,i)},r.removeEventListener=function(t,e,n,i){Hn.M.removeEventListener.call(this,t,e,n,i)},r.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;Yt(0),t.P=e,t.N=n||{},t.U=t.W,t.v=Un(t,null,t.P),On(t)},r.close=function(){In(this.a)},r.La=function(t){if("string"===typeof t){var e={};e.__data__=t,xn(this.a,e)}else this.g?((e={}).__data__=Tt(t),xn(this.a,e)):xn(this.a,t)},r.C=function(){this.a.c=null,delete this.f,In(this.a),delete this.a,Hn.M.C.call(this)},_(qn,ae),_(zn,ue),_(Kn,$n),Kn.prototype.na=function(){this.a.dispatchEvent("a")},Kn.prototype.ma=function(t){this.a.dispatchEvent(new qn(t))},Kn.prototype.la=function(t){this.a.dispatchEvent(new zn(t))},Kn.prototype.ka=function(){this.a.dispatchEvent("b")},Wn.prototype.createWebChannel=Wn.prototype.a,Hn.prototype.send=Hn.prototype.La,Hn.prototype.open=Hn.prototype.Ka,Hn.prototype.close=Hn.prototype.close,te.NO_ERROR=0,te.TIMEOUT=8,te.HTTP_ERROR=6,ee.COMPLETE="complete",re.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",kt.prototype.listen=kt.prototype.ra,dn.prototype.listenOnce=dn.prototype.sa,dn.prototype.getLastError=dn.prototype.Ma,dn.prototype.getLastErrorCode=dn.prototype.qa,dn.prototype.getStatus=dn.prototype.S,dn.prototype.getResponseJson=dn.prototype.Ja,dn.prototype.getResponseText=dn.prototype.Y,dn.prototype.send=dn.prototype.$;var Qn={createWebChannelTransport:function(){return new Wn},ErrorCode:te,EventType:ee,WebChannel:re,XhrIo:dn},Gn=Qn.createWebChannelTransport,Xn=Qn.ErrorCode,Yn=Qn.EventType,Jn=Qn.WebChannel,Zn=Qn.XhrIo;e.default=Qn}.call(this,n(15))},function(t,e,n){"use strict";var i,r=(i=n(2))&&"object"===typeof i&&"default"in i?i.default:i,o=n(0),s=n(5),a={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},u=function(t){function e(n,i,r){var o=t.call(this,i)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=r,o}return o.__extends(e,t),e}(Error);var l=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e;return o.__generator(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function c(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}var h=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"===typeof t||"object"===typeof t)return c(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"===typeof t||"object"===typeof t?c(t,(function(t){return e.decode(t)})):t},t}();var d=function(){function t(t,e,n,i){var r=this;void 0===i&&(i="us-central1"),this.app_=t,this.region_=i,this.serializer=new h,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return r.deleteService()}},this.contextProvider=new l(e,n),this.cancelAllRequests=new Promise((function(t){r.deleteService=function(){return t()}}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+n+"/"+t:"https://"+n+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(i){return n.call(t,i,e||{})}},t.prototype.postJSON=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i,r;return o.__generator(this,(function(o){switch(o.label){case 0:n.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return i=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:r=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,i.json()];case 6:return r=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:i.status,json:r}]}}))}))},t.prototype.call=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i,r,s,l,c,h,d,p,v,g,y;return o.__generator(this,(function(o){switch(o.label){case 0:return i=this._url(t),e=this.serializer.encode(e),r={data:e},s=new Headers,[4,this.contextProvider.getContext()];case 1:return(l=o.sent()).authToken&&s.append("Authorization","Bearer "+l.authToken),l.instanceIdToken&&s.append("Firebase-Instance-ID-Token",l.instanceIdToken),c=n.timeout||7e4,h=function(t){var e,n=new Promise((function(n,i){e=setTimeout((function(){i(new u("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(c),d=h.timer,p=h.promise,[4,Promise.race([f(d,this.postJSON(i,r,s)),p,f(d,this.cancelAllRequests)])];case 2:if(!(v=o.sent()))throw new u("cancelled","Firebase Functions instance was deleted.");if(g=function(t,e,n){var i=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),r=i,o=void 0;try{var s=e&&e.error;if(s){var l=s.status;if("string"===typeof l){if(!a[l])return new u("internal","internal");i=a[l],r=l}var c=s.message;"string"===typeof c&&(r=c),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(h){}return"ok"===i?null:new u(i,r,o)}(v.status,v.json,this.serializer))throw g;if(!v.json)throw new u("internal","Response is not valid JSON object.");if("undefined"===typeof(y=v.json.data)&&(y=v.json.result),"undefined"===typeof y)throw new u("internal","Response is missing data field.");return[2,{data:this.serializer.decode(y)}]}}))}))},t}();function f(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,e];case 1:return n=i.sent(),clearTimeout(t),[2,n]}}))}))}function p(t,e){var n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("messaging");return new d(n,i,r,e)}!function(t){var e={Functions:d};t.INTERNAL.registerComponent(new s.Component("functions",p,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(r),r.registerVersion("@firebase/functions","0.4.48")},function(t,e,n){"use strict";n.r(e);var i,r=n(2),o=n.n(r),s=(n(19),n(5)),a=n(0),u=n(7),l=n(11),c=((i={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',i["only-available-in-window"]="This method is available in a Window context.",i["only-available-in-sw"]="This method is available in a service worker context.",i["permission-default"]="The notification permission was not granted and dismissed instead.",i["permission-blocked"]="The notification permission was not granted and blocked instead.",i["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",i["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",i["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",i["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",i["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",i["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",i["token-update-no-token"]="FCM returned no token when updating the user to push.",i["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",i["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",i["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",i["invalid-vapid-key"]="The public VAPID key must be a string.",i["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",i),h=new u.ErrorFactory("messaging","Messaging",c);function d(t){return h.create("missing-app-config-values",{valueName:t})}var f,p="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";function v(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(a.__spread)(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function g(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(f||(f={}));function y(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i=this;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=r.sent(),!e.map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return n=null,[4,Object(l.openDb)("fcm_token_details_db",5,(function(e){return Object(a.__awaiter)(i,void 0,void 0,(function(){var i,r,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains("fcm_token_object_Store")?[4,(i=e.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return r=a.sent(),[4,i.clear()];case 2:if(a.sent(),!r)return[2];if(2===e.oldVersion){if(!(o=r).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:v(o.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(n={token:(o=r).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:v(o.auth),p256dh:v(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:v(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Object(l.deleteDb)("fcm_token_details_db")];case 4:return r.sent(),[4,Object(l.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(l.deleteDb)("undefined")];case 6:return r.sent(),[2,m(n)?n:null]}}))}))}function m(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"===typeof t.createTime&&t.createTime>0&&"string"===typeof t.token&&t.token.length>0&&"string"===typeof e.auth&&e.auth.length>0&&"string"===typeof e.p256dh&&e.p256dh.length>0&&"string"===typeof e.endpoint&&e.endpoint.length>0&&"string"===typeof e.swScope&&e.swScope.length>0&&"string"===typeof e.vapidKey&&e.vapidKey.length>0}var _="firebase-messaging-store",b=null;function w(){return b||(b=Object(l.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(_)}}))),b}function E(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return e=T(t),[4,w()];case 1:return[4,r.sent().transaction(_).objectStore(_).get(e)];case 2:return(n=r.sent())?[2,n]:[3,3];case 3:return[4,y(t.appConfig.senderId)];case 4:return(i=r.sent())?[4,k(t,i)]:[3,6];case 5:return r.sent(),[2,i];case 6:return[2]}}))}))}function k(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return n=T(t),[4,w()];case 1:return i=o.sent(),[4,(r=i.transaction(_,"readwrite")).objectStore(_).put(e,n)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2,e]}}))}))}function C(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return e=T(t),[4,w()];case 1:return n=r.sent(),[4,(i=n.transaction(_,"readwrite")).objectStore(_).delete(e)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}}))}))}function T(t){return t.appConfig.appId}function I(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r,o,s,u;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return[4,A(t)];case 1:n=a.sent(),i=D(e),r={method:"POST",headers:n,body:JSON.stringify(i)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(O(t.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),h.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw u=o.error.message,h.create("token-subscribe-failed",{errorInfo:u});if(!o.token)throw h.create("token-subscribe-no-token");return[2,o.token]}}))}))}function S(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r,o,s,u;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return[4,A(t)];case 1:n=a.sent(),i=D(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(O(t.appConfig)+"/"+e.token,r)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),h.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw u=o.error.message,h.create("token-update-failed",{errorInfo:u});if(!o.token)throw h.create("token-update-no-token");return[2,o.token]}}))}))}function x(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return[4,A(t)];case 1:n=a.sent(),i={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(O(t.appConfig)+"/"+e,i)];case 3:return[4,a.sent().json()];case 4:if((r=a.sent()).error)throw o=r.error.message,h.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw s=a.sent(),h.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}}))}))}function O(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function A(t){var e=t.appConfig,n=t.installations;return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return t=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function D(t){var e=t.p256dh,n=t.auth,i=t.endpoint,r=t.vapidKey,o={web:{endpoint:i,auth:n,p256dh:e}};return r!==p&&(o.web.applicationPubKey=r),o}function M(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,r,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw h.create("permission-blocked");return[4,R(e,n)];case 1:return i=a.sent(),[4,E(t)];case 2:return r=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:i.endpoint,auth:v(i.getKey("auth")),p256dh:v(i.getKey("p256dh"))},r?[3,3]:[2,N(t,o)];case 3:if(function(t,e){var n=e.vapidKey===t.vapidKey,i=e.endpoint===t.endpoint,r=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&i&&r&&o}(r.subscriptionOptions,o))return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,x(t,r.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,N(t,o)];case 8:return Date.now()>=r.createTime+6048e5?[2,L({token:r.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,r.token];case 9:return[2]}}))}))}function P(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,E(t)];case 1:return(n=r.sent())?[4,x(t,n.token)]:[3,4];case 2:return r.sent(),[4,C(t)];case 3:r.sent(),r.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(i=r.sent())?[2,i.unsubscribe()]:[2,!0]}}))}))}function L(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,r,o;return Object(a.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,S(e,t)];case 1:return i=s.sent(),r=Object(a.__assign)(Object(a.__assign)({},t),{token:i,createTime:Date.now()}),[4,k(e,r)];case 2:return s.sent(),[2,i];case 3:return o=s.sent(),[4,P(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function N(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,I(t,e)];case 1:return n=r.sent(),i={token:n,createTime:Date.now(),subscriptionOptions:e},[4,k(t,i)];case 2:return r.sent(),[2,i.token]}}))}))}function R(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=i.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:g(e)})]}}))}))}function B(t){return"object"===typeof t&&!!t&&"google.c.a.c_id"in t}var F=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.getToken=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return this.vapidKey||(this.vapidKey=p),[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),"default"!==Notification.permission?[3,3]:[4,Notification.requestPermission()];case 2:e.sent(),e.label=3;case 3:if("granted"!==Notification.permission)throw h.create("permission-blocked");return[2,M(this.firebaseDependencies,t,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),[2,P(this.firebaseDependencies,t)]}}))}))},t.prototype.requestPermission=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?h.create("permission-blocked"):h.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw h.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw h.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw h.create("invalid-sw-registration");if(this.swRegistration)throw h.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw h.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.getServiceWorkerRegistration=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:if(this.swRegistration)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 2:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,4];case 3:throw e=n.sent(),h.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 4:return[2,this.swRegistration]}}))}))},t.prototype.messageEventListener=function(t){var e;return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,i,r,o;return Object(a.__generator)(this,(function(s){switch(s.label){case 0:return(null===(e=t.data)||void 0===e?void 0:e.firebaseMessaging)?(n=t.data.firebaseMessaging,i=n.type,r=n.payload,this.onMessageCallback&&i===f.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(r):this.onMessageCallback.next(r)),B(o=r.data)&&"1"===o["google.c.a.e"]?[4,this.logEvent(i,o)]:[3,2]):[2];case 1:s.sent(),s.label=2;case 2:return[2]}}))}))},t.prototype.logEvent=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return n=function(t){switch(t){case f.NOTIFICATION_CLICKED:return"notification_open";case f.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();var j=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!==typeof t)throw h.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.getToken=function(){var t,e;return Object(a.__awaiter)(this,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,E(this.firebaseDependencies)];case 1:n=i.sent(),this.vapidKey=null!==(e=null===(t=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:p,i.label=2;case 2:return[2,M(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return P(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw h.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw h.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw h.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw h.create("only-available-in-window")},t.prototype.onMessage=function(){throw h.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw h.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,$()]:[2];case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=r.sent())?[2,V(n,e)]:(i=function(t){var e;if(!t||"object"!==typeof t.notification)return;var n=Object(a.__assign)({},t.notification);return n.data=Object(a.__assign)(Object(a.__assign)({},t.notification.data),((e={}).FCM_MSG=t,e)),n}(e))?[4,H(i)]:[3,3];case 2:return r.sent(),[3,5];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Object(a.__awaiter)(this,void 0,void 0,(function(){var i;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return t.newSubscription?[3,2]:[4,P(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,E(this.firebaseDependencies)];case 3:return i=r.sent(),[4,P(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,M(this.firebaseDependencies,self.registration,null!==(n=null===(e=null===i||void 0===i?void 0:i.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:p)];case 5:return r.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,r,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return(i=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(r=function(t){var e,n,i,r=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(i=t.notification)||void 0===i?void 0:i.click_action;if(r)return r;return B(t.data)?self.location.origin:null}(i))?[4,U(r)]:[2]):[2];case 1:return(o=a.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return o=a.sent(),[4,(u=3e3,new Promise((function(t){setTimeout(t,u)})))];case 3:return a.sent(),[3,6];case 4:return[4,o.focus()];case 5:o=a.sent(),a.label=6;case 6:return o?(s=W(f.NOTIFICATION_CLICKED,i),[2,o.postMessage(s)]):[2]}var u}))}))},t}();function U(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,i,r,o,s,u;return Object(a.__generator)(this,(function(l){switch(l.label){case 0:return e=new URL(t,self.location.href),[4,$()];case 1:n=l.sent();try{for(i=Object(a.__values)(n),r=i.next();!r.done;r=i.next())if(o=r.value,new URL(o.url,self.location.href).host===e.host)return[2,o]}catch(c){s={error:c}}finally{try{r&&!r.done&&(u=i.return)&&u.call(i)}finally{if(s)throw s.error}}return[2,null]}}))}))}function V(t,e){var n,i,r=W(f.PUSH_RECEIVED,e);try{for(var o=Object(a.__values)(t),s=o.next();!s.done;s=o.next()){s.value.postMessage(r)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}function $(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function W(t,e){return{firebaseMessaging:{type:t,payload:e}}}function H(t){var e,n=null!==(e=t.title)&&void 0!==e?e:"",i=t.actions,r=Notification.maxActions;return i&&r&&i.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(n,t)}var q={isSupported:z};function z(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}o.a.INTERNAL.registerComponent(new s.Component("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw d("App Configuration Object");if(!t.name)throw d("App Name");var i=t.options;try{for(var r=Object(a.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=r.next();!o.done;o=r.next()){var s=o.value;if(!i[s])throw d(s)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!z())throw h.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new j(n):new F(n)}),"PUBLIC").setServiceProps(q))},function(t,e,n){"use strict";n.r(e),n.d(e,"registerStorage",(function(){return pe}));var i=n(2),r=n.n(i),o=n(0),s=n(5),a=function(){function t(t,e){this.code_=I(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return I(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}(),u="unknown",l="object-not-found",c="quota-exceeded",h="unauthenticated",d="unauthorized",f="retry-limit-exceeded",p="canceled",v="invalid-url",g="invalid-default-bucket",y="cannot-slice-blob",m="server-file-wrong-size",_="no-download-url",b="invalid-argument",w="invalid-argument-count",E="app-deleted",k="invalid-root-operation",C="invalid-format",T="internal-error";function I(t){return"storage/"+t}function S(){return new a(u,"An unknown error occurred, please check the error payload for server response.")}function x(){return new a(p,"User canceled the upload/download.")}function O(){return new a(y,"Cannot slice blob for upload. Please retry the upload.")}function A(){return new a(_,"The given file does not have any download URLs.")}function D(t,e,n){return new a(b,"Invalid argument in `"+e+"` at index "+t+": "+n)}function M(){return new a(E,"The Firebase app was deleted.")}function P(t,e){return new a(C,"String does not match format '"+t+"': "+e)}function L(t){throw new a(T,"Internal error: "+t)}var N={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function R(t){switch(t){case N.RAW:case N.BASE64:case N.BASE64URL:case N.DATA_URL:return;default:throw"Expected one of the event types: ["+N.RAW+", "+N.BASE64+", "+N.BASE64URL+", "+N.DATA_URL+"]."}}var B=function(t,e){this.data=t,this.contentType=e||null};function F(t,e){switch(t){case N.RAW:return new B(j(e));case N.BASE64:case N.BASE64URL:return new B(U(t,e));case N.DATA_URL:return new B(function(t){var e=new V(t);return e.base64?U(N.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw P(N.DATA_URL,"Malformed data URL.")}return j(e)}(e.rest)}(e),new V(e).contentType)}throw S()}function j(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296===(64512&i))if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1)))i=65536|(1023&i)<<10|1023&t.charCodeAt(++n),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i);else e.push(239,191,189);else 56320===(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function U(t,e){switch(t){case N.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw P(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case N.BASE64URL:var r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw P(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(l){throw P(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var V=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw P(N.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(i=n,r=";base64",i.length>=r.length&&i.substring(i.length-r.length)===r),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var i,r};var $,W={STATE_CHANGED:"state_changed"},H="running",q="pausing",z="paused",K="success",Q="canceling",G="canceled",X="error",Y={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function J(t){switch(t){case H:case q:case Q:return Y.RUNNING;case z:return Y.PAUSED;case K:return Y.SUCCESS;case G:return Y.CANCELED;case X:default:return Y.ERROR}}function Z(t){return null!=t}function tt(t){return void 0!==t}function et(t){return"function"===typeof t}function nt(t){return"object"===typeof t}function it(t){return nt(t)&&null!==t}function rt(t){return"string"===typeof t||t instanceof String}function ot(t){return st(t)&&Number.isInteger(t)}function st(t){return"number"===typeof t||t instanceof Number}function at(t){return ut()&&t instanceof Blob}function ut(){return"undefined"!==typeof Blob}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}($||($={}));var lt=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=$.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=$.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=$.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,i){if(this.sent_)throw L("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),Z(i))for(var r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return Z(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw L("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw L("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw L("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){Z(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){Z(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),ct=function(){function t(){}return t.prototype.createXhrIo=function(){return new lt},t}();function ht(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function dt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ht();if(void 0!==n){for(var i=new n,r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(ut())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var ft=function(){function t(t,e){var n=0,i="";at(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(at(this.data_)){var i=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new t(i)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(ut()){var i=e.map((function(e){return e instanceof t?e.data_:e}));return new t(dt.apply(null,i))}var r=e.map((function(t){return rt(t)?F(N.RAW,t).data:t.data_})),o=0;r.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return r.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),pt=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(i){return new t(e,"")}if(""===n.path)return n;throw new a(g,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null;var i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function r(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:r},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:r}],u=0;u<s.length;u++){var l=s[u],c=l.regex.exec(e);if(c){var h=c[l.indices.bucket],d=c[l.indices.path];d||(d=""),n=new t(h,d),l.postModify(n);break}}if(null==n)throw function(t){return new a(v,"Invalid URL '"+t+"'.")}(e);return n},t}();function vt(t){var e,n;try{e=JSON.parse(t)}catch(i){return null}return nt(n=e)&&!Array.isArray(n)?e:null}function gt(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function yt(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function mt(t){return"https://firebasestorage.googleapis.com/v0"+t}function _t(t){var e=encodeURIComponent,n="?";for(var i in t){if(t.hasOwnProperty(i))n=n+(e(i)+"="+e(t[i]))+"&"}return n=n.slice(0,-1)}function bt(t,e){return e}var wt=function(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||bt},Et=null;function kt(){if(Et)return Et;var t=[];t.push(new wt("bucket")),t.push(new wt("generation")),t.push(new wt("metageneration")),t.push(new wt("name","fullPath",!0));var e=new wt("name");e.xform=function(t,e){return function(t){return!rt(t)||t.length<2?t:yt(t)}(e)},t.push(e);var n=new wt("size");return n.xform=function(t,e){return Z(e)?Number(e):e},t.push(n),t.push(new wt("timeCreated")),t.push(new wt("updated")),t.push(new wt("md5Hash",null,!0)),t.push(new wt("cacheControl",null,!0)),t.push(new wt("contentDisposition",null,!0)),t.push(new wt("contentEncoding",null,!0)),t.push(new wt("contentLanguage",null,!0)),t.push(new wt("contentType",null,!0)),t.push(new wt("metadata","customMetadata",!0)),Et=t}function Ct(t,e,n){for(var i={type:"file"},r=n.length,o=0;o<r;o++){var s=n[o];i[s.local]=s.xform(i,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,i=t.fullPath,r=new pt(n,i);return e.makeStorageReference(r)}})}(i,t),i}function Tt(t,e,n){var i=vt(e);return null===i?null:Ct(t,i,n)}function It(t,e){for(var n={},i=e.length,r=0;r<i;r++){var o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function St(t){if(!nt(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!nt(n))throw"Expected object for 'customMetadata' mapping."}else if(it(n))throw"Mapping for '"+e+"' cannot be an object."}}function xt(t,e,n){var i=vt(n);return null===i?null:function(t,e,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var r=0,o=n.prefixes;r<o.length;r++){var s=o[r].replace(/\/$/,""),a=t.makeStorageReference(new pt(e,s));i.prefixes.push(a)}if(n.items)for(var u=0,l=n.items;u<l.length;u++){var c=l[u];a=t.makeStorageReference(new pt(e,c.name));i.items.push(a)}return i}(t,e,i)}function Ot(t){if(!nt(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!ot(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!rt(t.pageToken))throw"Expected pageToken to be string."}}var At=function(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Dt(t){if(!t)throw S()}function Mt(t,e){return function(n,i){var r=Tt(t,i,e);return Dt(null!==r),r}}function Pt(t,e){return function(n,i){var r=Tt(t,i,e);return Dt(null!==r),function(t,e){var n=vt(e);if(null===n)return null;if(!rt(n.downloadTokens))return null;var i=n.downloadTokens;if(0===i.length)return null;var r=encodeURIComponent;return i.split(",").map((function(e){var n=t.bucket,i=t.fullPath;return mt("/b/"+r(n)+"/o/"+r(i))+_t({alt:"media",token:e})}))[0]}(r,i)}}function Lt(t){return function(e,n){var i,r,o;return 401===e.getStatus()?i=new a(h,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,i=new a(c,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(r=t.path,i=new a(d,"User does not have permission to access '"+r+"'.")):i=n,i.setServerResponseProp(n.serverResponseProp()),i}}function Nt(t){var e=Lt(t);return function(n,i){var r,o=e(n,i);return 404===n.getStatus()&&(r=t.path,o=new a(l,"Object '"+r+"' does not exist.")),o.setServerResponseProp(i.serverResponseProp()),o}}function Rt(t,e,n){var i=mt(e.fullServerUrl()),r=t.maxOperationRetryTime(),o=new At(i,"GET",Mt(t,n),r);return o.errorHandler=Nt(e),o}function Bt(t,e,n,i,r){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),r&&(o.maxResults=r);var s=mt(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime(),u=new At(s,"GET",function(t,e){return function(n,i){var r=xt(t,e,i);return Dt(null!==r),r}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=Lt(e),u}function Ft(t,e,n){var i=mt(e.fullServerUrl()),r=t.maxOperationRetryTime(),o=new At(i,"GET",Pt(t,n),r);return o.errorHandler=Nt(e),o}function jt(t,e,n,i){var r=mt(e.fullServerUrl()),o=It(n,i),s=t.maxOperationRetryTime(),a=new At(r,"PATCH",Mt(t,i),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Nt(e),a}function Ut(t,e){var n=mt(e.fullServerUrl()),i=t.maxOperationRetryTime();var r=new At(n,"DELETE",(function(t,e){}),i);return r.successCodes=[200,204],r.errorHandler=Nt(e),r}function Vt(t,e,n){var i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}var $t=function(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null};function Wt(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){Dt(!1)}return Dt(!!n&&-1!==(e||["active"]).indexOf(n)),n}function Ht(t,e,n,i,r,o,s,u){var l=new $t(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw new a(m,"Server recorded incorrect upload file size, please retry the upload.");var c=l.total-l.current,h=c;r>0&&(h=Math.min(h,r));var d=l.current,f=d+h,p={"X-Goog-Upload-Command":h===c?"upload, finalize":"upload","X-Goog-Upload-Offset":l.current},v=i.slice(d,f);if(null===v)throw O();var g=e.maxUploadRetryTime(),y=new At(n,"POST",(function(t,n){var r,s=Wt(t,["active","final"]),a=l.current+h,u=i.size();return r="final"===s?Mt(e,o)(t,n):null,new $t(a,u,"final"===s,r)}),g);return y.headers=p,y.body=v.uploadData(),y.progressCallback=u||null,y.errorHandler=Lt(t),y}var qt=function(t,e,n){if(et(t)||Z(e)||Z(n))this.next=t,this.error=e||null,this.complete=n||null;else{var i=t;this.next=i.next||null,this.error=i.error||null,this.complete=i.complete||null}},zt=function(t,e,n,i,r,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=i,this.task=r,this.ref=o};function Kt(t,e,n){for(var i=e.length,r=e.length,o=0;o<e.length;o++)if(e[o].optional){i=o;break}if(!(i<=n.length&&n.length<=r))throw function(t,e,n,i){var r,o;return t===e?(r=t,o=1===t?"argument":"arguments"):(r="between "+t+" and "+e,o="arguments"),new a(w,"Invalid argument count in `"+n+"`: Expected "+r+" "+o+", received "+i+".")}(i,r,t,n.length);for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(s){throw s instanceof Error?D(o,t,s.message):D(o,t,s)}}var Qt=function(t,e){var n=this;this.validator=function(e){n.optional&&!tt(e)||t(e)},this.optional=!!e};function Gt(t,e){function n(t){if(!rt(t))throw"Expected string."}var i,r,o;return t?(r=n,o=t,i=function(t){r(t),o(t)}):i=n,new Qt(i,e)}function Xt(){return new Qt((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||ut()&&t instanceof Blob))throw"Expected Blob or File."}))}function Yt(t){return new Qt(St,t)}function Jt(t){return new Qt(Ot,t)}function Zt(){return new Qt((function(t){if(!(st(t)&&t>=0))throw"Expected a number 0 or greater."}))}function te(t,e){return new Qt((function(e){if(!(null===e||Z(e)&&e instanceof Object))throw"Expected an Object.";void 0!==t&&null!==t&&t(e)}),e)}function ee(t){return new Qt((function(t){if(!(null===t||et(t)))throw"Expected a Function."}),t)}function ne(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var ie=function(){function t(t,e,n,i,r,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=r,this.metadata_=o,this.mappings_=i,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=H,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(p)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(X))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(p)?s.completeTransitions_():(s.error_=t,s.transition_(X))},this.promise_=new Promise((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===H&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case H:t(n);break;case Q:e.transition_(G);break;case q:e.transition_(z)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),s=Vt(e,i,r),a={name:s.fullPath},u=mt(o),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},c=It(s,n),h=t.maxUploadRetryTime(),d=new At(u,"POST",(function(t){var e;Wt(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){Dt(!1)}return Dt(rt(e)),e}),h);return d.urlParams=a,d.headers=l,d.body=c,d.errorHandler=Lt(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var i=function(t,e,n,i){var r=t.maxUploadRetryTime(),o=new At(n,"POST",(function(t){var e=Wt(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Dt(!1)}n||Dt(!1);var r=Number(n);return Dt(!isNaN(r)),new $t(r,i.size(),"final"===e)}),r);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Lt(e),o}(t.authWrapper_,t.location_,e,t.blob_),r=t.authWrapper_.makeRequest(i,n);t.request_=r,r.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new $t(this.transferred_,this.blob_.size()),i=this.uploadUrl_;this.resolveToken_((function(r){var o;try{o=Ht(t.location_,t.authWrapper_,i,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(a){return t.error_=a,void t.transition_(X)}var s=t.authWrapper_.makeRequest(o,r);t.request_=s,s.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(K)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=Rt(t.authWrapper_,t.location_,t.mappings_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(K)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=Vt(e,i,r),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+It(u,n)+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+a+"--",h=ft.getBlob(l,i,c);if(null===h)throw O();var d={name:u.fullPath},f=mt(o),p=t.maxUploadRetryTime(),v=new At(f,"POST",Mt(t,n),p);return v.urlParams=d,v.headers=s,v.body=h.uploadData(),v.errorHandler=Lt(e),v}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(K)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case Q:case q:this.state_=t,null!==this.request_&&this.request_.cancel();break;case H:var e=this.state_===z;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case z:this.state_=t,this.notifyObservers_();break;case G:this.error_=x(),this.state_=t,this.notifyObservers_();break;case X:case K:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case q:this.transition_(z);break;case Q:this.transition_(G);break;case H:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=J(this.state_);return new zt(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,i){function r(){if(t!==W.STATE_CHANGED)throw"Expected one of the event types: ["+W.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=ee(!0).validator,a=te(null,!0).validator;function u(t){try{return void s(t)}catch(e){}try{if(a(t),!(tt(t.next)||tt(t.error)||tt(t.complete)))throw"";return}catch(e){throw o}}var l=[Gt(r),te(u,!0),ee(!0),ee(!0)];Kt("on",l,arguments);var c=this;function h(t){return function(e,n,r){null!==t&&Kt("on",t,arguments);var o=new qt(e,n,i);return c.addObserver_(o),function(){c.removeObserver_(o)}}}function d(t){if(null===t)throw o;u(t)}var f=[te(d),ee(!0),ee(!0)],p=!(tt(e)||tt(n)||tt(i));return p?h(f):h(null)(e,n,i)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(J(this.state_)){case Y.SUCCESS:ne(this.resolve_.bind(null,this.snapshot))();break;case Y.CANCELED:case Y.ERROR:ne(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(J(this.state_)){case Y.RUNNING:case Y.PAUSED:t.next&&ne(t.next.bind(t,this.snapshot))();break;case Y.SUCCESS:t.complete&&ne(t.complete.bind(t))();break;case Y.CANCELED:case Y.ERROR:t.error&&ne(t.error.bind(t,this.error_))();break;default:t.error&&ne(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){Kt("resume",[],arguments);var t=this.state_===z||this.state_===q;return t&&this.transition_(H),t},t.prototype.pause=function(){Kt("pause",[],arguments);var t=this.state_===H;return t&&this.transition_(q),t},t.prototype.cancel=function(){Kt("cancel",[],arguments);var t=this.state_===H||this.state_===q;return t&&this.transition_(Q),t},t}(),re=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof pt?e:pt.makeFromUrl(e)}return t.prototype.toString=function(){return Kt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return kt()},t.prototype.child=function(t){Kt("child",[Gt()],arguments);var e=gt(this.location.path,t),n=new pt(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new pt(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new pt(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return yt(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),Kt("put",[Xt(),Yt(!0)],arguments),this.throwIfRoot_("put"),new ie(this,this.authWrapper,this.location,this.mappings(),new ft(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=N.RAW),Kt("putString",[Gt(),Gt(R,!0),Yt(!0)],arguments),this.throwIfRoot_("putString");var i=F(e,t),r=Object.assign({},n);return!Z(r.contentType)&&Z(i.contentType)&&(r.contentType=i.contentType),new ie(this,this.authWrapper,this.location,this.mappings(),new ft(i.data,!0),r)},t.prototype.delete=function(){var t=this;return Kt("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=Ut(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){Kt("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var n,i,r,s;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return n={pageToken:e},[4,this.list(n)];case 1:return i=o.sent(),(r=t.prefixes).push.apply(r,i.prefixes),(s=t.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,this.listAllHelper(t,i.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){Kt("list",[Jt(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var i=t||{},r=Bt(e.authWrapper,e.location,"/",i.pageToken,i.maxResults);return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return Kt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=Rt(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return Kt("updateMetadata",[Yt()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var i=jt(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return Kt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=Ft(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw A();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new a(k,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),oe=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),se=function(){function t(){this.map=new Map,this.id=-9007199254740991}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),ae=function(){function t(e,n,i,r,o,s){var a;if(this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var u=this.app_.options;Z(u)&&(this.bucket_=t.extractBucket_(u),this.appId_=null!==(a=u.appId)&&void 0!==a?a:null)}this.authProvider_=n,this.storageRefMaker_=i,this.requestMaker_=r,this.pool_=s,this.service_=o,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requestMap_=new se}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:pt.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){var t=this.authProvider_.getImmediate({optional:!0});return t?t.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw M();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new oe(M());var n=this.requestMaker_(t,this.appId_,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}();var ue=function(){function t(t,e,n,i,r,o,s,a,u,l,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=l,this.timeout_=u,this.pool_=c,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var i,r=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var u=t.callback_(s,s.getResponseText());tt(u)?r(u):r()}catch(l){o(l)}else null!==s?((i=S()).setServerResponseProp(s.getResponseText()),t.errorCallback_?o(t.errorCallback_(s,i)):o(i)):n.canceled?o(i=t.appDelete_?M():x()):o(i=new a(f,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new le(!1,null,!0)):this.backoffId_=function(t,e,n){var i=1,r=null,s=!1,a=0;function u(){return 2===a}var l=!1;function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];l||(l=!0,e.apply(null,t))}function h(e){r=setTimeout((function(){r=null,t(d,u())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)c.call.apply(c,Object(o.__spreadArrays)([null,t],e));else{var r,d=u()||s;if(d)c.call.apply(c,Object(o.__spreadArrays)([null,t],e));else i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r)}}var f=!1;function p(t){f||(f=!0,l||(null!==r?(t||(a=2),clearTimeout(r),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),n),p}((function(e,n){if(n)e(!1,new le(!1,null,!0));else{var i=t.pool_.createXhrIo();t.pendingXhr_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(r),t.pendingXhr_=null;var i=(n=n).getErrorCode()===$.NO_ERROR,o=n.getStatus();if(i&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new le(s,n))}else{var a=n.getErrorCode()===$.ABORT;e(!1,new le(!1,null,a))}}))}function r(e){var n=e.loaded,i=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,i)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||i},t}(),le=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function ce(t,e,n,i){var o=_t(t.urlParams),s=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t){var e="undefined"!==typeof r.a?r.a.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(a),new ue(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}var he=function(){function t(t,e,n,i){if(this.bucket_=null,this.authWrapper_=new ae(t,e,(function(t,e){return new re(t,e)}),ce,this,n),this.app_=t,null!=i)this.bucket_=pt.makeFromBucketSpec(i);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new pt(r,""))}this.internals_=new de(this)}return t.prototype.ref=function(t){function e(t){if("string"!==typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(Kt("ref",[Gt(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new re(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!==typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{pt.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return Kt("refFromURL",[Gt(e,!1)],arguments),new re(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){Kt("setMaxUploadRetryTime",[Zt()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){Kt("setMaxOperationRetryTime",[Zt()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),de=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}();function fe(t,e){var n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new he(n,i,new ct,e)}function pe(t){var e={TaskState:Y,TaskEvent:W,StringFormat:N,Storage:he,Reference:re};t.INTERNAL.registerComponent(new s.Component("storage",fe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.3.38")}pe(r.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n(2))&&"object"===typeof i&&"default"in i?i.default:i;n(19);var o,s,a,u,l=n(0),c=n(7),h=n(12),d=n(5),f=((o={})["trace started"]="Trace {$traceName} was started before.",o["trace stopped"]="Trace {$traceName} is not running.",o["no window"]="Window is not available.",o["no app id"]="App id is not available.",o["no project id"]="Project id is not available.",o["no api key"]="Api key is not available.",o["invalid cc log"]="Attempted to queue invalid cc event",o["FB not default"]="Performance can only start when Firebase app instance is the default one.",o["RC response not ok"]="RC response is not ok",o["invalid attribute name"]="Attribute name {$attributeName} is invalid.",o["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",o["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",o["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",o),p=new c.ErrorFactory("performance","Performance",f),v=function(){function t(t){if(this.window=t,!t)throw p.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,i=t.getEntries();n<i.length;n++){var r=i[n];e(r)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===s&&(s=new t(a)),s},t}();function g(t,e){var n=t.length-e.length;if(n<0||n>1)throw p.create("invalid String merger input");for(var i=[],r=0;r<t.length;r++)i.push(t.charAt(r)),e.length>r&&i.push(e.charAt(r));return i.join("")}var y,m,_=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=g("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=g("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw p.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw p.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw p.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===u&&(u=new t),u},t}();function b(){return y}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(m||(m={}));var w=["firebase_","google_","ga_"],E=new RegExp("^[a-zA-Z]\\w*$");function k(){var t=v.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function C(){switch(v.getInstance().document.visibilityState){case"visible":return m.VISIBLE;case"hidden":return m.HIDDEN;default:return m.UNKNOWN}}function T(){var t=v.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var I=new h.Logger("Performance");I.logLevel=h.LogLevel.INFO;var S=!0;function x(t){var e=function(){var t=v.getInstance().localStorage;if(!t)return;var e=t.getItem("@firebase/performance/configexpire");if(!e||(n=e,!(Number(n)>Date.now())))return;var n;var i=t.getItem("@firebase/performance/config");if(!i)return;try{return JSON.parse(i)}catch(o){return}}();return e?(O(e),Promise.resolve()):function(t){return function(){var t=_.getInstance().installationsService.getToken();return t.then((function(t){})),t}().then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+_.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+_.getInstance().getApiKey(),i=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:_.getInstance().getAppId(),app_version:"0.3.9",sdk_version:"0.0.1"})});return fetch(i).then((function(t){if(t.ok)return t.json();throw p.create("RC response not ok")}))})).catch((function(){I.info("Could not fetch config, will use default configs")}))}(t).then(O).then((function(t){return function(t){var e=v.getInstance().localStorage;if(!t||!e)return;e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*_.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}function O(t){if(!t)return t;var e=_.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=S,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=A(e.tracesSamplingRate),e.logNetworkAfterSampling=A(e.networkRequestsSamplingRate),t}function A(t){return Math.random()<=t}var D,M=1;function P(){return M=2,D=D||function(){var t=v.getInstance().document;return new Promise((function(e){t&&"complete"!==t.readyState?t.addEventListener("readystatechange",(function n(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())})):e()}))}().then((function(){return function(){var t=_.getInstance().installationsService.getId();return t.then((function(t){y=t})),t}()})).then((function(t){return x(t)})).then((function(){return L()}),(function(){return L()}))}function L(){M=3}var N,R=3,B=[],F=!1;function j(t){setTimeout((function(){if(0!==R)return B.length?void function(){var t=l.__spreadArrays(B);B=[];var e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(t,e){return function(t){var e=_.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||I.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),i=1e4;isNaN(n)||(i=Math.max(n,i));var r=t.logResponseDetails;Array.isArray(r)&&r.length>0&&"RETRY_REQUEST_LATER"===r[0].responseAction&&(B=l.__spreadArrays(e,B),I.info("Retry transport request later.")),R=3,j(i)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:_.getInstance().logSource,log_event:e},t).catch((function(){B=l.__spreadArrays(t,B),R--,I.info("Tries left: "+R+"."),j(1e4)}))}():j(1e4)}),t)}function U(t){if(!t.eventTime||!t.message)throw p.create("invalid cc log");B=l.__spreadArrays(B,[t])}function V(t,e){N||(N=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.apply(void 0,e);U({message:i,eventTime:Date.now()})}}(H)),N(t,e)}function $(t){var e=_.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&v.getInstance().requiredApisAvailable()&&(t.isAuto&&C()!==m.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(3===M?W(t):P().then((function(){return W(t)}),(function(){return W(t)}))))}function W(t){b()&&setTimeout((function(){return V(t,1)}),0)}function H(t,e){return 0===e?function(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:q(),network_request_metric:e};return JSON.stringify(n)}(t):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var i={application_info:q(),trace_metric:e};return JSON.stringify(i)}(t)}function q(){return{google_app_id:_.getInstance().getAppId(),app_instance_id:b(),web_app_info:{sdk_version:"0.3.9",page_url:v.getInstance().getUrl(),service_worker_status:k(),visibility_state:C(),effective_connection_type:T()},application_process_state:0}}var z=["_fp","_fcp","_fid"];var K=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=v.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw p.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw p.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),$(this)},t.prototype.record=function(t,e,n){if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=l.__assign({},n.attributes)),n&&n.metrics)for(var i=0,r=Object.keys(n.metrics);i<r.length;i++){var o=r[i];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}$(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]&&this.putMetric(t,0),this.counters[t]+=e},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&z.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw p.create("invalid custom metric name",{customMetricName:t});this.counters[t]=e},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40)&&(!w.some((function(e){return t.startsWith(e)}))&&!!t.match(E))}(t),i=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&i)this.customAttributes[t]=e;else{if(!n)throw p.create("invalid attribute name",{attributeName:t});if(!i)throw p.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return l.__assign({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,i){var r=v.getInstance().getUrl();if(r){var o=new t("_wt_"+r,!0),s=Math.floor(1e3*v.getInstance().getTimeOrigin());o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}$(o)}},t.createUserTimingTrace=function(e){$(new t(e,!1,e))},t}();function Q(t){var e=t;if(e&&void 0!==e.responseStart){var n=v.getInstance().getTimeOrigin(),i=Math.floor(1e3*(e.startTime+n)),r=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=_.getInstance();if(e.instrumentationEnabled){var n=t.url,i=e.logEndPointUrl.split("?")[0],r=e.flTransportEndpointUrl.split("?")[0];n!==i&&n!==r&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return V(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:i,timeToResponseInitiatedUs:r,timeToResponseCompletedUs:o})}}function G(){b()&&(setTimeout((function(){return function(){var t=v.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var i=setTimeout((function(){K.createOobTrace(e,n),i=void 0}),5e3);t.onFirstInputDelay((function(t){i&&(clearTimeout(i),K.createOobTrace(e,n,t))}))}else K.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=v.getInstance(),e=t.getEntriesByType("resource"),n=0,i=e;n<i.length;n++){Q(i[n])}t.setupObserver("resource",Q)}()}),0),setTimeout((function(){return function(){for(var t=v.getInstance(),e=t.getEntriesByType("measure"),n=0,i=e;n<i.length;n++){X(i[n])}t.setupObserver("measure",X)}()}),0))}function X(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&K.createUserTimingTrace(e)}var Y=function(){function t(t){this.app=t,v.getInstance().requiredApisAvailable()?(F||(j(5500),F=!0),P().then(G,G)):I.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return t.prototype.trace=function(t){return new K(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return _.getInstance().instrumentationEnabled},set:function(t){_.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return _.getInstance().dataCollectionEnabled},set:function(t){_.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();function J(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw p.create("FB not default");if("undefined"===typeof window)throw p.create("no window");return function(t){a=t}(window),_.getInstance().firebaseAppInstance=t,_.getInstance().installationsService=e,new Y(t)};t.INTERNAL.registerComponent(new d.Component("performance",(function(t){var n=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();return e(n,i)}),"PUBLIC")),t.registerVersion("@firebase/performance","0.3.9")}J(r),e.registerPerformance=J},function(t,e,n){"use strict";n.r(e),n.d(e,"factory",(function(){return I})),n.d(e,"getGlobalVars",(function(){return C})),n.d(e,"registerAnalytics",(function(){return S})),n.d(e,"resetGlobalVars",(function(){return k})),n.d(e,"settings",(function(){return T}));var i,r,o=n(2),s=n.n(o),a=(n(19),n(0)),u=n(12),l=n(7),c=n(5),h="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(i||(i={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(r||(r={}));var d,f=new u.Logger("@firebase/analytics");function p(t,e,n){var r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];window[e].push(arguments)};return window[n]&&"function"===typeof window[n]&&(r=window[n]),window[n]=function(t,e){return function(n,r,o){if(n===i.EVENT){var s=[];if(o&&o.send_to){var a=o.send_to;Array.isArray(a)||(a=[a]);for(var u=0,l=a;u<l.length;u++){var c=l[u],h=e[c];if(!h){s=[];break}s.push(h)}}if(0===s.length)for(var d=0,p=Object.values(e);d<p.length;d++){var v=p[d];s.push(v)}Promise.all(s).then((function(){return t(i.EVENT,r,o||{})})).catch((function(t){return f.error(t)}))}else if(n===i.CONFIG){(e[r]||Promise.resolve()).then((function(){t(i.CONFIG,r,o)})).catch((function(t){return f.error(t)}))}else t(i.SET,r)}}(r,t),{gtagCore:r,wrappedGtag:window[n]}}var v,g,y=((d={})["no-ga-id"]='"measurementId" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',d["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",d["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",d["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",d),m=new l.ErrorFactory("analytics","Analytics",y),_={},b="dataLayer",w="gtag",E=!1;function k(t,e){void 0===t&&(t=!1),void 0===e&&(e={}),E=t,_=e,b="dataLayer",w="gtag"}function C(){return{initializedIdPromisesMap:_}}function T(t){if(E)throw m.create("already-initialized");t.dataLayerName&&(b=t.dataLayerName),t.gtagName&&(w=t.gtagName)}function I(t,e){var n=t.options.measurementId;if(!n)throw m.create("no-ga-id");if(null!=_[n])throw m.create("already-exists",{id:n});if(!E){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var i=n[e];if(i.src&&i.src.includes(h))return i}return null})()||function(t){var e=document.createElement("script");e.src=h+"?l="+t,e.async=!0,document.head.appendChild(e)}(b),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(b);var r=p(_,b,w),o=r.wrappedGtag,s=r.gtagCore;g=o,v=s,E=!0}return _[n]=function(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,o;return Object(a.__generator)(this,(function(s){switch(s.label){case 0:return[4,e.getId()];case 1:return r=s.sent(),n("js",new Date),n(i.CONFIG,t.options.measurementId,((o={}).firebase_id=r,o.origin="firebase",o.update=!0,o)),[2]}}))}))}(t,e,v),{app:t,logEvent:function(t,e,r){return function(t,e,n,r,o){var s=r||{};o&&o.global||(s=Object(a.__assign)(Object(a.__assign)({},r),{send_to:e})),t(i.EVENT,n,s||{})}(g,n,t,e,r)},setCurrentScreen:function(t,e){return function(t,e,n,r){r&&r.global?t(i.SET,{screen_name:n}):t(i.CONFIG,e,{update:!0,screen_name:n})}(g,n,t,e)},setUserId:function(t,e){return function(t,e,n,r){r&&r.global?t(i.SET,{user_id:n}):t(i.CONFIG,e,{update:!0,user_id:n})}(g,n,t,e)},setUserProperties:function(t,e){return function(t,e,n,r){if(r&&r.global){for(var o={},s=0,a=Object.keys(n);s<a.length;s++){var u=a[s];o["user_properties."+u]=n[u]}t(i.SET,o)}else t(i.CONFIG,e,{update:!0,user_properties:n})}(g,n,t,e)},setAnalyticsCollectionEnabled:function(t){return function(t,e){window["ga-disable-"+t]=!e}(n,t)}}}function S(t){t.INTERNAL.registerComponent(new c.Component("analytics",(function(t){return I(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:T,EventName:r})),t.INTERNAL.registerComponent(new c.Component("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(e){throw m.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.3.9")}S(s.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n(2))&&"object"===typeof i&&"default"in i?i.default:i;n(19);var o,s=n(0),a=n(7),u=n(12),l=n(5),c=function(){function t(t,e,n,i){this.client=t,this.storage=e,this.storageCache=n,this.logger=i}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,i=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+i+"."),i},t.prototype.fetch=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,o;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(i=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return r=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===r.status&&o.push(this.storage.setLastSuccessfulFetchResponse(r)),[4,Promise.all(o)];case 3:return s.sent(),[2,r]}}))}))},t}(),h=((o={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",o["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",o["registration-api-key"]="Undefined API key. Check Firebase app initialization.",o["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",o["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",o["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",o["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",o["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",o["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",o["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',o["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',o["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",o["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",o),d=new a.ErrorFactory("remoteconfig","Remote Config",h);var f=function(){function t(t,e,n,i,r,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=i,this.apiKey=r,this.appId=o}return t.prototype.fetch=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,o,a,u,l,c,h,f,p,v,g,y,m,_,b,w;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=s.sent(),n=e[0],i=e[1],r=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=r+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},u={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:i,app_id:this.appId,language_code:(void 0===E&&(E=navigator),E.languages&&E.languages[0]||E.language)},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),h=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),s.label=2;case 2:return s.trys.push([2,5,,6]),[4,Promise.race([c,h])];case 3:return s.sent(),[4,c];case 4:return f=s.sent(),[3,6];case 5:throw p=s.sent(),v="fetch-client-network","AbortError"===p.name&&(v="fetch-timeout"),d.create(v,{originalErrorMessage:p.message});case 6:if(g=f.status,y=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];b=void 0,s.label=7;case 7:return s.trys.push([7,9,,10]),[4,f.json()];case 8:return b=s.sent(),[3,10];case 9:throw w=s.sent(),d.create("fetch-client-parse",{originalErrorMessage:w.message});case 10:m=b.entries,_=b.state,s.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===_?g=500:"NO_CHANGE"===_?g=304:"NO_TEMPLATE"!==_&&"EMPTY_CONFIG"!==_||(m={}),304!==g&&200!==g)throw d.create("fetch-status",{httpStatus:g});return[2,{status:g,eTag:y,config:m}]}var E}))}))},t}(),p=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),v=["1","true","t","yes","y","on"],g=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&v.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),y=function(){function t(t,e,n,i,r){this.app=t,this._client=e,this._storageCache=n,this._storage=i,this._logger=r,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=u.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=u.LogLevel.SILENT;break;default:this._logger.logLevel=u.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e,n;return s.__generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return i.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e,n,i=this;return s.__generator(this,(function(r){switch(r.label){case 0:t=new p,setTimeout((function(){return s.__awaiter(i,void 0,void 0,(function(){return s.__generator(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return r.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return r.sent(),[3,6];case 4:return e=r.sent(),u="fetch-throttle",n=(o=e)instanceof a.FirebaseError&&-1!==o.code.indexOf(u)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw r.sent(),e;case 6:return[2]}var o,u}))}))},t.prototype.fetchAndActivate=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(s.__assign(s.__assign({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new g("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new g("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new g("static"))},t}();function m(t,e){var n=t.target.error||void 0;return d.create(e,{originalErrorMessage:n&&n.message})}var _=function(){function t(t,e,n,i){void 0===i&&(i=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(m(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n=this;return s.__generator(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise((function(i,r){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){r(m(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;i(e?e.value:void 0)}}catch(u){r(d.create("storage-get",{originalErrorMessage:u&&u.message}))}}))]}}))}))},t.prototype.set=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n,i=this;return s.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return n=r.sent(),[2,new Promise((function(r,o){var s=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=i.createCompositeKey(t);try{var u=s.put({compositeKey:a,value:e});u.onerror=function(t){o(m(t,"storage-set"))},u.onsuccess=function(){r()}}catch(l){o(d.create("storage-set",{originalErrorMessage:l&&l.message}))}}))]}}))}))},t.prototype.delete=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n=this;return s.__generator(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise((function(i,r){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){r(m(t,"storage-delete"))},a.onsuccess=function(){i()}}catch(u){r(d.create("storage-delete",{originalErrorMessage:u&&u.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),b=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,r,o;return s.__generator(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(i=s.sent())&&(this.lastFetchStatus=i),[4,e];case 2:return(r=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=r),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function w(t){var e=1e3*Math.pow(2,t),n=Math.round(.5*e*(Math.random()-.5)*2);return Math.min(144e5,e+n)}function E(t,e){return new Promise((function(n,i){var r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener((function(){clearTimeout(o),i(d.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var k=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e;return s.__generator(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,i=e.backoffCount;return s.__awaiter(this,void 0,void 0,(function(){var e,r,o;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,E(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof a.FirebaseError))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}(r=s.sent()))throw r;return o={throttleEndTimeMillis:Date.now()+w(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),C="@firebase/remote-config";function T(t){t.INTERNAL.registerComponent(new l.Component("remoteConfig",(function(e,n){var i=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw d.create("registration-window");var o=i.options,s=o.projectId,a=o.apiKey,l=o.appId;if(!s)throw d.create("registration-project-id");if(!a)throw d.create("registration-api-key");if(!l)throw d.create("registration-app-id");n=n||"firebase";var h=new _(l,i.name,n),p=new b(h),v=new u.Logger(C);v.logLevel=u.LogLevel.ERROR;var g=new f(r,t.SDK_VERSION,n,s,a,l),m=new k(g,h),w=new c(m,h,p,v),E=new y(i,w,p,h,v);return E.ensureInitialized(),E}),"PUBLIC").setMultipleInstances(!0)),t.registerVersion(C,"0.1.25")}T(r),e.registerRemoteConfig=T},function(t,e,n){"use strict";n(27)}]]);
//# sourceMappingURL=2.0bf57b54.chunk.js.map